{"version":3,"sources":["../src/helpers/index.js","../src/helpers/dateCompareAsc.js","../src/helpers/dateCompareDesc.js","../src/helpers/defaultNumeric.js","../src/helpers/defaultValue.js","../src/helpers/isInstanceOf.js","../src/helpers/isNumber.js","../src/helpers/isObject.js","../src/utils/index.js","../src/utils/assign.js","../src/utils/base64From.js","../src/utils/base64FromBase64URLSafe.js","../src/utils/toString.js","../src/utils/base64To.js","../src/utils/base64FromBuffer.js","../src/utils/base64ToBuffer.js","../src/utils/base64URLEncode.js","../src/utils/bufferCompare.js","../src/utils/bufferConcatenate.js","../src/utils/bufferFromString.js","../src/utils/bufferToString.js","../src/utils/calculateSecondsInTime.js","../src/utils/cleanObject.js","../src/utils/currencyBRToFloat.js","../src/constants.js","../src/utils/dateToFormat.js","../src/utils/dateFirstHourOfDay.js","../src/utils/dateLastHourOfDay.js","../src/utils/debouncer.js","../src/utils/deleteKeys.js","../src/utils/generateSimpleId.js","../src/utils/generateRandomString.js","../src/utils/getExecutionTime.js","../src/utils/JSONFrom.js","../src/utils/JSONTo.js","../src/crypto/getCrypto.js","../src/crypto/importCryptoKey.js","../src/crypto/encryptBuffer.js","../src/utils/messageEncryptToChunks.js","../src/crypto/decryptBuffer.js","../src/utils/messageDecryptFromChunks.js","../src/utils/normalize.js","../src/utils/pickKeys.js","../src/utils/pushLogMessage.js","../src/utils/regexDigitsOnly.js","../src/utils/regexReplaceTrim.js","../src/utils/regexLettersOnly.js","../src/utils/removeDuplicatedStrings.js","../src/utils/sleep.js","../src/utils/split.js","../src/utils/stringCompress.js","../src/utils/stringDecompress.js","../src/utils/stringToDate.js","../src/utils/stringToDateToFormat.js","../src/utils/stringToFormat.js","../src/utils/stringZLibCompress.js","../src/utils/stringZLibDecompress.js","../src/utils/throttle.js","../src/utils/timestamp.js","../src/utils/uint8ArrayFromString.js","../src/utils/uint8ArrayToString.js","../src/validators/index.js","../src/validators/validateCADICMSPR.js","../src/validators/validateCEP.js","../src/validators/validateCNPJ.js","../src/validators/validateCPF.js","../src/validators/validateEmail.js","../src/validators/validateChavePix.js","../src/validators/validateCNH.js","../src/validators/validatePISPASEPNIT.js","../src/validators/validateRenavam.js","../src/validators/validateTituloEleitor.js","../src/validators/validateRG.js","../src/crypto/index.js","../src/crypto/decrypt.js","../src/crypto/encrypt.js","../src/crypto/digest.js","../src/crypto/verifySignature.js","../src/auth/webauthn/index.js","../src/auth/webauthn/convertECDSAASN1Signature.js","../src/auth/webauthn/getAuthenticationAuthData.js","../src/auth/webauthn/getRegistrationAuthData.js","../src/auth/webauthn/getWebAuthnAuthenticationAssertion.js","../src/auth/webauthn/getWebAuthnRegistrationCredential.js","../src/auth/webauthn/validateRPID.js","../src/auth/webauthn/validateAuthentication.js","../src/auth/webauthn/validateRegistration.js","../src/custom/db/sequelize/index.js","../src/custom/db/sequelize/setConditionsBetweenDates.js","../src/custom/db/sequelize/setConditionsBetweenValues.js","../src/custom/db/sequelize/setConditionStringLike.js","../src/custom/bulkProcessor.js","../src/custom/waitPlugin.js","../src/custom/index.js","../src/index.js"],"sourcesContent":["import dateCompareAsc from \"./dateCompareAsc.js\";\nimport dateCompareDesc from \"./dateCompareDesc.js\";\nimport defaultNumeric from \"./defaultNumeric.js\";\nimport defaultValue from \"./defaultValue.js\";\nimport isInstanceOf from \"./isInstanceOf.js\";\nimport isNumber from \"./isNumber.js\";\nimport isObject from \"./isObject.js\";\n\n// Named exports para importa√ß√£o individual\nexport {\n  dateCompareAsc,\n  dateCompareDesc,\n  defaultNumeric,\n  defaultValue,\n  isInstanceOf,\n  isNumber,\n  isObject\n};\n\n// Default export para compatibilidade\nexport default {\n  dateCompareAsc,\n  dateCompareDesc,\n  defaultNumeric,\n  defaultValue,\n  isInstanceOf,\n  isNumber,\n  isObject,\n};","/**\n * @fileoverview Fornece uma fun√ß√£o para comparar se uma data √© anterior a outra.\n * O c√≥digo √© compat√≠vel com ambientes Node.js e navegadores.\n */\n\n/**\n * Compara duas datas para determinar se a primeira (dateA) √© anterior √† segunda (dateB).\n *\n * @summary Verifica se a data A √© anterior √† data B.\n * @description Esta fun√ß√£o compara duas inst√¢ncias de Date. Ela oferece op√ß√µes para\n * ignorar a parte de horas/minutos/segundos, incluir datas iguais na valida√ß√£o e\n * controlar o comportamento em caso de erro.\n *\n * @param {Date} dateA A data que se espera ser a mais antiga.\n * @param {Date} dateB A data que se espera ser a mais recente.\n * @param {object} [options={}] Op√ß√µes para customizar o comportamento da compara√ß√£o.\n * @param {boolean} [options.considerHMS=false] Se `true`, a compara√ß√£o inclui horas, minutos e segundos. Se `false`, apenas ano, m√™s e dia s√£o considerados.\n * @param {boolean} [options.considerEquals=false] Se `true`, a fun√ß√£o retorna `true` caso as datas sejam id√™nticas. Se `false`, retorna `false`.\n * @param {boolean} [options.ignoreErrors=false] Se `true`, retorna `null` caso os par√¢metros n√£o sejam inst√¢ncias de Date. Se `false`, lan√ßa um erro.\n * @returns {boolean|null} Retorna `true` se `dateA` for anterior (ou igual, se `considerEquals` for `true`) a `dateB`. Retorna `null` em caso de erro com `ignoreErrors` ativado.\n * @throws {TypeError} Lan√ßa um erro se `dateA` ou `dateB` n√£o forem objetos Date e `ignoreErrors` for `false`.\n */\nfunction dateCompareAsc(dateA, dateB, options = {}) {\n  // 1. Configura√ß√£o e Valida√ß√£o dos Par√¢metros\n  const finalOptions = {\n    considerHMS: false,\n    ignoreErrors: false,\n    considerEquals: false,\n    ...options,\n  };\n\n  if (!(dateA instanceof Date) || !(dateB instanceof Date)) {\n    if (finalOptions.ignoreErrors) {\n      return null;\n    }\n    // Lan√ßa um erro mais espec√≠fico (TypeError) para o tipo de problema.\n    const paramName = !(dateA instanceof Date) ? \"dateA\" : \"dateB\";\n    throw new TypeError(\n      `dateCompareAsc Function: ${paramName} provided is not a Date Object`\n    );\n  }\n\n  // 2. L√≥gica de Compara√ß√£o\n  // O bloco try/catch √© mantido para lidar com datas inv√°lidas (ex: new Date('string-invalida')),\n  // que s√£o inst√¢ncias de Date, mas cujos m√©todos (getFullYear, etc.) lan√ßam erros.\n  try {\n    let timeA;\n    let timeB;\n\n    // Remove a parte de horas, minutos e segundos, se a op√ß√£o estiver desativada.\n    if (!finalOptions.considerHMS) {\n      timeA = new Date(\n        dateA.getFullYear(),\n        dateA.getMonth(),\n        dateA.getDate()\n      ).getTime();\n      timeB = new Date(\n        dateB.getFullYear(),\n        dateB.getMonth(),\n        dateB.getDate()\n      ).getTime();\n    } else {\n      timeA = dateA.getTime();\n      timeB = dateB.getTime();\n    }\n\n    // A express√£o booleana combina as duas condi√ß√µes para um retorno verdadeiro.\n    // 1. timeA √© estritamente menor que timeB.\n    // 2. timeA √© igual a timeB E a op√ß√£o 'considerEquals' est√° ativada.\n    return timeA < timeB || (timeA === timeB && finalOptions.considerEquals);\n  } catch (error) {\n    if (finalOptions.ignoreErrors) {\n      return null;\n    }\n    // Re-lan√ßa o erro original se a op√ß√£o de ignorar n√£o estiver ativa.\n    throw error;\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default dateCompareAsc;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para comparar se uma data √© posterior a outra.\n * O c√≥digo √© compat√≠vel com ambientes Node.js e navegadores.\n */\n\n/**\n * Compara duas datas para determinar se a primeira (dateA) √© posterior √† segunda (dateB).\n *\n * @summary Verifica se a data A √© posterior √† data B.\n * @description Esta fun√ß√£o compara duas inst√¢ncias de Date. Ela oferece op√ß√µes para\n * ignorar a parte de horas/minutos/segundos, incluir datas iguais na valida√ß√£o e\n * controlar o comportamento em caso de erro.\n *\n * @param {Date} dateA A data que se espera ser a mais recente.\n * @param {Date} dateB A data que se espera ser a mais antiga.\n * @param {object} [options={}] Op√ß√µes para customizar o comportamento da compara√ß√£o.\n * @param {boolean} [options.considerHMS=false] Se `true`, a compara√ß√£o inclui horas, minutos e segundos. Se `false`, apenas ano, m√™s e dia s√£o considerados.\n * @param {boolean} [options.considerEquals=false] Se `true`, a fun√ß√£o retorna `true` caso as datas sejam id√™nticas. Se `false`, retorna `false`.\n * @param {boolean} [options.ignoreErrors=false] Se `true`, retorna `null` caso os par√¢metros n√£o sejam inst√¢ncias de Date. Se `false`, lan√ßa um erro.\n * @returns {boolean|null} Retorna `true` se `dateA` for posterior (ou igual, se `considerEquals` for `true`) a `dateB`. Retorna `null` em caso de erro com `ignoreErrors` ativado.\n * @throws {Error} Lan√ßa um erro se `dateA` ou `dateB` n√£o forem objetos Date e `ignoreErrors` for `false`.\n */\nfunction dateCompareDesc(dateA, dateB, options = {}) {\n  // 1. Configura√ß√£o e Valida√ß√£o dos Par√¢metros\n  const finalOptions = {\n    considerHMS: false,\n    ignoreErrors: false,\n    considerEquals: false,\n    ...options,\n  };\n\n  // Valida 'dateA' e mant√©m a mensagem de erro original.\n  if (!(dateA instanceof Date)) {\n    if (finalOptions.ignoreErrors) {\n      return null;\n    }\n    throw new Error(\n      \"dateCompareDesc Function: dateA provided is not a Date Object\"\n    );\n  }\n\n  // Valida 'dateB' e mant√©m a mensagem de erro original.\n  if (!(dateB instanceof Date)) {\n    if (finalOptions.ignoreErrors) {\n      return null;\n    }\n    throw new Error(\n      \"dateCompareDesc Function: dateB provided is not a Date Object\"\n    );\n  }\n\n  // 2. L√≥gica de Compara√ß√£o\n  try {\n    let timeA;\n    let timeB;\n\n    // Remove a parte de horas, minutos e segundos, se a op√ß√£o estiver desativada.\n    if (!finalOptions.considerHMS) {\n      timeA = new Date(\n        dateA.getFullYear(),\n        dateA.getMonth(),\n        dateA.getDate()\n      ).getTime();\n      timeB = new Date(\n        dateB.getFullYear(),\n        dateB.getMonth(),\n        dateB.getDate()\n      ).getTime();\n    } else {\n      timeA = dateA.getTime();\n      timeB = dateB.getTime();\n    }\n\n    // A express√£o booleana combina as duas condi√ß√µes para um retorno verdadeiro.\n    // 1. timeA √© estritamente maior que timeB.\n    // 2. timeA √© igual a timeB E a op√ß√£o 'considerEquals' est√° ativada.\n    return timeA > timeB || (timeA === timeB && finalOptions.considerEquals);\n  } catch (error) {\n    if (finalOptions.ignoreErrors) {\n      return null;\n    }\n    // Re-lan√ßa o erro original se a op√ß√£o de ignorar n√£o estiver ativa.\n    throw error;\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default dateCompareDesc;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para retornar um valor num√©rico v√°lido ou um valor\n * padr√£o caso o valor principal seja inv√°lido.\n */\n\n/**\n * Retorna um valor num√©rico v√°lido ou o valor padr√£o (`defaultValue`) caso o valor\n * verificado (`checkValue`) n√£o seja um n√∫mero finito ou seja menor que 1.\n *\n * @summary Retorna um valor num√©rico v√°lido ou o valor padr√£o fornecido.\n * @description Esta fun√ß√£o garante que o valor retornado seja um n√∫mero inteiro, finito\n * e maior ou igual a 1. Caso contr√°rio, retorna o valor padr√£o fornecido. √â √∫til para\n * cen√°rios onde limites, quantidades ou √≠ndices n√£o podem ser negativos, nulos, NaN ou infinitos.\n *\n * @param {*} checkValue - O valor a ser verificado.\n * @param {number} defaultValue - O valor padr√£o a ser retornado caso `checkValue` seja inv√°lido.\n * @returns {number} Retorna o n√∫mero validado ou `defaultValue` caso `checkValue` seja inv√°lido.\n * @example\n * // Casos de substitui√ß√£o\n * defaultNumeric(\"abc\", 10);     // Retorna 10\n * defaultNumeric(NaN, 5);        // Retorna 5\n * defaultNumeric(-3, 1);         // Retorna 1\n * defaultNumeric(Infinity, 2);   // Retorna 2\n *\n * // Casos v√°lidos\n * defaultNumeric(7, 1);          // Retorna 7\n * defaultNumeric(\"12\", 1);       // Retorna 12\n * defaultNumeric(1.9, 1);        // Retorna 1 (arredondado para baixo)\n */\nfunction defaultNumeric(checkValue, defaultValue) {\n  const num = Number(checkValue);\n  return Number.isFinite(num) && !isNaN(num) ? num : defaultValue;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default defaultNumeric;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para retornar um valor padr√£o caso o valor\n * principal seja nulo ou indefinido.\n */\n\n/**\n * Retorna um valor padr√£o (`defaultValue`) se o valor verificado (`checkValue`) for `null` ou `undefined`.\n *\n * @summary Retorna um valor padr√£o para valores nulos ou indefinidos.\n * @description Esta fun√ß√£o √© um substituto seguro para o operador `||` em casos onde valores\n * como `0`, `false` ou `''` (string vazia) s√£o considerados v√°lidos e n√£o devem ser\n * substitu√≠dos pelo valor padr√£o.\n *\n * @param {*} checkValue - O valor a ser verificado.\n * @param {*} defaultValue - O valor padr√£o a ser retornado caso `checkValue` seja `null` ou `undefined`.\n * @returns {*} Retorna `checkValue` se ele n√£o for nulo ou indefinido; caso contr√°rio, retorna `defaultValue`.\n * @example\n * // Casos de substitui√ß√£o\n * defaultValue(null, \"padr√£o\");       // Retorna \"padr√£o\"\n * defaultValue(undefined, 100);    // Retorna 100\n *\n * // Casos de n√£o substitui√ß√£o (valores \"falsy\" v√°lidos)\n * defaultValue(0, 10);               // Retorna 0\n * defaultValue(\"\", \"texto\");         // Retorna \"\"\n * defaultValue(false, true);         // Retorna false\n *\n * // Caso com valor v√°lido\n * defaultValue(\"ol√°\", \"mundo\");      // Retorna \"ol√°\"\n */\nfunction defaultValue(checkValue, defaultValue) {\n  // O operador de coalesc√™ncia nula (??) executa a mesma l√≥gica da fun√ß√£o original\n  // de forma nativa, concisa e perform√°tica.\n  return checkValue ?? defaultValue;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default defaultValue;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o utilit√°ria que encapsula o operador nativo \"instanceof\".\n */\n\n/**\n * Verifica se um objeto √© uma inst√¢ncia de um determinado tipo (construtor).\n *\n * @summary Verifica se um objeto pertence a uma determinada classe ou tipo.\n * @description Esta fun√ß√£o √© um encapsulamento direto do operador `instanceof` do JavaScript.\n * Ele verifica se a propriedade `prototype` de um construtor aparece em algum lugar\n * na cadeia de prot√≥tipos de um objeto.\n *\n * @param {*} object - O objeto a ser verificado.\n * @param {Function} instanceType - O construtor (classe) contra o qual o objeto ser√° verificado.\n * @returns {boolean} Retorna `true` se o objeto for uma inst√¢ncia do tipo fornecido; caso contr√°rio, `false`.\n * @throws {TypeError} Lan√ßa um erro se `instanceType` n√£o for um objeto com um construtor\n * (ex: `null`, `undefined`), replicando o comportamento nativo do operador `instanceof`.\n *\n * @example\n * // Usando construtores nativos\n * isInstanceOf(new Date(), Date);     // Retorna true\n * isInstanceOf([], Array);           // Retorna true\n * isInstanceOf(\"texto\", String);     // Retorna false (primitivas n√£o s√£o inst√¢ncias diretas)\n *\n * // Usando classes personalizadas\n * class Carro {}\n * const meuCarro = new Carro();\n * isInstanceOf(meuCarro, Carro);      // Retorna true\n */\nfunction isInstanceOf(object, instanceType) {\n  // A fun√ß√£o √© um encapsulamento direto do operador nativo 'instanceof'.\n  // Esta √© a forma mais perform√°tica e direta de realizar a verifica√ß√£o.\n  return object instanceof instanceType;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default isInstanceOf;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para verificar se um valor √© um n√∫mero finito.\n */\n\n/**\n * Verifica se um valor fornecido √© um n√∫mero finito.\n *\n * @summary Verifica se um valor √© um n√∫mero real e finito.\n * @description Esta fun√ß√£o determina se o valor fornecido √© do tipo `number` e n√£o √©\n * `NaN`, `Infinity` ou `-Infinity`. Diferente de outras verifica√ß√µes como `!isNaN()`,\n * esta fun√ß√£o n√£o tenta converter a entrada para um n√∫mero, sendo mais rigorosa e segura.\n *\n * @param {*} value - O valor a ser verificado.\n * @returns {boolean} Retorna `true` se o valor for um n√∫mero finito; caso contr√°rio, `false`.\n * @example\n * // Casos verdadeiros\n * isNumber(123);      // true\n * isNumber(-1.23);    // true\n * isNumber(0);        // true\n *\n * // Casos falsos\n * isNumber(Infinity); // false\n * isNumber(NaN);      // false\n * isNumber('123');    // false (n√£o converte string)\n * isNumber(null);     // false\n * isNumber({});       // false\n */\nfunction isNumber(value) {\n  // A fun√ß√£o est√°tica Number.isFinite() j√° realiza as tr√™s verifica√ß√µes do c√≥digo\n  // original de forma nativa:\n  // 1. Garante que o tipo seja 'number'.\n  // 2. Garante que n√£o seja NaN.\n  // 3. Garante que n√£o seja Infinity ou -Infinity.\n  return Number.isFinite(value);\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default isNumber;\n// ------------------------------------------------------------------------------------------------","/**\n * @fileoverview Fornece uma fun√ß√£o para verificar se um valor √© um objeto.\n */\n\n/**\n * Verifica se um valor fornecido √© um objeto, excluindo `null`.\n *\n * @summary Verifica se um valor √© um objeto (mas n√£o nulo).\n * @description Esta fun√ß√£o retorna `true` para qualquer valor que o JavaScript considera\n * um objeto (`typeof valor === 'object'`), com a exce√ß√£o expl√≠cita de `null`.\n * Note que, devido √† natureza do JavaScript, isso inclui arrays e inst√¢ncias de outras\n * classes (como `Date`), mas n√£o inclui tipos primitivos.\n *\n * @param {*} object - O valor a ser verificado.\n * @returns {boolean} Retorna `true` se o valor for um objeto e n√£o for `null`; caso contr√°rio, `false`.\n * @example\n * // Casos verdadeiros\n * isObject({});               // true\n * isObject({ a: 1 });       // true\n * isObject([]);               // true (arrays s√£o objetos)\n * isObject(new Date());       // true (inst√¢ncias de classe s√£o objetos)\n *\n * // Casos falsos\n * isObject(null);             // false (a principal exce√ß√£o)\n * isObject(undefined);        // false\n * isObject(\"texto\");          // false (primitivo)\n * isObject(123);              // false (primitivo)\n * isObject(() => {});         // false (fun√ß√µes t√™m typeof 'function')\n */\nfunction isObject(object) {\n  // A verifica√ß√£o `object !== null` √© crucial porque `typeof null` retorna 'object'.\n  // Esta linha combina as duas verifica√ß√µes da fun√ß√£o original de forma mais concisa.\n  return object !== null && typeof object === \"object\";\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default isObject;\n// ------------------------------------------------------------------------------------------------\n","import assign from \"./assign.js\";\nimport base64From from \"./base64From.js\";\nimport base64FromBase64URLSafe from \"./base64FromBase64URLSafe.js\";\nimport base64FromBuffer from \"./base64FromBuffer.js\";\nimport base64To from \"./base64To.js\";\nimport base64ToBuffer from \"./base64ToBuffer.js\";\nimport base64URLEncode from \"./base64URLEncode.js\";\nimport bufferCompare from \"./bufferCompare.js\";\nimport bufferConcatenate from \"./bufferConcatenate.js\";\nimport bufferFromString from \"./bufferFromString.js\";\nimport bufferToString from \"./bufferToString.js\";\nimport calculateSecondsInTime from \"./calculateSecondsInTime.js\";\nimport cleanObject from \"./cleanObject.js\";\nimport currencyBRToFloat from \"./currencyBRToFloat.js\";\nimport dateToFormat from \"./dateToFormat.js\";\nimport dateFirstHourOfDay from \"./dateFirstHourOfDay.js\";\nimport dateLastHourOfDay from \"./dateLastHourOfDay.js\";\nimport debouncer from \"./debouncer.js\";\nimport deleteKeys from \"./deleteKeys.js\";\nimport generateSimpleId from \"./generateSimpleId.js\";\nimport generateRandomString from \"./generateRandomString.js\";\nimport getExecutionTime from \"./getExecutionTime.js\";\nimport JSONFrom from \"./JSONFrom.js\";\nimport JSONTo from \"./JSONTo.js\";\nimport messageEncryptToChunks from \"./messageEncryptToChunks.js\";\nimport messageDecryptFromChunks from \"./messageDecryptFromChunks.js\";\nimport normalize from \"./normalize.js\";\nimport pickKeys from \"./pickKeys.js\";\nimport pushLogMessage from \"./pushLogMessage.js\";\nimport regexDigitsOnly from \"./regexDigitsOnly.js\";\nimport regexReplaceTrim from \"./regexReplaceTrim.js\";\nimport regexLettersOnly from \"./regexLettersOnly.js\";\nimport removeDuplicatedStrings from \"./removeDuplicatedStrings.js\";\nimport sleep from \"./sleep.js\";\nimport split from \"./split.js\";\nimport stringCompress from \"./stringCompress.js\";\nimport stringDecompress from \"./stringDecompress.js\";\nimport stringToDate from \"./stringToDate.js\";\nimport stringToDateToFormat from \"./stringToDateToFormat.js\";\nimport stringToFormat from \"./stringToFormat.js\";\nimport stringZLibCompress from \"./stringZLibCompress.js\";\nimport stringZLibDecompress from \"./stringZLibDecompress.js\";\nimport throttle from \"./throttle.js\";\nimport timestamp from \"./timestamp.js\";\nimport toString from \"./toString.js\";\nimport uint8ArrayFromString from \"./uint8ArrayFromString.js\";\nimport uint8ArrayToString from \"./uint8ArrayToString.js\";\n\n// Named exports para importa√ß√£o individual\nexport {\n  assign,\n  base64From,\n  base64FromBase64URLSafe,\n  base64FromBuffer,\n  base64To,\n  base64ToBuffer,\n  base64URLEncode,\n  bufferCompare,\n  bufferConcatenate,\n  bufferFromString,\n  bufferToString,\n  calculateSecondsInTime,\n  cleanObject,\n  currencyBRToFloat,\n  dateToFormat,\n  dateFirstHourOfDay,\n  dateLastHourOfDay,\n  debouncer,\n  deleteKeys,\n  generateSimpleId,\n  generateRandomString,\n  getExecutionTime,\n  JSONFrom,\n  JSONTo,\n  messageEncryptToChunks,\n  messageDecryptFromChunks,\n  normalize,\n  pickKeys,\n  pushLogMessage,\n  regexDigitsOnly,\n  regexReplaceTrim,\n  regexLettersOnly,\n  removeDuplicatedStrings,\n  sleep,\n  split,\n  stringCompress,\n  stringDecompress,\n  stringToDate,\n  stringToDateToFormat,\n  stringToFormat,\n  stringZLibCompress,\n  stringZLibDecompress,\n  throttle,\n  timestamp,\n  toString,\n  uint8ArrayFromString,\n  uint8ArrayToString\n};\n\n// Default export para compatibilidade\nexport default {\n  assign,\n  base64From,\n  base64FromBase64URLSafe,\n  base64FromBuffer,\n  base64To,\n  base64ToBuffer,\n  base64URLEncode,\n  bufferCompare,\n  bufferConcatenate,\n  bufferFromString,\n  bufferToString,\n  calculateSecondsInTime,\n  cleanObject,\n  currencyBRToFloat,\n  dateToFormat,\n  dateFirstHourOfDay,\n  dateLastHourOfDay,\n  debouncer,\n  deleteKeys,\n  generateSimpleId,\n  generateRandomString,\n  getExecutionTime,\n  JSONFrom,\n  JSONTo,\n  messageEncryptToChunks,\n  messageDecryptFromChunks,\n  normalize,\n  pickKeys,\n  pushLogMessage,\n  regexDigitsOnly,\n  regexReplaceTrim,\n  regexLettersOnly,\n  removeDuplicatedStrings,\n  sleep,\n  split,\n  stringCompress,\n  stringDecompress,\n  stringToDate,\n  stringToDateToFormat,\n  stringToFormat,\n  stringZLibCompress,\n  stringZLibDecompress,\n  throttle,\n  timestamp,\n  toString,\n  uint8ArrayFromString,\n  uint8ArrayToString,\n};","/**\n * @file M√≥dulo para mesclar objetos de forma imut√°vel.\n */\n\n/**\n * Cria uma c√≥pia profunda (deep clone) de um valor.\n * Esta fun√ß√£o auxiliar √© a base para garantir a imutabilidade.\n * Ela lida com objetos, arrays e refer√™ncias circulares.\n *\n * @param {*} source - O valor a ser clonado.\n * @param {WeakMap} [map=new WeakMap()] - Usado internamente para rastrear\n * refer√™ncias e evitar loops infinitos em estruturas circulares.\n * @returns {*} Uma c√≥pia profunda do valor de entrada.\n * @private\n */\nfunction deepClone(source, map = new WeakMap()) {\n  // Retorna valores primitivos e nulos, que n√£o precisam ser clonados.\n  if (source === null || typeof source !== 'object') {\n    return source;\n  }\n\n  // Se este objeto j√° foi clonado (em caso de refer√™ncia circular),\n  // retorna a refer√™ncia do clone j√° existente para evitar recurs√£o infinita.\n  if (map.has(source)) {\n    return map.get(source);\n  }\n\n  // Lida com Arrays.\n  if (Array.isArray(source)) {\n    const clone = [];\n    // Armazena o clone no mapa antes da recurs√£o para lidar com\n    // arrays que contenham refer√™ncias a si mesmos.\n    map.set(source, clone);\n    for (let i = 0; i < source.length; i++) {\n      clone[i] = deepClone(source[i], map);\n    }\n    return clone;\n  }\n\n  // Lida com Objetos.\n  const clone = {};\n  // Armazena o clone no mapa antes da recurs√£o para lidar com\n  // objetos que contenham refer√™ncias a si mesmos.\n  map.set(source, clone);\n  for (const key in source) {\n    // Garante que estamos copiando apenas as propriedades do pr√≥prio objeto.\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      clone[key] = deepClone(source[key], map);\n    }\n  }\n\n  return clone;\n}\n\n\n/**\n * Realiza uma clonagem profunda de dois objetos e, em seguida, mescla as propriedades\n * do objeto `source` no objeto `target`.\n *\n * @description\n * Esta fun√ß√£o garante imutabilidade, pois opera em clones dos objetos de entrada,\n * deixando os originais intactos. A mesclagem em si √© superficial (similar ao\n * `Object.assign`), o que significa que se uma propriedade existir em ambos os objetos,\n * a propriedade do `source` substituir√° completamente a do `target`.\n *\n * @param {object} [target={}] - O objeto de destino. Suas propriedades ser√£o a base\n * para o novo objeto.\n * @param {object} [source={}] - O objeto de origem. Suas propriedades ser√£o mescladas\n * e ir√£o sobrescrever as propriedades do `target` em caso de conflito.\n * @param {boolean} [throwsError=true] - Se `true`, a fun√ß√£o lan√ßar√° exce√ß√µes em caso\n * de par√¢metros inv√°lidos. Se `false`, retornar√° `null`.\n *\n * @returns {object | null} Um novo objeto resultante da mesclagem ou `null` se\n * `throwsError` for `false` e ocorrer um erro.\n *\n * @throws {TypeError} Lan√ßado se `target` ou `source` n√£o forem objetos.\n * @throws {Error} Lan√ßado se ocorrer um erro durante a opera√ß√£o (ex: stack overflow\n * em objetos excessivamente aninhados).\n *\n * @example\n * const defaults = { settings: { theme: 'dark', notifications: true }, user: 'admin' };\n * const userConfig = { settings: { notifications: false, timezone: 'UTC-3' } };\n *\n * const merged = assign(defaults, userConfig);\n * // Resultado:\n * // {\n * //   settings: { notifications: false, timezone: 'UTC-3' },\n * //   user: 'admin'\n * // }\n *\n * console.log(defaults.settings.theme); // 'dark' (original n√£o foi modificado)\n */\nfunction assign(target = {}, source = {}, throwsError = true) {\n  // Valida√ß√£o rigorosa dos par√¢metros de entrada.\n  // A verifica√ß√£o `param === null` √© crucial, pois `typeof null` retorna 'object'.\n  if (target === null || typeof target !== 'object') {\n    if (throwsError) {\n      throw new TypeError(\"Assign Function: The target provided is not an object\");\n    }\n    return null;\n  }\n\n  if (source === null || typeof source !== 'object') {\n    if (throwsError) {\n      throw new TypeError(\"Assign Function: The source provided is not an object\");\n    }\n    return null;\n  }\n\n  try {\n    // Utiliza nossa implementa√ß√£o de clonagem profunda customizada e compat√≠vel.\n    // Isso garante que os objetos originais (`target` e `source`) n√£o sejam modificados (imutabilidade).\n    const clonedTarget = deepClone(target);\n    const clonedSource = deepClone(source);\n\n    // `Object.assign` realiza a mesclagem superficial das propriedades do clone\n    // de `source` para o clone de `target`. Esta √© a forma mais eficiente de\n    // combinar as propriedades no n√≠vel superior dos objetos.\n    return Object.assign(clonedTarget, clonedSource);\n  } catch (error) {\n    if (throwsError) {\n      // Repassa o erro original para fornecer um contexto de depura√ß√£o mais rico.\n      throw error;\n    }\n    // Retorna null se a captura de erros estiver desativada e ocorrer uma falha.\n    return null;\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Garante compatibilidade com o sistema de m√≥dulos CommonJS (Node.js).\nexport default assign;\n\n// ------------------------------------------------------------------------------------------------","/**\n * @summary Decodifica uma string Base64 para texto de forma isom√≥rfica.\n *\n * @description\n * Esta fun√ß√£o detecta o ambiente de execu√ß√£o (Node.js ou Navegador) para decodificar\n * uma string no formato Base64.\n *\n * - **No Node.js:** A fun√ß√£o decodifica a string Base64 para uma string de texto no formato UTF-8,\n * lidando corretamente com acentua√ß√£o e caracteres especiais.\n * - **No Navegador:** A fun√ß√£o utiliza `atob()`, que decodifica a string Base64 para uma\n * \"string bin√°ria\". Cada caractere na string de sa√≠da representa um byte dos dados originais.\n *\n *\n * @param {string} [text=\"\"] - A string no formato Base64 a ser decodificada.\n * @returns {string} Uma string decodificada. No Node.js, ser√° uma string UTF-8. No navegador,\n * ser√° uma \"string bin√°ria\". Retorna uma string vazia se a entrada for inv√°lida.\n */\nfunction base64From(text = \"\") {\n  if (typeof text != \"string\" || !text) {\n    return \"\";\n  }\n  if (typeof window === \"undefined\") {\n    return Buffer.from(text, \"base64\").toString(\"utf-8\");\n  }\n  return atob(text);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default base64From;","/**\n * @file Utilit√°rio para convers√£o de Base64URL para Base64 padr√£o.\n */\n\n/**\n * @summary Converte uma string do formato Base64URL para o formato Base64 padr√£o.\n *\n * @description\n * O formato Base64URL √© uma varia√ß√£o do Base64 projetada para ser segura em URLs e nomes de arquivo.\n * Ele substitui os caracteres `+` e `/` por `-` e `_`, respectivamente, e geralmente omite o\n * preenchimento (`=`) no final da string.\n *\n * Esta fun√ß√£o reverte essas substitui√ß√µes e restaura o preenchimento (`=`)\n * necess√°rio para que a string seja uma representa√ß√£o Base64 v√°lida, cujo comprimento\n * deve ser um m√∫ltiplo de 4.\n *\n * @param {string} [urlSafeBase64=\"\"] - A string em formato Base64URL a ser convertida.\n *\n * @returns {string} A string convertida para o formato Base64 padr√£o.\n *\n * @example\n * // Exemplo com uma string que precisa de preenchimento\n * const urlSafeString = 'rqXRQrq_mSFhX4c2wSZJrA';\n * const standardBase64 = base64FromBase64URLSafe(urlSafeString);\n * console.log(standardBase64); // \"rqXRQrq/mSFhX4c2wSZJrA==\"\n *\n * // Exemplo com uma string que n√£o precisa de preenchimento\n * const anotherUrlSafeString = 'Zm9vYg';\n * const anotherStandardBase64 = base64FromBase64URLSafe(anotherUrlSafeString);\n * console.log(anotherStandardBase64); // \"Zm9vYg==\"\n */\nfunction base64FromBase64URLSafe(urlSafeBase64 = \"\") {\n  // Valida√ß√£o expl√≠cita para garantir que a entrada √© uma string n√£o vazia.\n  if (typeof urlSafeBase64 !== 'string' || urlSafeBase64.length === 0) {\n    return \"\";\n  }\n\n  // 1. Substitui os caracteres espec√≠ficos do Base64URL pelos do Base64 padr√£o.\n  // O uso da flag /g garante que todas as ocorr√™ncias sejam substitu√≠das.\n  const base64 = urlSafeBase64.replace(/-/g, \"+\").replace(/_/g, \"/\");\n\n  // 2. Calcula e adiciona o preenchimento ('=') de forma eficiente.\n  // O m√©todo `padEnd` √© mais perform√°tico e declarativo que um loop `while`.\n  // Ele calcula quantos caracteres `=` s√£o necess√°rios e os adiciona de uma s√≥ vez.\n  const requiredPadding = (4 - (base64.length % 4)) % 4;\n  return base64.padEnd(base64.length + requiredPadding, \"=\");\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default base64FromBase64URLSafe;","/**\n * @file Utilit√°rio seguro e robusto para convers√£o de valores para string.\n */\n\n/**\n * @summary Converte um valor de qualquer tipo para uma string de forma segura.\n *\n * @description\n * Esta fun√ß√£o √© uma vers√£o mais robusta do construtor `String()`. Ela prioriza o m√©todo\n * `.toString()` customizado de um objeto. Apenas se um objeto n√£o tiver um `.toString()`\n * customizado (resultando no padr√£o `\"[object Object]\"`), a fun√ß√£o tentar√° convert√™-lo\n * para uma string JSON.\n *\n * @param {*} [textObj=\"\"] - O valor a ser convertido para string.\n * @param {boolean} [objectToJSON=true] - Se `true` e a entrada for um objeto sem `.toString()`\n * customizado, tenta convert√™-lo para uma string JSON.\n *\n * @returns {string} A representa√ß√£o do valor como string.\n *\n * @example\n * const custom = { toString: () => 'Custom!' };\n * toString(custom);           // 'Custom!'\n *\n * toString({ a: 1 });         // '{\"a\":1}'\n * toString({ a: 1 }, false);  // '[object Object]'\n * toString(123);              // '123'\n * toString(null);             // ''\n */\nfunction toString(textObj = \"\", objectToJSON = true) {\n  // 1. Lida com `null` e `undefined` primeiro, retornando uma string vazia.\n  if (textObj == null) {\n    return \"\";\n  }\n\n  // 2. Realiza a convers√£o inicial para string.\n  // O construtor `String()` invoca corretamente o m√©todo `.toString()` do objeto.\n  const initialString = String(textObj);\n\n  // 3. Verifica se a convers√£o inicial resultou na string gen√©rica de objeto.\n  // O `typeof` previne que a string literal \"[object Object]\" seja convertida para JSON.\n  if (\n    objectToJSON &&\n    initialString === '[object Object]' &&\n    typeof textObj === 'object'\n  ) {\n    try {\n      // Se for um objeto gen√©rico, tenta uma convers√£o JSON mais informativa.\n      return JSON.stringify(textObj);\n    } catch (error) {\n      // Se o JSON falhar (ex: refer√™ncia circular), retorna a string gen√©rica.\n      return initialString;\n    }\n  }\n\n  // 4. Se n√£o for um objeto gen√©rico (ou se for um primitivo, array, ou objeto customizado),\n  // a convers√£o inicial j√° √© a correta.\n  return initialString;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default toString;","import isNumber from \"../helpers/isNumber\";\nimport toString from \"./toString\";\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @summary Codifica uma string para o formato Base64 sem padding, de forma isom√≥rfica.\n *\n * @description\n * Esta fun√ß√£o detecta o ambiente de execu√ß√£o (Node.js ou Navegador) e codifica\n * o texto de entrada para uma string Base64, removendo os caracteres de padding (`=`) no final.\n *\n * - **No Node.js:** A fun√ß√£o √© mais robusta, utilizando `Buffer.from()`. Ela pode converter\n * n√∫meros para strings e aceita um `fromFormat` para especificar a codifica√ß√£o do texto\n * de entrada (ex: 'utf-8').\n * - **No Navegador:** A fun√ß√£o utiliza `btoa()`, que opera sobre \"strings bin√°rias\".\n *\n *\n * @param {string|number} [text=\"\"] - O texto a ser codificado. Se for um n√∫mero, ser√° convertido para string (apenas no Node.js).\n * @param {string} [fromFormat] - A codifica√ß√£o do texto de entrada (ex: 'utf-8', 'binary').\n * **Este par√¢metro √© utilizado apenas no ambiente Node.js.**\n * @returns {string} A string codificada em Base64, sem os caracteres de padding (`=`).\n */\nfunction base64To(text = \"\", fromFormat) {\n  let b64;\n  if (typeof window === \"undefined\") {\n    if (isNumber(text)) {\n      text = toString(text);\n    }\n    b64 = Buffer.from(text, fromFormat).toString(\"base64\");\n  } else {\n    b64 = btoa(text);\n  }\n  return b64.replaceAll(\"=\", \"\");\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default base64To;","import base64To from \"./base64To\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para convers√£o de ArrayBuffer para Base64.\n */\n\n/**\n * @summary Converte um ArrayBuffer em uma string Base64.\n *\n * @description\n * Esta fun√ß√£o √© cross-environment, funcionando de forma otimizada tanto em Node.js quanto\n * em navegadores. Ela lida com a convers√£o de dados bin√°rios brutos de um ArrayBuffer\n * para sua representa√ß√£o textual em Base64.\n *\n * No navegador, a fun√ß√£o processa o buffer em blocos (chunks) para evitar erros de\n * \"Maximum call stack size exceeded\", garantindo a convers√£o segura de buffers grandes.\n *\n * @param {ArrayBuffer} buffer - O ArrayBuffer a ser convertido.\n *\n * @returns {string} A representa√ß√£o da string em Base64. Retorna uma string vazia\n * se a entrada n√£o for um ArrayBuffer v√°lido.\n *\n * @example\n * const data = new Uint8Array([0, 1, 2, 3, 253, 254, 255]);\n * const base64String = base64FromBuffer(data.buffer);\n * console.log(base64String); // \"AAECA/3+/w==\"\n */\nfunction base64FromBuffer(buffer) {\n  // Adiciona valida√ß√£o para garantir que a entrada √© do tipo esperado.\n  if (!(buffer instanceof ArrayBuffer)) {\n    return \"\";\n  }\n\n  // **Ambiente Node.js:**\n  // A verifica√ß√£o `typeof window` √© a forma padr√£o de diferenciar os ambientes.\n  if (typeof window === \"undefined\") {\n    // A forma mais eficiente no Node: converte o ArrayBuffer para um Buffer nativo\n    // e delega para a fun√ß√£o de encoding, que √© otimizada para isso.\n    return base64To(Buffer.from(buffer));\n  }\n\n  // **Ambiente do Navegador (implementa√ß√£o robusta):**\n  const bytes = new Uint8Array(buffer);\n  const CHUNK_SIZE = 8192; // Define um tamanho de bloco seguro (8KB)\n  const chunks = [];\n\n  // Itera sobre o buffer em blocos para evitar estouro de pilha.\n  for (let i = 0; i < bytes.length; i += CHUNK_SIZE) {\n    // Pega um \"peda√ßo\" do buffer. `subarray` √© eficiente pois n√£o cria uma nova c√≥pia dos dados.\n    const chunk = bytes.subarray(i, i + CHUNK_SIZE);\n\n    // Converte o bloco de bytes em uma string bin√°ria e a armazena.\n    // Usar um array e `join` no final √© geralmente mais perform√°tico que concatena√ß√£o com `+=`.\n    chunks.push(String.fromCharCode.apply(null, chunk));\n  }\n\n  // Junta os blocos de string em um s√≥ e passa para a fun√ß√£o de encoding (que usar√° btoa).\n  return base64To(chunks.join(\"\"));\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default base64FromBuffer;","/**\n * @file Utilit√°rio para decodificar Base64 para um ArrayBuffer.\n */\n\n/**\n * @summary Converte uma string Base64 em um ArrayBuffer, compat√≠vel com ambos ambientes.\n *\n * @description\n * Esta fun√ß√£o decodifica uma string Base64 para sua representa√ß√£o bin√°ria em um ArrayBuffer.\n * A implementa√ß√£o √© cross-environment, garantindo um comportamento consistente e\n * retornando sempre um `ArrayBuffer` tanto no Node.js quanto em navegadores.\n *\n * @param {string} [base64String=\"\"] - A string em formato Base64 a ser decodificada.\n *\n * @returns {ArrayBuffer} O `ArrayBuffer` decodificado. Retorna um `ArrayBuffer` vazio\n * (de 0 bytes) se a entrada for inv√°lida, vazia ou se ocorrer um erro de decodifica√ß√£o.\n *\n * @example\n * const b64 = 'AAECAwQFBgcICQoLDA0ODw=='; // Bytes 0-15\n * const buffer = base64ToBuffer(b64);\n *\n * // `buffer` √© sempre um ArrayBuffer.\n * const view = new Uint8Array(buffer);\n * console.log(view[10]); // 10\n */\nfunction base64ToBuffer(base64String = \"\") {\n  // Valida a entrada para garantir que √© uma string.\n  if (typeof base64String !== 'string' || base64String.length === 0) {\n    // Retorna um ArrayBuffer vazio para entradas inv√°lidas, conforme esperado pelos testes.\n    return new ArrayBuffer(0);\n  }\n\n  try {\n    // **Ambiente Node.js:**\n    if (typeof window === 'undefined') {\n      // Cria um Buffer do Node.js a partir da string Base64.\n      const nodeBuffer = Buffer.from(base64String, 'base64');\n\n      // Extrai o ArrayBuffer subjacente do Buffer do Node.js para manter a consist√™ncia do retorno.\n      // O `slice` √© crucial para garantir que obtenhamos a por√ß√£o exata da mem√≥ria\n      // que corresponde a este buffer, j√° que o Node.js pode reutilizar pools de mem√≥ria maiores.\n      return nodeBuffer.buffer.slice(\n        nodeBuffer.byteOffset,\n        nodeBuffer.byteOffset + nodeBuffer.byteLength\n      );\n    }\n\n    // **Ambiente do Navegador:**\n    // Decodifica a string Base64 para uma \"string bin√°ria\".\n    const binaryString = window.atob(base64String);\n    const len = binaryString.length;\n\n    // Cria um Uint8Array (uma vis√£o de dados sobre um ArrayBuffer) com o tamanho necess√°rio.\n    const bytes = new Uint8Array(len);\n\n    // Popula o array de bytes com os valores num√©ricos correspondentes a cada caractere.\n    for (let i = 0; i < len; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n\n    // Retorna o `ArrayBuffer` subjacente, que cont√©m os dados bin√°rios brutos.\n    return bytes.buffer;\n\n  } catch (error) {\n    // Retorna um ArrayBuffer vazio em caso de erro\n    return new ArrayBuffer(0);\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default base64ToBuffer;","import toString from \"./toString\";\nimport base64To from \"./base64To\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para codifica√ß√£o no formato Base64URL.\n */\n\n/**\n * @summary Codifica uma entrada para o formato Base64URL.\n *\n * @description\n * Esta fun√ß√£o converte qualquer valor de entrada para uma string no formato Base64URL.\n * O Base64URL √© uma varia√ß√£o do Base64 padr√£o, segura para uso em URLs e nomes de arquivo,\n * pois substitui os caracteres `+` e `/` por `-` e `_`, respectivamente, e omite o\n * preenchimento final (`=`). A fun√ß√£o √© cross-environment, funcionando em Node.js e navegadores.\n *\n * @param {*} [text=\"\"] - O valor a ser codificado. Ser√° convertido para string antes do processo.\n * @param {BufferEncoding} [fromFormat=\"utf8\"] - **(Apenas Node.js)** A codifica√ß√£o da entrada,\n * se for uma string em um formato diferente de UTF-8 (ex: 'hex').\n *\n * @returns {string} A string resultante no formato Base64URL.\n *\n * @example\n * // A string \"subjects?_id=1&_id=2\" cont√©m caracteres que n√£o s√£o seguros em URLs.\n * const queryString = 'subjects?_id=1&_id=2';\n * const encodedQuery = base64URLEncode(queryString);\n * console.log(encodedQuery); // \"c3ViamVjdHM_X2lkPTEmX2lkPTI\"\n *\n * // A sa√≠da pode ser usada com seguran√ßa em uma URL:\n * // https://example.com/q=c3ViamVjdHM_X2lkPTEmX2lkPTI\n */\nfunction base64URLEncode(text = \"\", fromFormat = \"utf8\") {\n  // 1. Delega a convers√£o para string e a codifica√ß√£o Base64 para a fun√ß√£o `base64To`.\n  // A fun√ß√£o `base64To` j√° lida com diferentes tipos de entrada e remove o preenchimento (`=`).\n  const standardBase64 = base64To(toString(text), fromFormat);\n\n  // 2. Converte a sa√≠da do Base64 padr√£o para o formato URL-safe.\n  // Substitui os caracteres '+' por '-' e '/' por '_'.\n  return standardBase64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default base64URLEncode;","/**\n * @file Utilit√°rio para compara√ß√£o bin√°ria de ArrayBuffers.\n */\n\n/**\n * @summary Compara dois ArrayBuffers para verificar se cont√™m os mesmos bytes.\n *\n * @description\n * Realiza uma compara√ß√£o bin√°ria eficiente de dois ArrayBuffers. A fun√ß√£o √© otimizada\n * para diferentes ambientes: no Node.js, utiliza o m√©todo nativo e r√°pido `Buffer.equals()`,\n * enquanto no navegador, emprega uma t√©cnica de compara√ß√£o por blocos para acelerar o processo.\n *\n * @param {ArrayBuffer} buffer1 - O primeiro ArrayBuffer para a compara√ß√£o.\n * @param {ArrayBuffer} buffer2 - O segundo ArrayBuffer para a compara√ß√£o.\n *\n * @returns {boolean} Retorna `true` se os buffers forem id√™nticos, caso contr√°rio, `false`.\n *\n * @example\n * const buf1 = new Uint8Array([1, 2, 3, 4, 5]).buffer;\n * const buf2 = new Uint8Array([1, 2, 3, 4, 5]).buffer;\n * const buf3 = new Uint8Array([1, 2, 3, 4, 9]).buffer;\n *\n * console.log(bufferCompare(buf1, buf2)); // true\n * console.log(bufferCompare(buf1, buf3)); // false\n */\nfunction bufferCompare(buffer1, buffer2) {\n  if (!buffer1 || !buffer2 || buffer1.byteLength !== buffer2.byteLength) {\n    return false;\n  }\n\n  const view1 = new Uint8Array(buffer1);\n  const view2 = new Uint8Array(buffer2);\n  for (let i = 0; i < view1.length; i++) {\n    if (view1[i] !== view2[i]) return false;\n  }\n  return true;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default bufferCompare;","/**\n * @file Utilit√°rio para concatena√ß√£o de objetos \"buffer-like\".\n */\n\n/**\n * @summary Concatena dois objetos \"buffer-like\" em um novo ArrayBuffer.\n *\n * @description\n * Esta fun√ß√£o une dois objetos que se comportam como buffers (ex: ArrayBuffer,\n * Node.js Buffer, Uint8Array). Ela cria um novo ArrayBuffer contendo os bytes\n * do primeiro buffer seguidos pelos bytes do segundo. A implementa√ß√£o √© robusta,\n * segura e universalmente compat√≠vel com Node.js e navegadores.\n *\n * @param {ArrayBuffer | Buffer | Uint8Array | null} buffer1 - O primeiro objeto buffer-like.\n * @param {ArrayBuffer | Buffer | Uint8Array | null} buffer2 - O segundo objeto buffer-like.\n *\n * @returns {ArrayBuffer | null} Um novo ArrayBuffer contendo a concatena√ß√£o dos dois,\n * ou `null` se alguma das entradas for `null` ou se ocorrer um erro.\n *\n * @example\n * const buf1 = new Uint8Array([1, 2]).buffer;\n * const buf2 = new Uint8Array([3, 4]);\n * const combined = bufferConcatenate(buf1, buf2); // -> Retorna ArrayBuffer com [1, 2, 3, 4]\n *\n * const invalid = bufferConcatenate(buf1, null); // -> Retorna null\n */\nfunction bufferConcatenate(buffer1, buffer2) {\n  // 1. Valida√ß√£o expl√≠cita para `null` ou `undefined`.\n  // A verifica√ß√£o `== null` √© uma forma concisa de tratar ambos os casos.\n  if (buffer1 == null || buffer2 == null) {\n    return buffer1 || buffer2 || null;\n  }\n\n  try {\n    // 2. Implementa√ß√£o Universal com Uint8Array.\n    // O construtor do `Uint8Array` lida nativamente com diversos tipos de buffer.\n    const view1 = new Uint8Array(buffer1);\n    const view2 = new Uint8Array(buffer2);\n\n    // Cria uma nova vis√£o com o tamanho combinado.\n    const resultView = new Uint8Array(view1.length + view2.length);\n\n    // Copia os bytes de forma eficiente para a nova vis√£o.\n    resultView.set(view1, 0);\n    resultView.set(view2, view1.length);\n\n    // Retorna o ArrayBuffer subjacente.\n    return resultView.buffer;\n  } catch (error) {\n    // Captura quaisquer outros erros que possam ocorrer com tipos de entrada inesperados\n    // e retorna `null` para indicar a falha.\n    return null;\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default bufferConcatenate;","/**\n * @file Utilit√°rio para converter uma string para um buffer de bytes.\n */\n\n/**\n * @summary Converte uma string para um buffer de bytes (`Uint8Array`).\n *\n * @description\n * Esta fun√ß√£o converte uma string de texto para sua representa√ß√£o bin√°ria, retornando um `Uint8Array`.\n * A fun√ß√£o √© universalmente compat√≠vel, usando `Buffer` no Node.js e `TextEncoder` no navegador.\n *\n * O objeto `Buffer` do Node.js √© uma subclasse de `Uint8Array`, ent√£o o tipo de retorno\n * √© consistente e interoper√°vel entre os dois ambientes.\n *\n * @param {string} txtString - A string a ser convertida para um buffer.\n * @param {BufferEncoding} [encoding=\"utf-8\"] - **(Apenas Node.js)** A codifica√ß√£o a ser usada.\n * **No ambiente do navegador, este par√¢metro √© ignorado e a codifica√ß√£o ser√° sempre UTF-8**,\n * devido a limita√ß√µes da API `TextEncoder`.\n *\n * @returns {Uint8Array | null} Um `Uint8Array` representando os bytes da string.\n * Retorna `null` se a entrada n√£o for uma string.\n *\n * @example\n * const buffer = bufferFromString('Ol√°, Mundo! üëã');\n *\n * // `buffer` ser√° um `Buffer` no Node.js e um `Uint8Array` no navegador,\n * // mas ambos se comportam como um Uint8Array.\n * console.log(buffer.length); // 17\n * console.log(buffer[0]); // 79 ('O')\n * console.log(buffer[12]); // 240 (primeiro byte do emoji üëã)\n */\nfunction bufferFromString(txtString, encoding = \"utf-8\") {\n  // 1. Valida√ß√£o de tipo: garante que a entrada √© uma string.\n  if (typeof txtString !== 'string') {\n    return null;\n  }\n\n  // **Ambiente Node.js:**\n  if (typeof window === 'undefined') {\n    // `Buffer.from` √© a forma otimizada de criar um buffer no Node.js e\n    // respeita o par√¢metro `encoding`. O Buffer resultante j√° √© uma inst√¢ncia de Uint8Array.\n    return Buffer.from(txtString, encoding);\n  }\n\n  // **Ambiente do Navegador:**\n  // `TextEncoder` √© a API padr√£o da web para converter strings em bytes.\n  // O m√©todo `.encode()` retorna diretamente um `Uint8Array`.\n  return new TextEncoder(encoding).encode(txtString);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default bufferFromString;","/**\n * @file Utilit√°rio para converter um buffer de bytes para uma string.\n */\n\n/**\n * @summary Converte um buffer de bytes (`ArrayBuffer`, `Buffer`, etc.) para uma string.\n *\n * @description\n * Esta fun√ß√£o converte dados bin√°rios para sua representa√ß√£o como string de texto.\n * A fun√ß√£o √© universalmente compat√≠vel, usando o m√©todo `toString()` do `Buffer` no Node.js\n * e a API `TextDecoder` no navegador.\n *\n * @param {ArrayBuffer | Buffer | Uint8Array} buffer - O buffer a ser convertido para string.\n * @param {BufferEncoding} [encoding=\"utf-8\"] - **(Apenas Node.js)** A codifica√ß√£o a ser usada\n * para interpretar os bytes. Exemplos: 'utf-8', 'hex', 'base64', 'latin1'.\n * **No ambiente do navegador, este par√¢metro √© ignorado e a decodifica√ß√£o ser√° sempre UTF-8**,\n * devido a limita√ß√µes da API `TextDecoder`.\n *\n * @returns {string} A string resultante da decodifica√ß√£o do buffer. Retorna uma string vazia\n * se a entrada for inv√°lida ou vazia.\n *\n * @example\n * // Criando um buffer a partir de uma string (exemplo)\n * const myBuffer = new TextEncoder().encode('Ol√°, Mundo! üëã');\n *\n * const text = bufferToString(myBuffer);\n * console.log(text); // \"Ol√°, Mundo! üëã\"\n *\n * // Exemplo espec√≠fico do Node.js com 'hex'\n * // const hexBuffer = Buffer.from('4f6c612c204d756e646f2120f09f918b', 'hex');\n * // const textFromHex = bufferToString(hexBuffer, 'utf-8'); // \"Ol√°, Mundo! üëã\"\n */\nfunction bufferToString(buffer, encoding = \"utf-8\") {\n  // 1. Valida√ß√£o da entrada: retorna string vazia para entradas nulas ou indefinidas.\n  if (buffer == null) {\n    return \"\";\n  }\n\n  // **Ambiente Node.js:**\n  if (typeof window === 'undefined') {\n    // Garante que estamos trabalhando com um Buffer do Node.js para usar seu m√©todo `toString`.\n    const nodeBuffer = Buffer.isBuffer(buffer) ? buffer : Buffer.from(buffer);\n    // Usa o m√©todo nativo do Buffer, que √© otimizado e suporta m√∫ltiplos encodings.\n    return nodeBuffer.toString(encoding);\n  }\n\n  // **Ambiente do Navegador:**\n  try {\n    // `TextDecoder` √© a API padr√£o da web para converter bytes em string.\n    // Ela sempre decodifica como UTF-8, ignorando o par√¢metro `encoding`.\n    return new TextDecoder().decode(buffer);\n  } catch (error) {\n    // Retorna uma string vazia se o buffer de entrada for inv√°lido para a API.\n    return \"\";\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default bufferToString;","/**\n * @file Utilit√°rio para calcular timestamps baseados em segundos.\n */\n\n/**\n * @summary Calcula um timestamp futuro ou passado a partir do tempo atual.\n *\n * @description\n * Esta fun√ß√£o adiciona ou subtrai um determinado n√∫mero de segundos do tempo atual\n * (`Date.now()`) e retorna o resultado como um timestamp num√©rico (milissegundos\n * desde a √âpoca Unix). A opera√ß√£o √© puramente aritm√©tica, garantindo alta performance.\n *\n * @param {number} seconds - O n√∫mero de segundos a ser adicionado ou subtra√≠do.\n * Deve ser um n√∫mero finito.\n * @param {boolean} [add=true] - Determina a opera√ß√£o. Se `true`, os segundos s√£o\n * adicionados (calculando um tempo futuro). Se `false`, s√£o subtra√≠dos\n * (calculando um tempo passado).\n *\n * @returns {number | null} O timestamp calculado em milissegundos, ou `null` se\n * o valor de `seconds` for inv√°lido.\n *\n * @example\n * // Calcula o timestamp para 5 minutos (300 segundos) no futuro\n * const fiveMinutesFromNow = calculateSecondsInTime(300);\n * console.log(`Timestamp em 5 minutos: ${fiveMinutesFromNow}`);\n *\n * // Calcula o timestamp para 1 hora (3600 segundos) no passado\n * const oneHourAgo = calculateSecondsInTime(3600, false);\n * console.log(`Timestamp de 1 hora atr√°s: ${oneHourAgo}`);\n */\nfunction calculateSecondsInTime(seconds, add = true) {\n  // 1. Valida√ß√£o: garante que `seconds` √© um n√∫mero v√°lido e finito.\n  // `isFinite` trata casos como `Infinity`, `-Infinity` e `NaN`.\n  if (typeof seconds !== 'number' || !isFinite(seconds)) {\n    return null;\n  }\n\n  // 2. Converte a entrada de segundos para milissegundos.\n  const offsetInMilliseconds = seconds * 1000;\n\n  // 3. Aplica a opera√ß√£o e retorna o timestamp final.\n  // Esta abordagem √© mais direta e perform√°tica do que criar um novo objeto `Date`.\n  if (add) {\n    return Date.now() + offsetInMilliseconds;\n  }\n\n  return Date.now() - offsetInMilliseconds;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default calculateSecondsInTime;","/**\n * @fileoverview Fornece uma fun√ß√£o para \"limpar\" um objeto, removendo chaves\n * com valores considerados vazios, nulos ou indesejados.\n */\n\n/**\n * @summary Cria uma c√≥pia \"limpa\" de um objeto, removendo chaves com valores vazios de forma segura e perform√°tica.\n *\n * @description\n * Itera sobre as chaves de um objeto (incluindo `Symbol`s) e retorna uma nova c√≥pia contendo apenas as\n * chaves com valores considerados \"v√°lidos\". Por padr√£o, `undefined`, `null`, strings vazias, arrays\n * vazios e objetos que se tornam vazios ap√≥s a limpeza s√£o removidos.\n * Tipos complexos como `Date` e `RegExp` s√£o preservados como valores v√°lidos.\n *\n * A fun√ß√£o √© segura contra refer√™ncias circulares; estruturas c√≠clicas s√£o interrompidas\n * e as propriedades que causam o ciclo s√£o removidas do resultado final.\n *\n * @param {any} sourceObject - O objeto a ser limpo. Se n√£o for um objeto \"simples\" (plain object), ser√° retornado diretamente.\n * @param {object} [options={}] - Op√ß√µes para customizar o comportamento da limpeza.\n * @property {boolean} [options.recursive=true] - Se `true`, a fun√ß√£o ser√° aplicada recursivamente a\n * objetos aninhados. Se `false`, objetos aninhados s√£o mantidos como est√£o.\n * @property {boolean} [options.considerNullValue=false] - Se `false` (padr√£o), chaves com valor `null`\n * s√£o removidas. Se `true`, s√£o mantidas.\n * @property {boolean} [options.considerFalseValue=true] - Se `true` (padr√£o), chaves com valor `false`\n * s√£o mantidas. Se `false`, s√£o removidas.\n *\n * @returns {object|any} Um novo objeto \"limpo\" ou o valor original se a entrada n√£o for um objeto.\n *\n * @example\n * // Exemplo com Symbol e RegExp\n * const sym = Symbol('id');\n * const complexObj = {\n * [sym]: 'valor-do-symbol',\n * regex: /abc/g,\n * a: 1,\n * b: null\n * };\n * const cleanedComplex = cleanObject(complexObj);\n * // Retorna: { [sym]: 'valor-do-symbol', regex: /abc/g, a: 1 }\n * console.log(cleanedComplex);\n */\nfunction cleanObject(sourceObject, options = {}) {\n  // O WeakMap rastreia os objetos j√° visitados para evitar ciclos infinitos.\n  const cache = new WeakMap();\n\n  // Fun√ß√£o interna recursiva que faz o trabalho principal.\n  function _clean(currentObject) {\n    // Valores que n√£o s√£o \"plain objects\" (como Date, RegExp, arrays, primitivos)\n    // s√£o tratados como valores finais e n√£o devem ser iterados.\n    if (\n      currentObject === null ||\n      typeof currentObject !== 'object' ||\n      currentObject.constructor !== Object\n    ) {\n      return currentObject;\n    }\n    \n    // Se o objeto j√° foi visitado nesta chamada, √© uma refer√™ncia circular.\n    // Retorna 'undefined' para que a chave que aponta para ele seja removida.\n    if (cache.has(currentObject)) {\n      return undefined;\n    }\n\n    const {\n      recursive = true,\n      considerNullValue = false,\n      considerFalseValue = true,\n    } = options || {};\n\n    const newObj = {};\n    // Adiciona o objeto ao cache antes de iterar para detectar ciclos que apontem para ele mesmo.\n    cache.set(currentObject, newObj);\n\n    // Usa-se Reflect.ownKeys para garantir que chaves do tipo Symbol sejam inclu√≠das,\n    // ao contr√°rio de Object.keys ou for...in.\n    for (const key of Reflect.ownKeys(currentObject)) {\n      let value = currentObject[key];\n\n      if (recursive) {\n        value = _clean(value);\n      }\n\n      const isUndefined = value === undefined;\n      const isNullAndIgnored = value === null && !considerNullValue;\n      const isFalseAndIgnored = value === false && !considerFalseValue;\n      const isEmptyString = value === '';\n      const isEmptyArray = Array.isArray(value) && value.length === 0;\n      \n      // Um objeto que se tornou vazio ap√≥s a limpeza recursiva tamb√©m deve ser removido.\n      const isEmptyObjectAfterCleaning = \n        value !== null &&\n        typeof value === 'object' &&\n        value.constructor === Object &&\n        Reflect.ownKeys(value).length === 0;\n\n      if (\n        !isUndefined &&\n        !isNullAndIgnored &&\n        !isFalseAndIgnored &&\n        !isEmptyString &&\n        !isEmptyArray &&\n        !isEmptyObjectAfterCleaning\n      ) {\n        newObj[key] = value;\n      }\n    }\n    \n    // Se o objeto resultante n√£o tiver chaves, ele √© considerado vazio.\n    // Retorna `undefined` para que a chave que aponta para ele seja removida no n√≠vel pai.\n    return Reflect.ownKeys(newObj).length > 0 ? newObj : undefined;\n  }\n\n  const result = _clean(sourceObject);\n\n  // CORRE√á√ÉO: Se o resultado final da limpeza do objeto de n√≠vel superior for `undefined`\n  // (ou seja, ele ficou vazio), retorna `{}`, conforme esperado pelos testes.\n  if (result === undefined && sourceObject?.constructor === Object) {\n    return {};\n  }\n\n  return result;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default cleanObject;\n// ------------------------------------------------------------------------------------------------","import toString from \"./toString.js\";\nimport isNumber from \"../helpers/isNumber.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para converter strings de moeda brasileira (BRL) para um n√∫mero.\n */\n\n/**\n * @summary Converte uma string de moeda no formato brasileiro (BRL) para um n√∫mero de ponto flutuante.\n *\n * @description\n * Esta fun√ß√£o analisa uma string que representa um valor monet√°rio em Reais (ex: \"R$ 1.234,56\")\n * e a converte para um n√∫mero puro (ex: 1234.56). Se a entrada j√° for um n√∫mero v√°lido,\n * ela √© retornada diretamente.\n *\n * @param {string | number} moneyValue - O valor monet√°rio a ser convertido.\n *\n * @returns {number | false} O n√∫mero de ponto flutuante correspondente, ou `false` se a\n * convers√£o falhar ou a entrada for inv√°lida.\n *\n * @example\n * currencyBRToFloat(\"R$ 1.234,56\"); // Retorna 1234.56\n * currencyBRToFloat(\"1A23,45\");      // Retorna false\n * currencyBRToFloat(\"\");            // Retorna false\n * currencyBRToFloat(150.75);        // Retorna 150.75\n */\nfunction currencyBRToFloat(moneyValue) {\n  // 1. Valida√ß√£o de Entrada\n  // Retorna `false` para entradas nulas ou indefinidas.\n  if (moneyValue == null) {\n    return false;\n  }\n\n  // Se a entrada j√° for um n√∫mero v√°lido, retorna-o diretamente.\n  if (isNumber(moneyValue)) {\n    return moneyValue;\n  }\n\n  // 2. Limpeza e Formata√ß√£o da String\n  const cleanedString = toString(moneyValue)\n    // Remove o s√≠mbolo 'R$', espa√ßos em branco e pontos (separador de milhar).\n    .replace(/R\\$|\\s|\\./g, \"\")\n    // Substitui a v√≠rgula (separador decimal brasileiro) por um ponto.\n    .replace(\",\", \".\");\n\n  // 3. Valida√ß√£o de Caracteres Inv√°lidos\n  // Esta verifica√ß√£o impede que `parseFloat` interprete parcialmente uma string\n  // inv√°lida (ex: \"1A2B\" se tornaria 1). A regex `/[^0-9.]/` procura por\n  // qualquer caractere que n√£o seja um d√≠gito (0-9) ou um ponto (.).\n  if (/[^0-9.]/.test(cleanedString)) {\n    return false;\n  }\n\n  // Se a string ficar vazia ou contiver apenas um ponto ap√≥s a limpeza, √© inv√°lida.\n  if (cleanedString === \"\" || cleanedString === \".\") {\n    return false;\n  }\n  \n  // 4. Convers√£o e Valida√ß√£o Final\n  const result = parseFloat(cleanedString);\n\n  // Verifica se o resultado do `parseFloat` √© um n√∫mero finito.\n  if (isNumber(result)) {\n    return result;\n  }\n\n  // Se a convers√£o falhou, retorna `false`.\n  return false;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default currencyBRToFloat;","/**\n * @fileoverview Centraliza constantes de formata√ß√£o e padr√µes para uso geral na aplica√ß√£o.\n * @description Este m√≥dulo exporta formatos de data, m√°scaras para documentos brasileiros, e\n * express√µes regulares (Regex) para valida√ß√µes de formato.\n */\n\n// ==============================================================================================\n// SE√á√ÉO: Formatos de Data (para bibliotecas como date-fns, dayjs, etc.)\n// ==============================================================================================\n\n// ----------------------------------------------------------------------------------------------\n// Padr√µes de Data ISO 8601\n\n/**\n * Formato de data ISO 8601 completo com timezone (UTC/Zulu).\n * @example \"2025-08-18T20:49:08.123Z\"\n */\nexport const DATE_ISO_FORMAT_TZ = `yyyy-MM-dd'T'HH:mm:ss.SSS'Z'`;\n\n/**\n * Formato de data ISO 8601 sem informa√ß√£o de timezone.\n * @example \"2025-08-18T20:49:08.123\"\n */\nexport const DATE_ISO_FORMAT = `yyyy-MM-dd'T'HH:mm:ss.SSS`;\n\n// ----------------------------------------------------------------------------------------------\n// Padr√µes de Data Brasileiros\n\n/**\n * Formato de data brasileiro (dia-m√™s-ano) separado por h√≠fen.\n * @example \"18-08-2025\"\n */\nexport const DATE_BR_FORMAT_D = `dd-MM-yyyy`;\n\n/**\n * Formato de data brasileiro (dia/m√™s/ano) separado por barra.\n * @example \"18/08/2025\"\n */\nexport const DATE_BR_FORMAT_FS = `dd/MM/yyyy`;\n\n/**\n * Formato de data e hora brasileiro separado por h√≠fen.\n * @example \"18-08-2025 20:49:08\"\n */\nexport const DATE_BR_HOUR_FORMAT_D = `dd-MM-yyyy HH:mm:ss`;\n\n/**\n * Formato de data e hora brasileiro separado por barra.\n * @example \"18/08/2025 20:49:08\"\n */\nexport const DATE_BR_HOUR_FORMAT_FS = `dd/MM/yyyy HH:mm:ss`;\n\n/**\n * Formato de data brasileiro (m√™s-ano) separado por h√≠fen.\n * @example \"08-2025\"\n */\nexport const DATE_BR_MONTH_FORMAT_D = `MM-yyyy`;\n\n/**\n * Formato de data brasileiro (m√™s/ano) separado por barra.\n * @example \"08/2025\"\n */\nexport const DATE_BR_MONTH_FORMAT_FS = `MM/yyyy`;\n\n// ----------------------------------------------------------------------------------------------\n// Padr√µes de Data Americanos\n\n/**\n * Formato de data americano (ano-m√™s-dia) separado por h√≠fen.\n * @example \"2025-08-18\"\n */\nexport const DATE_EUA_FORMAT_D = `yyyy-MM-dd`;\n\n/**\n * Formato de data americano (ano/m√™s/dia) separado por barra.\n * @example \"2025/08/18\"\n */\nexport const DATE_EUA_FORMAT_FS = `yyyy/MM/dd`;\n\n/**\n * Formato de data e hora americano separado por h√≠fen.\n * @example \"2025-08-18 20:49:08\"\n */\nexport const DATE_EUA_HOUR_FORMAT_D = `yyyy-MM-dd HH:mm:ss`;\n\n/**\n * Formato de data e hora americano separado por barra.\n * @example \"2025/08/18 20:49:08\"\n */\nexport const DATE_EUA_HOUR_FORMAT_FS = `yyyy/MM/dd HH:mm:ss`;\n\n/**\n * Formato de data americano (ano-m√™s) separado por h√≠fen.\n * @example \"2025-08\"\n */\nexport const DATE_EUA_MONTH_FORMAT_D = `yyyy-MM`;\n\n/**\n * Formato de data americano (ano/m√™s) separado por barra.\n * @example \"2025/08\"\n */\nexport const DATE_EUA_MONTH_FORMAT_FS = `yyyy/MM`;\n\n// ==============================================================================================\n// SE√á√ÉO: M√°scaras de Formata√ß√£o (para bibliotecas de input mask)\n// ==============================================================================================\n\n/**\n * M√°scara para CAD/ICMS do estado do Paran√° (PR).\n * @example \"90312851-11\"\n */\nexport const STRING_FORMAT_CADICMSPR = \"########-##\";\n\n/**\n * M√°scara para CNPJ alfanum√©rico.\n * 'S' representa um caractere alfanum√©rico [A-Z0-9] e '#' um d√≠gito [0-9].\n * @example \"AB.123.CD4/567E-89\"\n */\nexport const STRING_FORMAT_CNPJ = \"##.###.###/####-##\";\n\n/**\n * M√°scara para CNPJ Raiz alfanum√©rico.\n * 'S' representa um caractere alfanum√©rico [A-Z0-9] e '#' um d√≠gito [0-9].\n * @example \"AB.123.CD4\"\n */\nexport const STRING_FORMAT_CNPJ_RAIZ = \"##.###.###\";\n\n/**\n * M√°scara para CPF.\n * @example \"123.456.789-00\"\n */\nexport const STRING_FORMAT_CPF = \"###.###.###-##\";\n\n/**\n * M√°scara para Protocolo do estado do Paran√° (PR).\n * @example \"123.456.789.1\"\n */\nexport const STRING_FORMAT_PROTOCOLPR = \"###.###.###.#\";\n\n/**\n * M√°scara para CEP (C√≥digo de Endere√ßamento Postal).\n * @example \"80000-000\"\n */\nexport const STRING_FORMAT_CEP = \"#####-###\";\n\n/**\n * M√°scara para Telefone Celular com 9 d√≠gitos + DDD.\n * @example \"(41) 98888-8888\"\n */\nexport const STRING_FORMAT_PHONE = \"(##) # ####-####\";\n\n// ==============================================================================================\n// SE√á√ÉO: Express√µes Regulares (Regex) para Valida√ß√£o de Formato\n// ==============================================================================================\n\n/**\n * Regex para validar a estrutura de um CNPJ alfanum√©rico.\n * Verifica 12 caracteres alfanum√©ricos seguidos de 2 d√≠gitos num√©ricos. Case-insensitive.\n */\nexport const REGEX_CNPJ_ALPHANUMERIC = /^([A-Z\\d]){12}(\\d){2}$/i;\n\n/**\n * Regex para validar um e-mail em formato padr√£o.\n */\nexport const REGEX_EMAIL = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n/**\n * Regex para validar um UUID v4 (usado em Chave Aleat√≥ria PIX).\n */\nexport const REGEX_UUID_V4 = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\n/**\n * Regex para validar um n√∫mero de telefone brasileiro, com ou sem o c√≥digo do pa√≠s (+55).\n * Aceita n√∫meros de 10 (fixo) ou 11 (celular) d√≠gitos, al√©m do DDI.\n * @example /^(?:\\+55)?\\d{10,11}$/\n */\nexport const REGEX_PHONE_BR = /^(?:\\+55)?\\d{10,11}$/;\n\n// ==============================================================================================\n// SE√á√ÉO: Dados Geogr√°ficos - Brasil\n// ==============================================================================================\n\n/**\n * Objeto (chave-valor) com as siglas e nomes de todos os estados brasileiros e o Distrito Federal.\n * @example { \"PR\": \"Paran√°\", \"SP\": \"S√£o Paulo\", ... }\n */\nexport const BRAZILIAN_STATES = {\n  AC: \"Acre\",\n  AL: \"Alagoas\",\n  AP: \"Amap√°\",\n  AM: \"Amazonas\",\n  BA: \"Bahia\",\n  CE: \"Cear√°\",\n  DF: \"Distrito Federal\",\n  ES: \"Esp√≠rito Santo\",\n  GO: \"Goi√°s\",\n  MA: \"Maranh√£o\",\n  MT: \"Mato Grosso\",\n  MS: \"Mato Grosso do Sul\",\n  MG: \"Minas Gerais\",\n  PA: \"Par√°\",\n  PB: \"Para√≠ba\",\n  PR: \"Paran√°\",\n  PE: \"Pernambuco\",\n  PI: \"Piau√≠\",\n  RJ: \"Rio de Janeiro\",\n  RN: \"Rio Grande do Norte\",\n  RS: \"Rio Grande do Sul\",\n  RO: \"Rond√¥nia\",\n  RR: \"Roraima\",\n  SC: \"Santa Catarina\",\n  SP: \"S√£o Paulo\",\n  SE: \"Sergipe\",\n  TO: \"Tocantins\",\n};\n\n/**\n * Array com as siglas de todos os estados brasileiros e o Distrito Federal.\n * √ötil para popular seletores (dropdowns) ou para valida√ß√µes.\n * @example [\"AC\", \"AL\", \"AP\", ...]\n */\nexport const BRAZILIAN_STATES_ABBR = [\n  \"AC\",\n  \"AL\",\n  \"AP\",\n  \"AM\",\n  \"BA\",\n  \"CE\",\n  \"DF\",\n  \"ES\",\n  \"GO\",\n  \"MA\",\n  \"MT\",\n  \"MS\",\n  \"MG\",\n  \"PA\",\n  \"PB\",\n  \"PR\",\n  \"PE\",\n  \"PI\",\n  \"RJ\",\n  \"RN\",\n  \"RS\",\n  \"RO\",\n  \"RR\",\n  \"SC\",\n  \"SP\",\n  \"SE\",\n  \"TO\",\n];\n\n// Default export para compatibilidade\nexport default {\n  // Formatos de Data ISO 8601\n  DATE_ISO_FORMAT_TZ,\n  DATE_ISO_FORMAT,\n  \n  // Formatos de Data Brasileiros\n  DATE_BR_FORMAT_D,\n  DATE_BR_FORMAT_FS,\n  DATE_BR_HOUR_FORMAT_D,\n  DATE_BR_HOUR_FORMAT_FS,\n  DATE_BR_MONTH_FORMAT_D,\n  DATE_BR_MONTH_FORMAT_FS,\n  \n  // Formatos de Data Americanos\n  DATE_EUA_FORMAT_D,\n  DATE_EUA_FORMAT_FS,\n  DATE_EUA_HOUR_FORMAT_D,\n  DATE_EUA_HOUR_FORMAT_FS,\n  DATE_EUA_MONTH_FORMAT_D,\n  DATE_EUA_MONTH_FORMAT_FS,\n  \n  // M√°scaras de Formata√ß√£o\n  STRING_FORMAT_CADICMSPR,\n  STRING_FORMAT_CNPJ,\n  STRING_FORMAT_CNPJ_RAIZ,\n  STRING_FORMAT_CPF,\n  STRING_FORMAT_PROTOCOLPR,\n  STRING_FORMAT_CEP,\n  STRING_FORMAT_PHONE,\n  \n  // Express√µes Regulares\n  REGEX_CNPJ_ALPHANUMERIC,\n  REGEX_EMAIL,\n  REGEX_UUID_V4,\n  REGEX_PHONE_BR,\n  \n  // Dados Geogr√°ficos\n  BRAZILIAN_STATES,\n  BRAZILIAN_STATES_ABBR,\n};","import { DATE_BR_FORMAT_D } from \"../constants.js\";\nimport { format } from \"date-fns/format\";\nimport isInstanceOf from \"../helpers/isInstanceOf.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para formatar objetos Date em strings usando date-fns.\n */\n\n/**\n * @summary Formata um objeto Date em uma string, com base em um padr√£o de formato.\n *\n * @description\n * Esta fun√ß√£o atua como um wrapper seguro para a fun√ß√£o `format` da biblioteca `date-fns`.\n * Ela adiciona uma camada de valida√ß√£o robusta para garantir que apenas objetos `Date`\n * v√°lidos sejam passados para a fun√ß√£o de formata√ß√£o, prevenindo erros.\n *\n * @param {Date} date - O objeto `Date` a ser formatado.\n * @param {string} [stringFormat=DATE_BR_FORMAT_D] - O padr√£o de formata√ß√£o, compat√≠vel\n * com `date-fns`. O padr√£o no Brasil √© 'dd/MM/yyyy'.\n *\n * @returns {string | false} A string da data formatada, ou `false` se a entrada\n * n√£o for um objeto `Date` v√°lido.\n *\n * @example\n * const myDate = new Date('2025-08-21T15:30:45');\n * dateToFormat(myDate); // \"21/08/2025\" (usando o padr√£o)\n * dateToFormat(myDate, 'yyyy-MM-dd HH:mm:ss.SSS'); // \"2025-08-21 15:30:45.000\"\n * dateToFormat('texto invalido'); // false\n */\nfunction dateToFormat(date, stringFormat = DATE_BR_FORMAT_D) {\n  // 1. Valida√ß√£o do tipo e do valor da data.\n  // A checagem `isNaN` trata casos como `new Date('data inv√°lida')`.\n  if (!isInstanceOf(date, Date) || isNaN(date.getTime())) {\n    // Retorna o booleano `false` para manter a consist√™ncia com os testes do projeto.\n    return false;\n  }\n\n  // 2. Delega a formata√ß√£o para a fun√ß√£o `format` da biblioteca `date-fns`.\n  // Isso garante suporte completo a todos os tokens de formato que a biblioteca oferece.\n  return format(date, stringFormat);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default dateToFormat;","import isInstanceOf from \"../helpers/isInstanceOf.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para obter o in√≠cio de um dia a partir de um objeto Date.\n */\n\n/**\n * @summary Retorna uma nova data representando o in√≠cio do dia (00:00:00).\n *\n * @description\n * Esta fun√ß√£o recebe um objeto `Date` e retorna um **novo** objeto `Date` ajustado para o\n * primeiro momento daquele dia (00:00:00.000), no fuso hor√°rio local.\n *\n * A fun√ß√£o √© **n√£o-mut√°vel**, o que significa que o objeto `Date` original passado como\n * argumento n√£o √© modificado.\n *\n * @param {Date} date - O objeto `Date` de refer√™ncia.\n *\n * @returns {Date | false} Um novo objeto `Date` representando o in√≠cio do dia, ou `false`\n * se a entrada n√£o for um objeto `Date` v√°lido.\n *\n * @example\n * const dataOriginal = new Date('2025-08-21T15:30:00');\n * const inicioDoDia = dateFirstHourOfDay(dataOriginal); // Retorna um novo objeto Date\n *\n * const invalido = dateFirstHourOfDay('n√£o √© uma data'); // Retorna false\n */\nfunction dateFirstHourOfDay(date) {\n  // 1. Valida√ß√£o do tipo e do valor da data.\n  // A checagem `isNaN` trata casos como `new Date('data inv√°lida')`.\n  if (!isInstanceOf(date, Date) || isNaN(date.getTime())) {\n    // Retorna `false` para alinhar com o comportamento esperado pelos testes.\n    return false;\n  }\n\n  // 2. Cria uma nova inst√¢ncia da data para evitar a muta√ß√£o do objeto original.\n  const newDate = new Date(date.getTime());\n\n  // 3. Define a hora, minutos, segundos e milissegundos para zero de uma s√≥ vez.\n  // `setHours(0, 0, 0, 0)` √© uma forma concisa e eficiente de zerar o tempo do dia.\n  newDate.setHours(0, 0, 0, 0);\n\n  return newDate;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default dateFirstHourOfDay;","import isInstanceOf from \"../helpers/isInstanceOf.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para obter o final de um dia a partir de um objeto Date.\n */\n\n/**\n * @summary Retorna uma nova data representando o final do dia (23:59:59.999).\n *\n * @description\n * Esta fun√ß√£o recebe um objeto `Date` e retorna um **novo** objeto `Date` ajustado para o\n * √∫ltimo momento daquele dia (23:59:59.999), no fuso hor√°rio local.\n *\n * A fun√ß√£o √© **n√£o-mut√°vel**, o que significa que o objeto `Date` original passado como\n * argumento n√£o √© modificado.\n *\n * @param {Date} date - O objeto `Date` de refer√™ncia.\n *\n * @returns {Date | false} Um novo objeto `Date` representando o final do dia, ou `false`\n * se a entrada n√£o for um objeto `Date` v√°lido.\n *\n * @example\n * const dataOriginal = new Date('2025-08-21T15:30:00');\n * const finalDoDia = dateLastHourOfDay(dataOriginal);\n *\n * // O objeto original permanece inalterado\n * console.log(dataOriginal.toLocaleTimeString()); // \"15:30:00\"\n *\n * // O novo objeto representa o final daquele dia\n * console.log(finalDoDia.toLocaleTimeString());  // \"23:59:59\"\n */\nfunction dateLastHourOfDay(date) {\n  // 1. Valida√ß√£o do tipo e do valor da data.\n  // A checagem `isNaN` trata casos como `new Date('data inv√°lida')`.\n  if (!isInstanceOf(date, Date) || isNaN(date.getTime())) {\n    return false;\n  }\n\n  // 2. Cria uma nova inst√¢ncia da data para evitar a muta√ß√£o do objeto original.\n  const newDate = new Date(date.getTime());\n\n  // 3. Define a hora para o √∫ltimo momento do dia.\n  // `setHours` pode receber todos os valores de tempo, tornando o c√≥digo mais conciso.\n  newDate.setHours(23, 59, 59, 999);\n\n  return newDate;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default dateLastHourOfDay;","/**\n * @file Utilit√°rio para criar uma fun√ß√£o \"debounced\".\n */\n\n/**\n * @summary Cria uma vers√£o \"debounced\" de uma fun√ß√£o, que atrasa sua execu√ß√£o.\n *\n * @description\n * Debounce √© uma t√©cnica que agrupa uma sequ√™ncia de chamadas de uma fun√ß√£o que ocorrem\n * rapidamente, executando-a apenas uma vez ap√≥s um determinado per√≠odo de inatividade.\n * √â √∫til para controlar eventos que disparam com muita frequ√™ncia, como a digita√ß√£o em um\n * campo de busca, o redimensionamento da janela ou o scroll da p√°gina.\n *\n * Esta fun√ß√£o retorna uma nova fun√ß√£o que, ao ser invocada, reinicia um temporizador.\n * A fun√ß√£o original (`callback`) s√≥ ser√° executada quando o temporizador n√£o for mais\n * reiniciado por um per√≠odo igual a `timeout`.\n *\n * @param {Function} callback - A fun√ß√£o que ter√° sua execu√ß√£o atrasada. Pode ser s√≠ncrona ou ass√≠ncrona.\n * @param {number} [timeout=1000] - O per√≠odo de inatividade em milissegundos que deve\n * aguardar antes de executar o `callback`.\n *\n * @returns {(...args: any[]) => void} Uma nova fun√ß√£o \"debounced\" que pode ser chamada no lugar da original.\n *\n * @throws {TypeError} Lan√ßa um erro se o `callback` n√£o for uma fun√ß√£o ou se `timeout` n√£o for um n√∫mero.\n *\n * @example\n * // Simula uma barra de busca que s√≥ pesquisa ap√≥s o usu√°rio parar de digitar.\n * const searchAPI = (query) => {\n * console.log(`Pesquisando por: \"${query}\"...`);\n * };\n *\n * const debouncedSearch = debouncer(searchAPI, 500);\n *\n * debouncedSearch('g');\n * debouncedSearch('ga');\n * debouncedSearch('gam');\n * debouncedSearch('gami');\n * // Ap√≥s 500ms de inatividade, o console ir√° logar: \"Pesquisando por: \"gami\"...\"\n */\nfunction debouncer(callback, timeout = 1000) {\n  // 1. Valida√ß√£o dos par√¢metros na cria√ß√£o da fun√ß√£o.\n  if (typeof callback !== 'function') {\n    throw new TypeError('O callback fornecido para o debouncer deve ser uma fun√ß√£o.');\n  }\n  if (typeof timeout !== 'number') {\n    throw new TypeError('O timeout do debouncer deve ser um n√∫mero.');\n  }\n\n  // 2. Closure para manter a refer√™ncia do temporizador entre as chamadas.\n  let timer;\n\n  // 3. Retorna a nova fun√ß√£o \"debounced\".\n  // Usa uma fun√ß√£o regular `function(...args)` para preservar o contexto `this` de quem a chama.\n  return function(...args) {\n    // Captura o contexto (`this`) e os argumentos da chamada atual.\n    const context = this;\n\n    // Cancela o temporizador anterior para reiniciar a contagem.\n    // Isso garante que o callback s√≥ execute ap√≥s o per√≠odo de inatividade.\n    clearTimeout(timer);\n\n    // Inicia um novo temporizador.\n    timer = setTimeout(() => {\n      // Executa o callback original, aplicando o contexto e os argumentos corretos da √∫ltima chamada.\n      callback.apply(context, args);\n    }, timeout);\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default debouncer;","import isObject from \"../helpers/isObject.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para remover chaves de um objeto de forma n√£o-mut√°vel.\n */\n\n/**\n * @summary Cria um novo objeto omitindo um conjunto de chaves especificadas.\n *\n * @description\n * Esta fun√ß√£o recebe um objeto e um array de chaves, e retorna um **novo** objeto\n * contendo todas as propriedades do objeto original, exceto aquelas especificadas\n * no array de chaves.\n *\n * A fun√ß√£o √© **n√£o-mut√°vel**, o que significa que o objeto original passado como\n * argumento n√£o √© modificado.\n *\n * @param {object} [object={}] - O objeto de origem.\n * @param {string[]} [keys=[]] - Um array com os nomes (string) das chaves a serem omitidas.\n *\n * @returns {object} Um novo objeto sem as chaves especificadas.\n *\n * @example\n * const user = {\n * id: 123,\n * name: 'Arthur',\n * email: 'arthur@example.com',\n * password: 'supersecret'\n * };\n *\n * const publicUser = deleteKeys(user, ['password', 'email']);\n *\n * console.log(publicUser); // { id: 123, name: 'Arthur' }\n * console.log(user);       // O objeto original permanece inalterado\n */\nfunction deleteKeys(object = {}, keys = []) {\n  // 1. Valida√ß√£o da entrada.\n  if (!isObject(object)) {\n    return object;\n  }\n  if (!Array.isArray(keys)) {\n    // Retorna uma c√≥pia rasa se o array de chaves for inv√°lido, garantindo a n√£o-muta√ß√£o.\n    return { ...object };\n  }\n\n  // 2. Cria uma c√≥pia rasa do objeto para evitar a muta√ß√£o do original.\n  const newObject = { ...object };\n\n  // 3. Itera sobre as chaves a serem removidas e as deleta da C√ìPIA.\n  for (const key of keys) {\n    delete newObject[key];\n  }\n\n  // 4. Retorna o novo objeto modificado.\n  return newObject;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default deleteKeys;","import toString from \"./toString\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para gerar um ID de string simples.\n */\n\n/**\n * @summary Gera um ID de string simples com alta probabilidade de ser √∫nico.\n *\n * @description\n * Esta fun√ß√£o cria um ID combinando um prefixo opcional, o timestamp atual em\n * milissegundos, e uma sequ√™ncia de bytes aleat√≥rios e criptograficamente seguros\n * convertidos para hexadecimal.\n *\n * O formato do ID resultante √©: `[prefixo<separador>]<timestamp><separador><bytesAleatoriosHex>`\n *\n * A utiliza√ß√£o de `crypto.getRandomValues` torna a parte aleat√≥ria do ID muito menos\n * previs√≠vel do que `Math.random()`, aumentando a resist√™ncia a colis√µes.\n *\n * @param {string | number} [id] - Um prefixo opcional para o ID. Ser√° convertido para string.\n * @param {string} [separator=\"_\"] - O separador a ser usado entre as partes do ID.\n *\n * @returns {string} O novo ID de string gerado.\n *\n * @example\n * // Gera um ID com o prefixo \"user\"\n * // Exemplo de sa√≠da: \"user_1724276767000_a1b2c3d4e5f6\"\n * const userId = generateSimpleId(\"user\");\n *\n * // Gera um ID sem prefixo\n * // Exemplo de sa√≠da: \"1724276767000_a1b2c3d4e5f6\"\n * const eventId = generateSimpleId();\n */\nfunction generateSimpleId(id, separator = \"_\") {\n  // 1. Gera a parte aleat√≥ria do ID de forma segura.\n  // Cria um array de 6 bytes, que resultar√° em 12 caracteres hexadecimais.\n  const randomBytes = new Uint8Array(6);\n  globalThis.crypto.getRandomValues(randomBytes);\n\n  // Converte os bytes para uma string hexadecimal, garantindo que cada byte seja representado por 2 caracteres.\n  const randomHex = Array.from(randomBytes)\n    .map(byte => byte.toString(16).padStart(2, '0'))\n    .join('');\n\n  // 2. Constr√≥i as partes do ID em um array para maior clareza.\n  const parts = [];\n  const idString = toString(id);\n\n  // Adiciona o prefixo apenas se ele for fornecido e n√£o for uma string vazia.\n  if (idString) {\n    parts.push(idString);\n  }\n\n  // Adiciona o timestamp e a parte aleat√≥ria segura.\n  parts.push(Date.now());\n  parts.push(randomHex);\n\n  // 3. Junta as partes com o separador e retorna o ID final.\n  return parts.join(separator);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default generateSimpleId;","/**\n * @file Utilit√°rio para gerar strings aleat√≥rias seguras.\n */\n\n// Define os conjuntos de caracteres como constantes para clareza e reutiliza√ß√£o.\nconst CHAR_SETS = {\n  LOWERCASE: 'abcdefghijklmnopqrstuvwxyz',\n  UPPERCASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',\n  ACCENTED: '√†√°√¢√£√ß√®√©√™√¨√≠√Æ√∞√±√≤√≥√¥√µ√π√∫√ª√Ω',\n  DIGITS: '0123456789',\n  SYMBOLS: '!@#$%^&*-_+=;:,.<>?'\n};\n\n/**\n * @summary Gera uma string aleat√≥ria criptograficamente segura.\n *\n * @description\n * Esta fun√ß√£o gera uma string aleat√≥ria com um tamanho especificado, usando um conjunto de\n * caracteres customiz√°vel. Ela utiliza a Web Crypto API (`crypto.getRandomValues`),\n * que est√° dispon√≠vel em navegadores modernos e no Node.js, para garantir que os\n * caracteres sejam selecionados de forma segura e imprevis√≠vel, tornando-a adequada\n * para gerar senhas, tokens ou outros valores sens√≠veis.\n *\n * @param {number} [size=32] - O comprimento da string a ser gerada.\n * @param {object} [options={}] - Op√ß√µes para customizar o conjunto de caracteres.\n * @param {boolean} [options.excludeLowerCaseChars=false] - Excluir caracteres min√∫sculos.\n * @param {boolean} [options.excludeUpperCaseChars=false] - Excluir caracteres mai√∫sculos.\n * @param {boolean} [options.excludeAccentedChars=false] - Excluir caracteres acentuados.\n * @param {boolean} [options.excludeDigits=false] - Excluir d√≠gitos num√©ricos.\n * @param {boolean} [options.excludeSymbols=false] - Excluir s√≠mbolos padr√£o.\n * @param {string} [options.includeSymbols=\"\"] - Uma string com s√≠mbolos adicionais\n * para incluir no conjunto de caracteres.\n *\n * @returns {string} A string aleat√≥ria gerada.\n */\nfunction generateRandomString(size = 32, options = {}) {\n  // 1. Define as op√ß√µes padr√£o e as mescla com as fornecidas pelo usu√°rio.\n  // Isso garante que o envio de op√ß√µes parciais (ex: { excludeDigits: true }) funcione corretamente.\n  const defaultOptions = {\n    excludeLowerCaseChars: false,\n    excludeUpperCaseChars: false,\n    excludeAccentedChars: false,\n    excludeDigits: false,\n    excludeSymbols: false,\n    includeSymbols: \"\"\n  };\n  const finalOptions = { ...defaultOptions, ...options };\n\n  // 2. Constr√≥i a string de caracteres v√°lidos com base nas op√ß√µes.\n  let validChars = finalOptions.includeSymbols;\n  if (!finalOptions.excludeLowerCaseChars) validChars += CHAR_SETS.LOWERCASE;\n  if (!finalOptions.excludeUpperCaseChars) validChars += CHAR_SETS.UPPERCASE;\n  if (!finalOptions.excludeAccentedChars) validChars += CHAR_SETS.ACCENTED;\n  if (!finalOptions.excludeDigits) validChars += CHAR_SETS.DIGITS;\n  if (!finalOptions.excludeSymbols) validChars += CHAR_SETS.SYMBOLS;\n\n  // Se n√£o houver caracteres v√°lidos ou o tamanho for zero, retorna uma string vazia.\n  if (validChars.length === 0 || size <= 0) {\n    return \"\";\n  }\n\n  // 3. Gera a string aleat√≥ria usando uma fonte criptograficamente segura.\n  const randomValues = new Uint32Array(size);\n  // `crypto.getRandomValues` preenche o array com n√∫meros aleat√≥rios seguros.\n  // `globalThis` garante compatibilidade entre Node.js, navegadores e web workers.\n  globalThis.crypto.getRandomValues(randomValues);\n\n  let result = [];\n  for (let i = 0; i < size; i++) {\n    // Usa o operador de m√≥dulo para mapear o n√∫mero aleat√≥rio a um √≠ndice v√°lido.\n    const randomIndex = randomValues[i] % validChars.length;\n    result.push(validChars[randomIndex]);\n  }\n\n  return result.join('');\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default generateRandomString;","/**\n * @file Utilit√°rio de alta precis√£o para medir o tempo de execu√ß√£o.\n */\n\n/**\n * @summary Mede o tempo de execu√ß√£o com alta precis√£o (em milissegundos).\n *\n * @description\n * Esta fun√ß√£o √© um cron√¥metro de alta precis√£o que funciona de duas maneiras:\n * 1. **Sem argumentos:** `getExecutionTime()` - Retorna um \"token\" de tempo de alta resolu√ß√£o,\n * servindo como um ponto de partida para a medi√ß√£o.\n * 2. **Com argumento:** `getExecutionTime(startTime)` - Retorna a diferen√ßa de tempo (em milissegundos)\n * entre o momento atual e o `startTime` fornecido.\n *\n * Utiliza `process.hrtime.bigint()` no Node.js e `performance.now()` no navegador\n * para garantir a maior precis√£o poss√≠vel em cada ambiente.\n *\n * @param {number | bigint} [time] - Opcional. Um marcador de tempo obtido previamente ao\n * chamar esta mesma fun√ß√£o sem argumentos.\n *\n * @returns {number | bigint | string} Se `time` n√£o for fornecido, retorna o marcador inicial (`bigint` no Node.js,\n * `number` no navegador). Se `time` for fornecido, retorna o tempo decorrido como uma `string`\n * formatada com 3 casas decimais.\n *\n * @example\n * const startTime = getExecutionTime();\n *\n * // Simula uma opera√ß√£o que demora ~50ms\n * await new Promise(resolve => setTimeout(resolve, 50));\n *\n * const duration = getExecutionTime(startTime);\n * console.log(`A opera√ß√£o demorou ${duration} ms.`); // Ex: \"A opera√ß√£o demorou 50.123 ms.\"\n */\nfunction getExecutionTime(time) {\n  // **Ambiente Node.js:** usa `process.hrtime.bigint()` para precis√£o em nanossegundos.\n  if (typeof process !== 'undefined' && typeof process.hrtime === 'function') {\n    // Modo 1: Retorna o tempo atual em nanossegundos como um BigInt para ser o marcador inicial.\n    if (time === undefined) {\n      return process.hrtime.bigint();\n    }\n\n    // Valida√ß√£o para o marcador de tempo do Node.js.\n    if (typeof time !== 'bigint') {\n        return '0.000';\n    }\n\n    // Modo 2: Calcula a diferen√ßa em nanossegundos.\n    const diffNanos = process.hrtime.bigint() - time;\n    // Converte a diferen√ßa para milissegundos e formata.\n    const diffMillis = Number(diffNanos) / 1e6;\n    return diffMillis.toFixed(3);\n  }\n\n  // **Ambiente do Navegador:** usa `performance.now()` para precis√£o em milissegundos.\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    // Modo 1: Retorna o tempo atual em milissegundos como o marcador inicial.\n    if (time === undefined) {\n      return performance.now();\n    }\n\n    // Valida√ß√£o para o marcador de tempo do navegador.\n    if (typeof time !== 'number' || !isFinite(time)) {\n      return '0.000';\n    }\n\n    // Modo 2: Calcula a diferen√ßa e formata.\n    const diffMillis = performance.now() - time;\n    return diffMillis.toFixed(3);\n  }\n\n  // Fallback para ambientes muito antigos (raro). Retorna o tempo atual em ms.\n  // Este modo n√£o suporta medi√ß√£o de diferen√ßa de forma precisa.\n  return (Date.now()).toFixed(3);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default getExecutionTime;","/**\n * @file Utilit√°rio seguro para analisar (parse) strings JSON.\n */\n\n/**\n * @summary Analisa uma string JSON de forma segura, com controle sobre o lan√ßamento de erros.\n *\n * @description\n * Esta fun√ß√£o √© um wrapper para `JSON.parse()` que simplifica o tratamento de erros.\n * Em vez de precisar envolver cada chamada em um bloco `try...catch`, voc√™ pode\n * controlar o comportamento em caso de falha atrav√©s do par√¢metro `throwsError`.\n *\n * @param {string} text - A string JSON a ser analisada.\n * @param {boolean} [throwsError=true] - Se `true`, a fun√ß√£o lan√ßar√° uma exce√ß√£o em caso de\n * JSON inv√°lido (comportamento padr√£o de `JSON.parse`). Se `false`, retornar√° `null`.\n *\n * @returns {any | null} O valor ou objeto JavaScript resultante da an√°lise, ou `null` se\n * a an√°lise falhar e `throwsError` for `false`. `JSON.parse` pode retornar qualquer\n * tipo de dado JSON v√°lido (objetos, arrays, strings, n√∫meros, etc.).\n *\n * @throws {SyntaxError | TypeError} Lan√ßa um `TypeError` se a entrada n√£o for uma string,\n * ou um `SyntaxError` se a string for um JSON inv√°lido (e `throwsError` for `true`).\n *\n * @example\n * const jsonValido = '{\"id\": 1, \"name\": \"Arthur\"}';\n * const jsonInvalido = '{\"id\": 1, name: \"Arthur\"}'; // `name` sem aspas\n *\n * // Comportamento seguro (retorna null em caso de erro)\n * const resultado = JSONFrom(jsonInvalido, false);\n * console.log(resultado); // null\n *\n * // Comportamento padr√£o (lan√ßa erro)\n * try {\n * JSONFrom(jsonInvalido, true);\n * } catch (e) {\n * console.error(e.message); // Unexpected token n in JSON at position 11...\n * }\n *\n * const objeto = JSONFrom(jsonValido);\n * console.log(objeto.name); // \"Arthur\"\n */\nfunction JSONFrom(text, throwsError = true) {\n  // 1. Valida√ß√£o do tipo de entrada. `JSON.parse` espera uma string.\n  if (typeof text !== \"string\") {\n    if (throwsError) {\n      throw new TypeError(\"A entrada para JSONFrom deve ser uma string.\");\n    }\n    return null;\n  }\n\n  try {\n    // 2. Tenta analisar a string.\n    return JSON.parse(text);\n  } catch (error) {\n    // 3. Lida com erros de an√°lise com base na op√ß√£o fornecida.\n    if (throwsError) {\n      // Re-lan√ßa o erro original de `JSON.parse`.\n      throw error;\n    }\n\n    // Se os erros n√£o devem ser lan√ßados, retorna null.\n    return null;\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default JSONFrom;\n","/**\n * @file Utilit√°rio seguro para converter valores JavaScript em strings JSON.\n */\n\n/**\n * @summary Converte um valor JavaScript para uma string JSON de forma segura.\n *\n * @description\n * Esta fun√ß√£o √© um wrapper para `JSON.stringify()` que simplifica o tratamento de erros.\n * `JSON.stringify` pode lan√ßar uma exce√ß√£o ao tentar serializar estruturas com\n * refer√™ncias circulares ou valores `BigInt`. Esta fun√ß√£o permite capturar esses erros\n * e retornar `null` em vez de quebrar a execu√ß√£o do programa.\n *\n * @param {any} object - O valor JavaScript (objeto, array, primitivo, etc.) a ser convertido.\n * @param {boolean} [throwsError=true] - Se `true`, a fun√ß√£o lan√ßar√° uma exce√ß√£o em caso de\n * erro na serializa√ß√£o. Se `false`, retornar√° `null`.\n *\n * @returns {string | null} A string JSON resultante, ou `null` se a serializa√ß√£o falhar e\n * `throwsError` for `false`.\n *\n * @throws {TypeError} Lan√ßa um `TypeError` se o valor contiver refer√™ncias circulares\n * ou um `BigInt` (e `throwsError` for `true`).\n *\n * @example\n * const user = { id: 1, name: 'Arthur' };\n * const jsonString = JSONTo(user);\n * console.log(jsonString); // '{\"id\":1,\"name\":\"Arthur\"}'\n *\n * // Exemplo com refer√™ncia circular, que normalmente quebraria a aplica√ß√£o\n * const obj = { name: 'obj' };\n * obj.self = obj;\n *\n * // Comportamento seguro (retorna null)\n * const resultado = JSONTo(obj, false);\n * console.log(resultado); // null\n *\n * // Comportamento padr√£o (lan√ßa erro)\n * try {\n * JSONTo(obj, true);\n * } catch (e) {\n * console.error(e.message); // Ex: \"Converting circular structure to JSON...\"\n * }\n */\nfunction JSONTo(object = {}, throwsError = true) {\n  try {\n    // 1. Tenta converter o valor para uma string JSON.\n    return JSON.stringify(object);\n  } catch (error) {\n    // 2. Lida com erros de serializa√ß√£o (ex: refer√™ncias circulares).\n    if (throwsError) {\n      // Re-lan√ßa o erro original, mantendo o comportamento padr√£o do JavaScript.\n      throw error;\n    }\n\n    // Se os erros n√£o devem ser lan√ßados, retorna null.\n    return null;\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default JSONTo;","/**\n * Retrieves the appropriate cryptographic module for the current environment.\n *\n * This function performs environment detection to determine whether the code is executing\n * in a browser or Node.js environment, then returns the corresponding cryptographic module.\n * The function prioritizes browser environments when `window` is available, falling back\n * to Node.js crypto module when running in server-side environments.\n *\n * @returns {Crypto|Object} The cryptographic module appropriate for the current environment:\n *                          - Browser: Returns `window.crypto` (Web Crypto API)\n *                          - Node.js: Returns the native `crypto` module\n *\n * @throws {Error} When cryptographic capabilities are unavailable:\n *                 - Browser: When `window.crypto` is undefined (typically HTTP contexts)\n *                 - Node.js: When the `crypto` module cannot be loaded\n *\n * @example\n * // Browser environment - Web Crypto API usage\n * const crypto = getCrypto();\n * const encoder = new TextEncoder();\n * const data = encoder.encode('hello world');\n * crypto.subtle.digest('SHA-256', data).then(hash => {\n *   console.log(new Uint8Array(hash));\n * });\n *\n * @example\n * // Node.js environment - crypto module usage\n * const crypto = getCrypto();\n * const hash = crypto.createHash('sha256')\n *   .update('hello world', 'utf8')\n *   .digest('hex');\n * console.log(hash);\n *\n * @example\n * // Universal usage pattern with error handling\n * try {\n *   const crypto = getCrypto();\n *   // Use crypto based on environment capabilities\n * } catch (error) {\n *   console.error('Cryptographic module unavailable:', error.message);\n * }\n */\nfunction getCrypto() {\n  // Check for browser environment by testing window object availability\n  if (typeof window !== \"undefined\" && typeof window.crypto !== \"undefined\") {\n    // Return browser's Web Crypto API\n    return window.crypto;\n  }\n  \n  // Server-side environment detected - load Node.js crypto module\n  try {\n    // Try different methods to load crypto module for maximum compatibility\n    \n    // Method 1: Try global require (CommonJS or Node.js with createRequire)\n    if (typeof require !== 'undefined') {\n      return require('crypto');\n    }\n    \n    // ESM in Node.js (no require available)\n    if (typeof module !== \"undefined\" && module.createRequire) {\n      const require = module.createRequire(import.meta.url);\n      return require(\"crypto\");\n    }\n    \n    // If all methods fail, throw descriptive error\n    throw new Error('No method available to load crypto module in current environment');\n    \n  } catch (error) {\n    throw new Error(`Failed to load crypto module: ${error.message}`);\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Export for ESM\nexport default getCrypto;","import getCrypto from './getCrypto.js';\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Imports cryptographic keys using the Web Crypto API in a cross-platform manner.\n *\n * This function provides a unified interface for importing cryptographic keys across\n * different environments (browser and Node.js). It handles the environment-specific\n * crypto module retrieval and delegates the actual key import operation to the\n * appropriate Web Crypto API implementation.\n *\n * The function supports all standard key formats and algorithms supported by the\n * Web Crypto API, including RSA, ECDSA, ECDH, AES, and HMAC keys.\n *\n * @param {string} format - The data format of the key to import. Supported values:\n *                          - 'raw': Raw key data (typically for symmetric keys)\n *                          - 'spki': SubjectPublicKeyInfo format (for public keys)\n *                          - 'pkcs8': PKCS #8 format (for private keys)\n *                          - 'jwk': JSON Web Key format\n *\n * @param {BufferSource|ArrayBuffer|Uint8Array|Object} keyData - The key material to import:\n *                          - For 'raw', 'spki', 'pkcs8': BufferSource (ArrayBuffer, Uint8Array, etc.)\n *                          - For 'jwk': JavaScript object representing the JSON Web Key\n *\n * @param {Object|string} algorithm - Algorithm specification for the key:\n *                          - Object: Detailed algorithm parameters (e.g., { name: 'RSA-PSS', hash: 'SHA-256' })\n *                          - String: Simple algorithm name (e.g., 'AES-GCM', 'RSA-OAEP')\n *\n * @param {boolean} extractable - Key extractability flag:\n *                          - true: Key can be exported using crypto.subtle.exportKey()\n *                          - false: Key cannot be extracted (more secure for sensitive keys)\n *\n * @param {string[]} keyUsages - Array of permitted key operations:\n *                          - 'encrypt', 'decrypt': For encryption/decryption operations\n *                          - 'sign', 'verify': For digital signature operations\n *                          - 'deriveKey', 'deriveBits': For key derivation operations\n *                          - 'wrapKey', 'unwrapKey': For key wrapping operations\n *\n * @returns {Promise<CryptoKey>} Promise resolving to the imported CryptoKey object.\n *                          The CryptoKey can be used with other Web Crypto API methods\n *                          for cryptographic operations based on the specified keyUsages.\n *\n * @throws {Error} Throws an error if:\n *                 - The crypto module is unavailable in the current environment\n *                 - Invalid key format or algorithm specification\n *                 - Key data is malformed or incompatible with the specified format\n *                 - Requested key usages are incompatible with the algorithm\n *                 - Environment doesn't support the specified algorithm\n *\n * @example\n * // Import RSA public key from SPKI format\n * const publicKeyData = new Uint8Array([...]); // DER-encoded SPKI data\n * const publicKey = await importCryptoKey(\n *   'spki',\n *   publicKeyData,\n *   {\n *     name: 'RSA-OAEP',\n *     hash: 'SHA-256'\n *   },\n *   false,\n *   ['encrypt']\n * );\n *\n * @example\n * // Import AES symmetric key from raw bytes\n * const keyBytes = crypto.getRandomValues(new Uint8Array(32)); // 256-bit key\n * const aesKey = await importCryptoKey(\n *   'raw',\n *   keyBytes,\n *   { name: 'AES-GCM' },\n *   true,\n *   ['encrypt', 'decrypt']\n * );\n *\n * @example\n * // Import key from JSON Web Key format\n * const jwkData = {\n *   kty: 'RSA',\n *   use: 'sig',\n *   n: '...', // base64url-encoded modulus\n *   e: 'AQAB', // base64url-encoded exponent\n *   // ... other JWK properties\n * };\n * const rsaKey = await importCryptoKey(\n *   'jwk',\n *   jwkData,\n *   { name: 'RSA-PSS', hash: 'SHA-256' },\n *   false,\n *   ['verify']\n * );\n */\nasync function importCryptoKey(format, keyData, algorithm, extractable, keyUsages) {\n  // Retrieve the appropriate crypto module for the current environment\n  const crypto = getCrypto();\n  \n  // Delegate key import operation to the Web Crypto API\n  // The subtle.importKey method handles the actual cryptographic key parsing and validation\n  return await crypto.subtle.importKey(\n    format,\n    keyData,\n    algorithm,\n    extractable,\n    keyUsages\n  );\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Export for CommonJS compatibility (Node.js)\nexport default importCryptoKey;","import getCrypto from \"./getCrypto.js\";\nimport base64FromBuffer from \"../utils/base64FromBuffer.js\";\nimport importCryptoKey from \"./importCryptoKey.js\";\nimport base64ToBuffer from \"../utils/base64ToBuffer.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Criptografa dados bin√°rios (Buffer/Uint8Array) usando uma chave p√∫blica RSA.\n *\n * Esta fun√ß√£o gerencia o fluxo de criptografia completo: processa uma chave p√∫blica\n * em formato PEM, importa-a para a Web Crypto API e criptografa os dados usando\n * o algoritmo RSA-OAEP, que √© o padr√£o da ind√∫stria para preenchimento (padding).\n *\n * @async\n * @function encryptBuffer\n *\n * @param {string} publicKey A chave p√∫blica em formato PEM. Deve ser uma string\n * v√°lida, incluindo os cabe√ßalhos `-----BEGIN PUBLIC KEY-----` e `-----END PUBLIC KEY-----`.\n *\n * @param {Buffer|Uint8Array} messageBuffer Os dados bin√°rios a serem criptografados.\n * - Em Node.js, pode ser um `Buffer`.\n * - No navegador, pode ser um `Uint8Array`.\n * - O tamanho m√°ximo dos dados √© limitado pelo tamanho da chave e pelo esquema de\n * padding. Por exemplo:\n * - Chave de 2048 bits (RSA-OAEP): ~190 bytes.\n * - Chave de 4096 bits (RSA-OAEP): ~446 bytes.\n *\n * @param {object} [options={}] Op√ß√µes para personalizar a importa√ß√£o da chave e a criptografia.\n * @property {string} [options.format='spki'] O formato da chave a ser importada.\n * Valores comuns s√£o 'spki' (padr√£o) ou 'jwk'.\n * @property {RsaHashedImportParams} [options.algorithm={name: 'RSA-OAEP', hash: 'SHA-256'}]\n * O algoritmo a ser usado para a importa√ß√£o da chave.\n * @property {boolean} [options.extractable=true] Se a chave importada pode ser exportada.\n * @property {string[]} [options.keyUsages=['encrypt']] As opera√ß√µes permitidas para a chave.\n * Deve incluir 'encrypt'.\n * @property {string} [options.padding='RSA-OAEP'] O esquema de preenchimento (padding) a ser\n * usado na criptografia.\n *\n * @returns {Promise<string>} Uma Promise que resolve para uma string codificada em base64\n * contendo os dados criptografados. Retorna uma string vazia se `messageBuffer` for vazio.\n *\n * @throws {Error} Lan√ßa um erro se a chave for inv√°lida, a mensagem exceder o\n * limite de tamanho para a chave, ou se a opera√ß√£o criptogr√°fica falhar.\n *\n * @example\n * // Exemplo de uso para criptografar uma mensagem\n * const publicKeyPem = `-----BEGIN PUBLIC KEY-----\n * MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA...\n * -----END PUBLIC KEY-----`;\n *\n * // No Node.js:\n * // const buffer = Buffer.from('Hello, World!');\n *\n * // No navegador:\n * // const buffer = new TextEncoder().encode('Hello, World!');\n *\n * try {\n * const encrypted = await encryptBuffer(publicKeyPem, buffer);\n * console.log('Dados criptografados (base64):', encrypted);\n * } catch (error) {\n * console.error('Falha na criptografia:', error);\n * }\n */\nasync function encryptBuffer(publicKey, messageBuffer, props = {}) {\n  // Handle empty buffer case early for performance\n  if (!messageBuffer || messageBuffer.length === 0) return \"\";\n\n  // Extract crypto module for the current environment\n  const crypto = getCrypto();\n\n  // Clean and convert PEM-formatted public key to binary format\n  const cleanedPublicKey = publicKey.replace(\n    /(-----(BEGIN|END) (RSA )?(PRIVATE|PUBLIC) KEY-----|\\s)/g,\n    \"\"\n  );\n  const binaryPublicKey = base64ToBuffer(cleanedPublicKey);\n\n  // Destructure configuration with defaults\n  const {\n    format = \"spki\",\n    algorithm = { name: \"RSA-OAEP\", hash: { name: \"SHA-256\" } },\n    extractable = true,\n    keyUsages = [\"encrypt\"],\n    padding = \"RSA-OAEP\",\n  } = props || {};\n\n  // Import the public key into Web Crypto API format\n  const importedKey = await importCryptoKey(\n    format || \"spki\",\n    binaryPublicKey,\n    algorithm || {\n      name: \"RSA-OAEP\",\n      hash: { name: \"SHA-256\" },\n    },\n    extractable !== undefined ? extractable : true,\n    keyUsages || [\"encrypt\"]\n  );\n\n  // Perform the actual encryption operation using the imported key\n  const encryptedBuffer = await crypto.subtle.encrypt(\n    { name: padding || \"RSA-OAEP\" },\n    importedKey,\n    messageBuffer\n  );\n\n  // Convert encrypted binary data to base64 for safe text transmission\n  return base64FromBuffer(encryptedBuffer);\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Export for CommonJS compatibility (Node.js)\nexport default encryptBuffer;\n","import encryptBuffer from \"../crypto/encryptBuffer\";\nimport bufferFromString from \"../utils/bufferFromString\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @summary Encripta uma mensagem em peda√ßos (chunks) usando RSA-OAEP.\n *\n * @description\n * Esta fun√ß√£o ass√≠ncrona primeiro converte o payload para um buffer de bytes.\n * Em seguida, divide esse buffer em peda√ßos (chunks) e encripta cada um deles\n * em paralelo para m√°xima performance. O resultado √© um array de strings, onde\n * cada uma representa um peda√ßo encriptado em base64.\n *\n * @param {string} publicKey - A chave p√∫blica RSA (formato string PEM) a ser usada.\n * @param {object} payload - A carga a ser encriptada.\n * @param {object} [props={}] - Propriedades adicionais para a encripta√ß√£o.\n * @param {number} [props.chunkSize=190] - O tamanho m√°ximo de cada peda√ßo em bytes.\n * O padr√£o 190 √© o limite seguro para chaves RSA de 2048 bits com padding OAEP.\n *\n * @returns {Promise<string[]>} Uma Promise que resolve para um array de peda√ßos encriptados.\n */\nasync function messageEncryptToChunks(publicKey, payload, props = {}) {\n  if (payload === undefined || payload === null) {\n    return []; // Retornar um array vazio √© mais consistente com o tipo de retorno\n  }\n  let { chunkSize } = props || {};\n  if (!isFinite(chunkSize) || chunkSize <= 0) {\n    chunkSize = 190;\n  }\n\n  const jsonPayload = JSON.stringify({ data: payload });\n  const bufferPayload = bufferFromString(jsonPayload);\n  const chunks = [];\n\n  // 1. Divide o buffer principal em v√°rios buffers menores (chunks).\n  for (let i = 0; i < bufferPayload.length; i += chunkSize) {\n    chunks.push(bufferPayload.slice(i, i + chunkSize));\n  }\n\n  // 2. Mapeia cada chunk de buffer para uma promessa de encripta√ß√£o.\n  const encryptionPromises = chunks.map((chunk) => {\n    return encryptBuffer(publicKey, chunk, props);\n  });\n  \n  // 3. Executa todas as encripta√ß√µes em paralelo para m√°xima performance.\n  return await Promise.all(encryptionPromises);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default messageEncryptToChunks;\n","import getCrypto from \"./getCrypto\";\nimport base64ToBuffer from \"../utils/base64ToBuffer\";\nimport importCryptoKey from \"./importCryptoKey.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Decriptografa uma mensagem em base64 usando uma chave privada RSA.\n *\n * Esta fun√ß√£o gerencia o fluxo de decriptografia completo: processa uma chave privada\n * em formato PEM, decodifica a mensagem criptografada de base64, importa a chave\n * para a Web Crypto API e decriptografa os dados usando o algoritmo RSA-OAEP.\n *\n * @async\n * @function decryptBuffer\n *\n * @param {string} privateKey A chave privada em formato PEM. Deve ser uma string\n * v√°lida, incluindo os cabe√ßalhos `-----BEGIN PRIVATE KEY-----` e `-----END PRIVATE KEY-----`.\n *\n * @param {string} encryptedMessage A mensagem criptografada e codificada em base64\n * que ser√° decriptografada.\n *\n * @param {object} [options={}] Op√ß√µes para personalizar a importa√ß√£o da chave e a decriptografia.\n * @property {string} [options.format='pkcs8'] O formato da chave privada a ser importada.\n * O padr√£o 'pkcs8' √© o formato mais comum.\n * @property {RsaHashedImportParams} [options.algorithm={name: 'RSA-OAEP', hash: 'SHA-256'}]\n * O algoritmo a ser usado para a importa√ß√£o da chave.\n * @property {boolean} [options.extractable=true] Se a chave importada pode ser exportada.\n * @property {string[]} [options.keyUsages=['decrypt']] As opera√ß√µes permitidas para a chave.\n * Deve incluir 'decrypt'.\n * @property {string} [options.padding='RSA-OAEP'] O esquema de preenchimento (padding)\n * usado na decriptografia. Deve ser o mesmo usado na criptografia.\n *\n * @returns {Promise<Buffer|Uint8Array>} Uma Promise que resolve para os dados\n * decriptografados como um `Buffer` (em Node.js) ou `Uint8Array` (no navegador).\n * Retorna uma string vazia se `encryptedMessage` for vazio.\n *\n * @throws {Error} Lan√ßa um erro se a chave for inv√°lida, a mensagem estiver\n * corrompida, ou se a opera√ß√£o criptogr√°fica falhar (ex: padding incorreto).\n *\n * @example\n * // Supondo que `encryptedBase64` foi gerado pela fun√ß√£o `encryptBuffer`\n * // e `privateKeyPem` √© a chave privada correspondente.\n *\n * try {\n * const decryptedBuffer = await decryptBuffer(privateKeyPem, encryptedBase64);\n *\n * // Para visualizar o resultado como texto:\n * // No Node.js:\n * // console.log('Mensagem decriptografada:', decryptedBuffer.toString('utf8'));\n *\n * // No navegador:\n * // console.log('Mensagem decriptografada:', new TextDecoder().decode(decryptedBuffer));\n * } catch (error) {\n * console.error('Falha na decriptografia:', error);\n * }\n */\nasync function decryptBuffer(privateKey, encryptedMessage, props = {}) {\n  // Early return for empty encrypted messages\n  if (!encryptedMessage) {\n    // Retorna um Uint8Array vazio no navegador ou Buffer vazio no Node\n    return getCrypto().subtle ? new Uint8Array(0) : Buffer.alloc(0);\n  }\n\n  // Destructure configuration with defaults\n  const {\n    format = \"pkcs8\",\n    algorithm = { name: \"RSA-OAEP\", hash: { name: \"SHA-256\" } },\n    extractable = true,\n    keyUsages = [\"decrypt\"],\n    padding = \"RSA-OAEP\"\n  } = props || {};\n\n  // Get crypto implementation\n  const crypto = getCrypto();\n\n  // Clean and convert PEM private key to binary\n  const cleanedPrivateKey = privateKey.replace(\n    /-----(BEGIN|END) (?:RSA )?(?:PRIVATE|PUBLIC) KEY-----|\\s/g,\n    \"\"\n  );\n  const binaryPrivateKey = base64ToBuffer(cleanedPrivateKey);\n\n  // Import the private key\n  const importedKey = await importCryptoKey(\n    format,\n    binaryPrivateKey,\n    algorithm,\n    extractable,\n    keyUsages\n  );\n\n  // Convert base64 encrypted message to binary\n  const encryptedData = base64ToBuffer(encryptedMessage);\n\n  // Perform decryption\n  const decryptedBuffer = await crypto.subtle.decrypt(\n    { name: padding },\n    importedKey,\n    encryptedData\n  );\n\n  // Return the raw decrypted buffer\n  return decryptedBuffer;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default decryptBuffer;","import decryptBuffer from \"../crypto/decryptBuffer\";\nimport bufferToString from \"../utils/bufferToString\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @summary Decripta uma mensagem a partir de peda√ßos (chunks) encriptados.\n *\n * @description\n * Esta fun√ß√£o ass√≠ncrona recebe um array de peda√ßos encriptados, decripta cada um\n * deles em paralelo para m√°xima performance, e ent√£o concatena os buffers resultantes\n * para reconstruir a mensagem original.\n *\n * @param {string} privateKey - A chave privada RSA (formato string PEM) a ser usada.\n * @param {string[]} messageChunks - Um array de strings, onde cada uma √© um peda√ßo encriptado.\n * @param {object} [props={}] - Propriedades adicionais para a decripta√ß√£o.\n *\n * @returns {Promise<any>} Uma Promise que resolve para o payload original decriptado.\n */\nasync function messageDecryptFromChunks(privateKey, messageChunks, props = {}) {\n  if (!messageChunks || messageChunks.length === 0) {\n    return \"\";\n  }\n\n  const decryptionPromises = messageChunks.map(chunk =>\n    decryptBuffer(privateKey, chunk, props)\n  );\n  const decryptedBuffers = await Promise.all(decryptionPromises);\n\n  \n  // L√≥gica de concatena√ß√£o de alta performance.\n  // Etapa A: Calcula o tamanho total necess√°rio para o buffer final.\n  let totalLength = 0;\n  for (const buffer of decryptedBuffers) {\n    totalLength += buffer.byteLength;\n  }\n\n  // Etapa B: Aloca um √∫nico buffer grande (Uint8Array) de uma s√≥ vez.\n  const finalBuffer = new Uint8Array(totalLength);\n\n  // Etapa C: Copia cada buffer decriptado para a sua posi√ß√£o correta no buffer final.\n  let offset = 0;\n  for (const buffer of decryptedBuffers) {\n    finalBuffer.set(new Uint8Array(buffer), offset);\n    offset += buffer.byteLength;\n  }\n\n  const jsonString = bufferToString(finalBuffer);\n  \n  const payload = JSON.parse(jsonString);\n\n  return payload.data;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default messageDecryptFromChunks;","import isNumber from \"../helpers/isNumber\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para normalizar strings, removendo acentos.\n */\n\n/**\n * @summary Remove acentos e outros caracteres diacr√≠ticos de uma string.\n *\n * @description\n * Esta fun√ß√£o converte uma string para sua forma normalizada (NFD - Normalization Form\n * Canonical Decomposition), que separa os caracteres base de seus acentos (marcas\n * diacr√≠ticas combinadas). Em seguida, uma express√£o regular remove essas marcas,\n * resultando em uma string \"limpa\", sem acentua√ß√£o.\n *\n * A fun√ß√£o processa apenas entradas do tipo `string` ou `number`, retornando\n * outros tipos de dados inalterados.\n *\n * @param {string | number} [text=\"\"] - O texto a ser normalizado.\n *\n * @returns {*} A string normalizada, ou o valor original se a entrada n√£o for\n * uma string ou n√∫mero.\n *\n * @example\n * const acentuado = 'P√£o de A√ß√∫car & Lingui√ßa';\n * const normalizado = normalize(acentuado);\n * console.log(normalizado); // \"Pao de Acucar & Linguica\"\n *\n * normalize(123.45); // Retorna a string \"123.45\"\n * normalize({ a: 1 }); // Retorna o objeto { a: 1 } inalterado\n */\nfunction normalize(text = \"\") {\n  // 1. Verifica se a entrada √© um tipo que pode ser normalizado (string ou n√∫mero).\n  if (isNumber(text) || typeof text === \"string\") {\n    // 2. Converte para string (caso seja n√∫mero) e aplica a normaliza√ß√£o.\n    // \"NFD\" decomp√µe um caractere como \"√ß\" em seus componentes: \"c\" + \"¬∏\".\n    // A regex /[\\u0300-\\u036f]/g ent√£o remove o componente de acentua√ß√£o (o intervalo\n    // Unicode para \"Combining Diacritical Marks\").\n    return String(text)\n      .normalize(\"NFD\")\n      .replace(/[\\u0300-\\u036f]/g, \"\");\n  }\n\n  // 3. Se a entrada n√£o for do tipo esperado, retorna-a inalterada.\n  return text;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default normalize;","/**\n * @fileoverview Fornece uma fun√ß√£o para criar um novo objeto contendo apenas um\n * subconjunto de chaves de um objeto de origem.\n */\n\n/**\n * @summary Cria um novo objeto contendo apenas as chaves especificadas de um objeto de origem.\n * @description Itera sobre um array de chaves (`keysToPick`) e constr√≥i um novo objeto\n * com as chaves e valores correspondentes do objeto de origem (`sourceObject`).\n * Chaves que existem em `keysToPick` mas n√£o no `sourceObject` s√£o ignoradas.\n * A fun√ß√£o n√£o modifica o objeto original.\n *\n * @param {object} sourceObject - O objeto do qual as propriedades ser√£o selecionadas.\n * @param {string[]} keysToPick - Um array de nomes de chaves (strings) a serem inclu√≠das no novo objeto.\n * @returns {object} Um novo objeto contendo apenas as propriedades selecionadas.\n *\n * @example\n * const user = {\n * id: 123,\n * name: 'John Doe',\n * email: 'john.doe@example.com',\n * isAdmin: true,\n * lastLogin: new Date()\n * };\n *\n * const keys = ['id', 'name', 'email'];\n * const publicUserData = pickKeys(user, keys);\n *\n * // Retorna: { id: 123, name: 'John Doe', email: 'john.doe@example.com' }\n * console.log(publicUserData);\n *\n * @example\n * // Chaves n√£o existentes s√£o simplesmente ignoradas\n * const partialData = pickKeys(user, ['id', 'nonExistentKey']);\n * // Retorna: { id: 123 }\n * console.log(partialData);\n */\nfunction pickKeys(sourceObject, keysToPick) {\n  // Valida√ß√£o de entradas para garantir robustez. Retorna um objeto vazio para entradas inv√°lidas.\n  if (\n    sourceObject === null ||\n    typeof sourceObject !== \"object\" ||\n    Array.isArray(sourceObject)\n  ) {\n    return {};\n  }\n  if (!Array.isArray(keysToPick)) {\n    return {};\n  }\n\n  // Usa reduce para construir o novo objeto de forma eficiente e funcional.\n  return keysToPick.reduce((newObj, key) => {\n    // Verifica se a chave existe como uma propriedade pr√≥pria do objeto de origem.\n    // Usar Object.prototype.hasOwnProperty.call √© a forma mais segura de fazer essa checagem.\n    if (Object.prototype.hasOwnProperty.call(sourceObject, key)) {\n      newObj[key] = sourceObject[key];\n    }\n    return newObj;\n  }, {});\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default pickKeys;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @file Utilit√°rio para adicionar mensagens a um array de log.\n */\n\n/**\n * @typedef {object} LogEntry - Define a estrutura de uma entrada de log.\n * @property {string} time - O timestamp da entrada de log no formato ISO (UTC).\n * @property {string} message - A mensagem de log.\n * @property {*} [more_info] - Opcional. Informa√ß√µes adicionais ou metadados.\n */\n\n/**\n * @summary Adiciona uma nova entrada a um array de logs, modificando-o.\n *\n * @description\n * Esta fun√ß√£o adiciona uma nova entrada de log (com timestamp, mensagem e informa√ß√µes\n * adicionais) diretamente a um array existente.\n *\n * **Aten√ß√£o:** Esta fun√ß√£o √© **mut√°vel**, o que significa que ela **modifica\n * diretamente** o array `logObj` passado como argumento. Se o `logObj` fornecido n√£o\n * for um array, um novo array ser√° criado e retornado.\n *\n * @param {LogEntry[]} logObj - O array de log a ser modificado.\n * @param {string} message - A mensagem de log a ser adicionada.\n * @param {*} [more_info] - Opcional. Qualquer informa√ß√£o ou objeto adicional a ser inclu√≠do no log.\n *\n * @returns {LogEntry[]} O mesmo array de log que foi passado, agora com a nova mensagem.\n *\n * @example\n * const meuLog = [{ time: '...', message: 'Servi√ßo iniciado.' }];\n * pushLogMessage(meuLog, 'Usu√°rio conectado.', { userId: 123 });\n *\n * // O array original FOI modificado\n * console.log(meuLog.length); // 2\n * console.log(meuLog[1].message); // \"Usu√°rio conectado.\"\n *\n * // Se a vari√°vel de log n√£o for um array, um novo √© criado\n * let logInexistente; // undefined\n * logInexistente = pushLogMessage(logInexistente, 'Primeira mensagem.');\n * console.log(logInexistente.length); // 1\n */\nfunction pushLogMessage(logObj, message, more_info) {\n  // 1. Verifica se o `logObj` de entrada √© um array.\n  // Se n√£o for, um novo array √© criado para a vari√°vel local `logObj`.\n  if (!Array.isArray(logObj)) {\n    logObj = [];\n  }\n\n  // 2. Cria a nova entrada de log.\n  const newEntry = {\n    time: new Date().toISOString(),\n    message,\n  };\n\n  // Adiciona o campo `more_info` ao objeto de log apenas se ele tiver sido fornecido.\n  if (more_info !== undefined) {\n    newEntry.more_info = more_info;\n  }\n\n  // 3. Adiciona a nova entrada diretamente ao array (muta√ß√£o).\n  logObj.push(newEntry);\n\n  // 4. Retorna o array modificado.\n  return logObj;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default pushLogMessage;","import toString from \"./toString.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para extrair apenas d√≠gitos de um valor.\n */\n\n/**\n * @summary Extrai apenas os d√≠gitos de uma string ou de outro valor.\n *\n * @description\n * Esta fun√ß√£o recebe um valor de qualquer tipo, o converte para uma string e remove\n * todos os caracteres que n√£o s√£o d√≠gitos (0-9). √â √∫til para limpar entradas de\n * usu√°rio, como n√∫meros de telefone, CEPs ou CPFs que podem conter m√°scaras\n * (pontos, tra√ßos, par√™nteses).\n *\n * @param {*} [text=\"\"] - O valor do qual os d√≠gitos ser√£o extra√≠dos.\n *\n * @returns {string} Uma string contendo apenas os d√≠gitos do valor de entrada.\n *\n * @example\n * const phoneNumber = '(11) 98765-4321';\n * const digits = regexDigitsOnly(phoneNumber);\n * console.log(digits); // \"11987654321\"\n *\n * const price = 'R$ 19,90';\n * const priceDigits = regexDigitsOnly(price);\n * console.log(priceDigits); // \"1990\"\n *\n * regexDigitsOnly(123.45); // Retorna \"12345\"\n */\nfunction regexDigitsOnly(text = \"\") {\n  // 1. Converte a entrada para uma string de forma segura.\n  const stringValue = toString(text);\n\n  // 2. Remove todos os caracteres que n√£o s√£o d√≠gitos (0-9).\n  // A regex `/[^0-9]/g` encontra qualquer caractere que n√£o esteja no intervalo de 0 a 9\n  // e o substitui por uma string vazia.\n  return stringValue.replace(/[^0-9]/g, \"\");\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default regexDigitsOnly;","import toString from \"./toString.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para substituir caracteres em uma string com base em um conjunto permitido.\n */\n\n/**\n * @summary Substitui caracteres em uma string que n√£o pertencem a um conjunto de caracteres permitido.\n *\n * @description\n * Esta fun√ß√£o cria dinamicamente uma express√£o regular a partir de uma string que define um\n * conjunto de caracteres permitidos. Ela ent√£o remove ou substitui todos os caracteres da\n * string de entrada que n√£o fazem parte desse conjunto. √â uma ferramenta flex√≠vel\n * para limpar e sanitizar strings.\n *\n * @param {*} [text=\"\"] - O valor a ser processado, que ser√° convertido para string.\n * @param {string} [regex=\"A-Za-z√Ä-√∫0-9 \"] - Uma string que define o conjunto de caracteres\n * a serem **mantidos**. Pode incluir intervalos, como `A-Z` ou `0-9`.\n * @param {string} [replacement=\"\"] - A string que substituir√° cada caractere n√£o permitido.\n * @param {boolean} [trim=true] - Se `true`, remove espa√ßos em branco do in√≠cio e do fim do resultado.\n *\n * @returns {string} A string resultante ap√≥s a substitui√ß√£o e o trim opcional.\n *\n * @example\n * // Manter apenas letras e n√∫meros, substituindo o resto por '*'\n * const text = \"Hello! @123 World_456\";\n * const allowed = \"A-Za-z0-9\";\n * const result = regexReplaceTrim(text, allowed, \"*\");\n * console.log(result); // \"Hello***123*World*456\"\n *\n * // Manter apenas letras mai√∫sculas e remover o resto\n * const textWithSpaces = \"   A B C   \";\n * const resultTrimmed = regexReplaceTrim(textWithSpaces, \"A-Z\", \"\");\n * console.log(resultTrimmed); // \"ABC\"\n */\nfunction regexReplaceTrim(\n  text = \"\",\n  regex = \"A-Za-z√Ä-√∫0-9 \",\n  replacement = \"\",\n  trim = true\n) {\n  // 1. Converte as entradas para string para garantir a opera√ß√£o.\n  const stringValue = toString(text);\n  const allowedChars = toString(regex);\n  const replacementValue = toString(replacement);\n\n  // 2. Constr√≥i a express√£o regular que corresponde a qualquer caractere N√ÉO presente no conjunto.\n  // A string `allowedChars` √© inserida diretamente para permitir intervalos como 'A-Z'.\n  const filterRegex = new RegExp(`[^${allowedChars}]`, \"g\");\n\n  // 3. Realiza a substitui√ß√£o uma √∫nica vez para evitar duplica√ß√£o de c√≥digo.\n  let result = stringValue.replace(filterRegex, replacementValue);\n\n  // 4. Aplica o trim opcionalmente ao resultado.\n  if (trim) {\n    result = result.trim();\n  }\n\n  return result;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default regexReplaceTrim;","import toString from \"./toString.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para extrair apenas letras de um valor.\n */\n\n/**\n * @summary Extrai apenas caracteres alfab√©ticos (letras) de uma string ou de outro valor.\n *\n * @description\n * Esta fun√ß√£o recebe um valor de qualquer tipo, o converte para uma string e remove\n * todos os caracteres que n√£o s√£o letras, como n√∫meros, s√≠mbolos, espa√ßos e\n * pontua√ß√£o. Ela preserva tanto letras do alfabeto padr√£o (a-z, A-Z) quanto\n * a maioria das letras acentuadas comuns (√†, √ß, √µ, etc.).\n *\n * @param {*} [text=\"\"] - O valor do qual as letras ser√£o extra√≠das.\n *\n * @returns {string} Uma string contendo apenas as letras do valor de entrada.\n *\n * @example\n * const fullName = 'Jos√© \"Z√©\" da Silva - 1985';\n * const letters = regexLettersOnly(fullName);\n * console.log(letters); // \"Jos√©Z√©daSilva\"\n *\n * const product = 'Camiseta (Polo) - Azul';\n * const productName = regexLettersOnly(product);\n * console.log(productName); // \"CamisetaPoloAzul\"\n */\nfunction regexLettersOnly(text = \"\") {\n  // 1. Converte a entrada para uma string de forma segura.\n  const stringValue = toString(text);\n\n  // 2. Remove todos os caracteres que n√£o s√£o letras.\n  // A regex `/[^A-Za-z√Ä-√∫]/g` encontra qualquer caractere que n√£o esteja nos\n  // intervalos de 'A' a 'Z', 'a' a 'z', ou no intervalo de caracteres acentuados comuns.\n  return stringValue.replace(/[^A-Za-z√Ä-√∫]/g, \"\");\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default regexLettersOnly;","import toString from \"./toString.js\";\nimport isObject from \"../helpers/isObject\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para remover substrings duplicadas de uma string.\n */\n\n/**\n * @summary Remove substrings duplicadas de um texto, com op√ß√£o de ignorar mai√∫sculas/min√∫sculas.\n *\n * @description\n * Esta fun√ß√£o divide uma string em um array de substrings, remove as duplicatas\n * e une as substrings de volta em uma √∫nica string.\n *\n * **Comportamento Importante:**\n * - No modo padr√£o (sens√≠vel a mai√∫sculas/min√∫sculas), a **primeira** ocorr√™ncia de uma substring √© mantida.\n * - No modo insens√≠vel a mai√∫sculas/min√∫sculas, a **√∫ltima** ocorr√™ncia de uma substring √© mantida, preservando sua capitaliza√ß√£o original.\n *\n * @param {*} text - O valor a ser processado, que ser√° convertido para string.\n * @param {string} [splitString=\" \"] - O caractere ou string usado para dividir o texto.\n * @param {boolean} [caseInsensitive=false] - Se `true`, a compara√ß√£o de duplicatas\n * ignorar√° a diferen√ßa entre mai√∫sculas e min√∫sculas.\n *\n * @returns {string} Uma nova string com as substrings duplicadas removidas. Retorna uma\n * string vazia se a entrada for um objeto.\n *\n * @example\n * const phrase = 'apple Orange apple ORANGE';\n *\n * // Sens√≠vel a mai√∫sculas/min√∫sculas (mant√©m a primeira ocorr√™ncia)\n * removeDuplicatedStrings(phrase); // \"apple Orange ORANGE\"\n *\n * // Insens√≠vel a mai√∫sculas/min√∫sculas (mant√©m a √∫ltima ocorr√™ncia)\n * removeDuplicatedStrings(phrase, ' ', true); // \"apple ORANGE\"\n */\nfunction removeDuplicatedStrings(\n  text,\n  splitString = \" \",\n  caseInsensitive = false\n) {\n  // 1. Valida√ß√£o da entrada.\n  if (isObject(text)) {\n    return \"\";\n  }\n\n  // 2. Prepara o array de substrings.\n  const separator = toString(splitString);\n  const array = toString(text)\n    .trim()\n    .split(separator)\n    .filter(v => v);\n\n  // 3. L√≥gica para remover duplicatas.\n  if (!caseInsensitive) {\n    // Mant√©m a PRIMEIRA ocorr√™ncia de cada item.\n    return [...new Set(array)].join(separator);\n  } else {\n    // L√≥gica para manter a √öLTIMA ocorr√™ncia, de forma perform√°tica.\n    const seenIndexes = {};\n    // 1. Mapeia a vers√£o min√∫scula de cada item para o seu √∫ltimo √≠ndice no array.\n    array.forEach((item, index) => {\n      seenIndexes[item.toLowerCase()] = index;\n    });\n\n    // 2. Extrai apenas os √≠ndices que devem ser mantidos (os das √∫ltimas ocorr√™ncias).\n    const indexesToKeep = new Set(Object.values(seenIndexes));\n\n    // 3. Filtra o array original, mantendo apenas os itens nos √≠ndices desejados.\n    // Isso preserva a ordem e a capitaliza√ß√£o corretas.\n    return array\n      .filter((_item, index) => indexesToKeep.has(index))\n      .join(separator);\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default removeDuplicatedStrings;","/**\n * @file Utilit√°rio para criar um atraso (delay) program√°tico.\n */\n\n/**\n * @summary Cria um atraso (delay) program√°tico usando uma Promise.\n *\n * @description\n * Esta fun√ß√£o √© uma vers√£o de `setTimeout` que pode ser usada com `async/await` para pausar\n * a execu√ß√£o de uma fun√ß√£o ass√≠ncrona. Ela retorna uma Promise que ser√° resolvida\n * ou rejeitada ap√≥s o n√∫mero de milissegundos especificado.\n *\n * @param {number} milliseconds - O n√∫mero de milissegundos para esperar. Deve ser um n√∫mero n√£o negativo.\n * @param {*} [returnValue=true] - O valor com o qual a Promise ser√° resolvida ou rejeitada.\n * @param {boolean} [throwError=false] - Se `true`, a Promise ser√° rejeitada. Se `false` (padr√£o),\n * a Promise ser√° resolvida.\n *\n * @returns {Promise<*>} Uma Promise que resolve ou rejeita ap√≥s o atraso.\n *\n * @example\n * async function runProcess() {\n * console.log('Iniciando processo...'); // Ex: 17:18:43\n *\n * // Espera por 2 segundos e continua\n * await sleep(2000);\n * console.log('Processo continuado ap√≥s 2 segundos.'); // Ex: 17:18:45\n *\n * try {\n * // Espera por 1 segundo e ent√£o rejeita a promise\n * await sleep(1000, 'Erro controlado', true);\n * } catch (error) {\n * console.error('Erro capturado:', error); // Erro capturado: Erro controlado\n * }\n * }\n *\n * runProcess();\n */\nfunction sleep(milliseconds, returnValue = true, throwError = false) {\n  // 1. Valida√ß√£o da entrada. Retorna uma promise j√° rejeitada para entradas inv√°lidas.\n  if (typeof milliseconds !== 'number' || milliseconds < 0) {\n    const error = new TypeError('O tempo de espera (milliseconds) deve ser um n√∫mero n√£o negativo.');\n    return Promise.reject(error);\n  }\n\n  // A fun√ß√£o retorna uma nova Promise, que √© o padr√£o para opera√ß√µes ass√≠ncronas.\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      // 2. Decide se a promise deve ser resolvida ou rejeitada com base no par√¢metro.\n      if (throwError) {\n        // Comportamento especial do c√≥digo original: se o valor for o padr√£o `true`,\n        // rejeita com um erro gen√©rico para maior clareza.\n        if (returnValue === true) {\n          return reject(new Error(\"Sleep Error\"));\n        }\n        // Caso contr√°rio, rejeita com o valor personalizado fornecido.\n        return reject(returnValue);\n      }\n\n      // 3. Resolve a promise com o valor fornecido.\n      return resolve(returnValue);\n    }, milliseconds);\n  });\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default sleep;","/**\n * @file Utilit√°rio seguro para dividir (split) strings.\n */\n\n/**\n * @summary Divide uma string em um array de substrings com base em um separador.\n *\n * @description\n * Esta fun√ß√£o √© um wrapper seguro para o m√©todo nativo `String.prototype.split()`.\n * Ela lida com entradas que n√£o s√£o strings (como `null` ou `undefined`) de forma\n * graciosa, retornando um array vazio em vez de lan√ßar um erro, o que a torna\n * mais segura para usar em pipelines de dados.\n *\n * @param {string} text - A string a ser dividida.\n * @param {string | RegExp} [char=\" \"] - O separador. Pode ser uma string ou uma Express√£o Regular.\n *\n * @returns {string[]} Um array de substrings. Retorna um array vazio se a entrada\n * n√£o for uma string v√°lida ou for uma string vazia.\n *\n * @example\n * const fruits = 'ma√ß√£,banana,laranja';\n * const fruitArray = split(fruits, ',');\n * console.log(fruitArray); // ['ma√ß√£', 'banana', 'laranja']\n *\n * const empty = split(null);\n * console.log(empty); // []\n *\n * const sentence = \"O rato roeu a roupa\";\n * const words = split(sentence); // Usa o separador padr√£o \" \"\n * console.log(words); // [\"O\", \"rato\", \"roeu\", \"a\", \"roupa\"]\n */\nfunction split(text, char = \" \") {\n  // 1. Valida√ß√£o: Garante que a entrada √© uma string v√°lida e n√£o vazia.\n  // Se n√£o for, retorna um array vazio para evitar erros em tempo de execu√ß√£o.\n  if (!text || typeof text !== \"string\") {\n    return [];\n  }\n\n  // 2. Delega a opera√ß√£o para o m√©todo nativo e eficiente `split`.\n  return text.split(char);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default split;","import { compressSync, strToU8 } from \"fflate\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio cross-platform e perform√°tico para compress√£o de strings.\n */\n\n/**\n * @typedef {object} CompressionOptions - Op√ß√µes para a fun√ß√£o de compress√£o.\n * @property {'base64' | 'buffer'} [outputType='base64'] - O formato da sa√≠da. 'base64' para uma string ou 'buffer' para um Uint8Array.\n * @property {number} [level=6] - O n√≠vel de compress√£o (0-9). N√≠veis mais altos s√£o mais lentos mas podem gerar sa√≠das menores.\n * @property {number} [mem=8] - O n√≠vel de uso de mem√≥ria (1-12). N√≠veis mais altos s√£o mais r√°pidos e podem comprimir melhor, mas usam mais mem√≥ria.\n */\n\n/**\n * @summary Comprime uma string usando o algoritmo DEFLATE, retornando Base64 ou um buffer.\n *\n * @description\n * Esta fun√ß√£o s√≠ncrona recebe uma string, a converte para bytes em UTF-8 e a comprime\n * de forma eficiente usando a biblioteca `fflate`. O resultado √© retornado no formato\n * especificado pelo `outputType`: uma string Base64 (ideal para transmiss√£o em texto)\n * ou um `Uint8Array` (para manipula√ß√£o bin√°ria).\n *\n * @param {string} text - A string a ser comprimida.\n * @param {CompressionOptions} [options={}] - Op√ß√µes para customizar a compress√£o e o formato de sa√≠da.\n *\n * @returns {string | Uint8Array} A string comprimida em Base64 ou o `Uint8Array` dos dados comprimidos.\n * Retorna um valor vazio apropriado (string ou Uint8Array) para entradas inv√°lidas.\n *\n * @example\n * const textoOriginal = 'Um texto longo para ser comprimido. Repetir, repetir, repetir.';\n *\n * // Comprimir para Base64 (padr√£o)\n * const comprimidoB64 = stringCompress(textoOriginal);\n *\n * // Comprimir para um buffer bin√°rio com n√≠vel de compress√£o m√°ximo\n * const comprimidoBuffer = stringCompress(textoOriginal, { outputType: 'buffer', level: 9 });\n */\nfunction stringCompress(text, options = {}) {\n  // 1. Define as op√ß√µes padr√£o e as mescla com as fornecidas pelo usu√°rio\n  // para garantir um comportamento robusto e previs√≠vel.\n  const finalOptions = {\n    outputType: 'base64',\n    level: 6,\n    mem: 8,\n    ...options\n  };\n\n  // 2. Valida a entrada.\n  if (typeof text !== 'string' || text.length === 0) {\n    // Retorna um valor vazio do tipo de sa√≠da esperado para manter a consist√™ncia.\n    return finalOptions.outputType === 'buffer' ? new Uint8Array() : \"\";\n  }\n\n  // 3. Converte a string de entrada para um buffer de bytes UTF-8.\n  // `strToU8` √© um helper otimizado da biblioteca `fflate`.\n  const inputBuffer = strToU8(text);\n\n  // 4. Comprime o buffer usando as op√ß√µes especificadas.\n  const compressedBuffer = compressSync(inputBuffer, {\n    level: finalOptions.level,\n    mem: finalOptions.mem,\n  });\n\n  // 5. Retorna o resultado no formato solicitado.\n  if (finalOptions.outputType === 'buffer') {\n    return compressedBuffer;\n  }\n\n  // Por padr√£o, retorna em Base64. A convers√£o de bin√°rio para Base64\n  // √© feita de forma diferente e otimizada para cada ambiente.\n  if (typeof Buffer !== 'undefined' && typeof Buffer.from === 'function') {\n    // **Ambiente Node.js:**\n    // Converte o Uint8Array para um Buffer e ent√£o para Base64. √â o m√©todo mais r√°pido.\n    return Buffer.from(compressedBuffer).toString('base64');\n  } else {\n    // **Ambiente do Navegador:**\n    // Converte o Uint8Array para uma \"binary string\" e usa a fun√ß√£o nativa `btoa`.\n    let binary = '';\n    const len = compressedBuffer.byteLength;\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(compressedBuffer[i]);\n    }\n    return btoa(binary);\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default stringCompress;","import { decompressSync, strFromU8 } from \"fflate\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio cross-platform e perform√°tico para descompress√£o de strings.\n */\n\n/**\n * @typedef {object} DecompressionOptions - Op√ß√µes para a fun√ß√£o de descompress√£o.\n * @property {'base64' | 'buffer'} [inputType='base64'] - O formato da entrada de dados comprimidos.\n */\n\n/**\n * @summary Descomprime dados (Base64 ou buffer) de volta para a string original.\n *\n * @description\n * Esta fun√ß√£o s√≠ncrona √© a contraparte da `stringCompress`. Ela recebe dados comprimidos,\n * seja como uma string Base64 ou um `Uint8Array`, e os descomprime para a string de\n * texto original em formato UTF-8, utilizando a biblioteca `fflate`.\n *\n * @param {string | Uint8Array} compressedData - Os dados comprimidos a serem descomprimidos.\n * @param {DecompressionOptions} [options={}] - Op√ß√µes para customizar o tipo de entrada.\n *\n * @returns {string} A string original descomprimida. Retorna uma string vazia se a\n * entrada for inv√°lida ou se a descompress√£o falhar (ex: dados corrompidos).\n *\n * @example\n * const textoOriginal = 'O texto original que ser√° comprimido e depois descomprimido.';\n *\n * // 1. Comprime para Base64\n * const comprimidoB64 = stringCompress(textoOriginal);\n *\n * // 2. Descomprime de volta para o original\n * const descomprimido = stringDecompress(comprimidoB64);\n *\n * console.log(descomprimido === textoOriginal); // true\n */\nfunction stringDecompress(compressedData, options = {}) {\n  // 1. Define as op√ß√µes padr√£o e as mescla com as fornecidas pelo usu√°rio.\n  const finalOptions = {\n    inputType: 'base64',\n    ...options\n  };\n\n  // 2. Valida a entrada principal.\n  if (!compressedData) {\n    return \"\";\n  }\n\n  try {\n    let inputBuffer;\n\n    // 3. Normaliza a entrada para um formato de buffer bin√°rio (`Uint8Array`).\n    if (finalOptions.inputType === 'base64') {\n      // Garante que a entrada √© uma string antes de tentar decodificar.\n      if (typeof compressedData !== 'string') {\n        return \"\";\n      }\n      \n      // A decodifica√ß√£o de Base64 para bin√°rio √© feita de forma otimizada para cada ambiente.\n      if (typeof Buffer !== 'undefined' && typeof Buffer.from === 'function') {\n        // **Ambiente Node.js:**\n        // `Buffer.from` lida com Base64 nativamente e √© muito r√°pido.\n        inputBuffer = Buffer.from(compressedData, 'base64');\n      } else {\n        // **Ambiente do Navegador:**\n        // Usa `atob` para decodificar para uma \"binary string\" e ent√£o converte para Uint8Array.\n        const binaryString = atob(compressedData);\n        const len = binaryString.length;\n        const bytes = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n          bytes[i] = binaryString.charCodeAt(i);\n        }\n        inputBuffer = bytes;\n      }\n    } else {\n      // Se o tipo for 'buffer', assume que a entrada j√° est√° em um formato bin√°rio compat√≠vel.\n      inputBuffer = compressedData;\n    }\n\n    // Valida se a convers√£o ou a entrada resultou em um buffer com conte√∫do.\n    if (!inputBuffer || inputBuffer.byteLength === 0) {\n      return \"\";\n    }\n\n    // 4. Descomprime o buffer. Esta opera√ß√£o pode falhar se os dados estiverem corrompidos.\n    const decompressedBuffer = decompressSync(inputBuffer);\n\n    // 5. Converte o buffer descomprimido de volta para uma string UTF-8.\n    return strFromU8(decompressedBuffer);\n  } catch (error) {\n    // Retorna uma string vazia se a descompress√£o falhar (ex: dados corrompidos ou Base64 inv√°lido).\n    return \"\";\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default stringDecompress;","import { DATE_ISO_FORMAT } from \"../constants.js\";\nimport { parse } from \"date-fns/parse\";\nimport isInstanceOf from \"../helpers/isInstanceOf\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @summary Converte uma string para um objeto Date, com base em um padr√£o de formato.\n *\n * @description\n * Esta fun√ß√£o utiliza a biblioteca `date-fns` para analisar uma string de data com um\n * formato espec√≠fico e retornar um objeto `Date`.\n *\n * Um passo importante desta fun√ß√£o √© que ela trata os valores da string como se\n * estivessem em UTC. Por exemplo, a string \"2025-08-21 10:30:00\" (sem fuso) ser√° convertida para\n * um objeto `Date` que, em UTC, representa `2025-08-21T10:30:00.000Z`.\n *\n * @param {string} stringDate - A string da data a ser analisada.\n * @param {string} [stringFormat=DATE_ISO_FORMAT] - O padr√£o de formata√ß√£o da `stringDate`,\n * compat√≠vel com `date-fns`.\n * @param {Date} [defaultDate=new Date()] - O valor a ser retornado se a an√°lise falhar.\n * Se `defaultDate` for `null` ou `undefined`, a fun√ß√£o retorna `false`.\n *\n * @returns {Date | false} O objeto `Date` resultante, o `defaultDate` em caso de falha,\n * ou `false` se a an√°lise falhar e n√£o houver `defaultDate`.\n */\nfunction stringToDate(\n  stringDate,\n  stringFormat = DATE_ISO_FORMAT,\n  defaultDate = new Date()\n) {\n  let dateToProcess;\n\n  // 1. Tenta analisar a string ou define o fallback inicial.\n  if (typeof stringDate === 'string') {\n    const parsedDate = parse(stringDate, stringFormat, new Date());\n\n    // Verifica se a an√°lise foi bem-sucedida.\n    if (isInstanceOf(parsedDate, Date) && !isNaN(parsedDate.getTime())) {\n      dateToProcess = parsedDate;\n    } else {\n      // Se a an√°lise falhar, usa a data padr√£o como fallback.\n      dateToProcess = defaultDate;\n    }\n  } else {\n    // Se a entrada n√£o for uma string, usa a data padr√£o.\n    dateToProcess = defaultDate;\n  }\n\n  // 2. Valida a data a ser processada (seja ela a analisada ou a padr√£o).\n  if (dateToProcess == null) {\n    // Se a data padr√£o era nula/indefinida, retorna `false`.\n    return false;\n  }\n  \n  if (!isInstanceOf(dateToProcess, Date) || isNaN(dateToProcess.getTime())) {\n      // Se a data padr√£o fornecida for inv√°lida, retorna `false`.\n      return false;\n  }\n\n  // 3. Aplica o ajuste de fuso hor√°rio a QUALQUER data v√°lida que saia da fun√ß√£o.\n  // Isso garante um comportamento consistente tanto para datas analisadas quanto para as padr√£o.\n  const timezoneOffsetMillis = dateToProcess.getTimezoneOffset() * 60 * 1000;\n  return new Date(dateToProcess.getTime() - timezoneOffsetMillis);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default stringToDate;","import { DATE_ISO_FORMAT, DATE_BR_HOUR_FORMAT_D } from \"../constants.js\";\nimport stringToDate from \"./stringToDate.js\";\nimport dateToFormat from \"./dateToFormat.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para re-formatar strings de data.\n */\n\n/**\n * @summary Re-formata uma string de data de um formato de entrada para um de sa√≠da.\n *\n * @description\n * Esta fun√ß√£o √© um utilit√°rio de conveni√™ncia que combina a an√°lise e a formata√ß√£o\n * de datas em uma √∫nica etapa. Ela usa `stringToDate` para converter a string de entrada em um\n * objeto `Date` e, em seguida, usa `dateToFormat` para converter esse objeto de volta\n * para uma string no formato de sa√≠da desejado.\n *\n * @param {string} stringDate - A string da data a ser re-formatada.\n * @param {string} [fromFormat=DATE_ISO_FORMAT] - O padr√£o de formata√ß√£o da string de entrada.\n * @param {string} [toFormat=DATE_BR_HOUR_FORMAT_D] - O padr√£o de formata√ß√£o desejado para a sa√≠da.\n *\n * @returns {string | false} A nova string de data formatada, ou `false` se a\n * an√°lise da data de entrada falhar.\n */\nfunction stringToDateToFormat(\n  stringDate,\n  fromFormat = DATE_ISO_FORMAT,\n  toFormat = DATE_BR_HOUR_FORMAT_D\n) {\n  try {\n    // 1. Converte a string de entrada para um objeto Date.\n    // `stringToDate` retorna um Date cujo tempo UTC corresponde aos n√∫meros da string.\n    const dateObject = stringToDate(stringDate, fromFormat, false);\n\n    if (dateObject) {\n      // 2. Reverte o ajuste de fuso hor√°rio antes de formatar.\n      // `stringToDate` removeu o offset local para tratar a hora como UTC.\n      // Para que `dateToFormat` (que formata em hora local) exiba os n√∫meros corretos,\n      // √© necess√°rio adicionar o offset de volta, criando uma nova data ajustada.\n      const timezoneOffsetMillis = dateObject.getTimezoneOffset() * 60 * 1000;\n      const localDate = new Date(dateObject.getTime() + timezoneOffsetMillis);\n\n      // 3. Formata o objeto Date (agora ajustado para a hora local correta) para a string de sa√≠da.\n      return dateToFormat(localDate, toFormat);\n    }\n  } catch (_) {}\n  // 4. Se a convers√£o inicial falhou, retorna `false`.\n  return false;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default stringToDateToFormat;\n","import toString from \"./toString.js\";\nimport regexDigitsOnly from \"./regexDigitsOnly\";\nimport { STRING_FORMAT_CNPJ } from \"../constants.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio para aplicar m√°scaras de formata√ß√£o a strings.\n */\n\n/**\n * @summary Aplica uma m√°scara de formata√ß√£o a uma string ou valor.\n *\n * @description\n * Esta fun√ß√£o formata uma string de entrada de acordo com um padr√£o (m√°scara).\n * Os caracteres `#` no padr√£o s√£o substitu√≠dos sequencialmente pelos caracteres\n * da string de entrada. A fun√ß√£o pode opcionalmente limpar a entrada para conter\n * apenas d√≠gitos, e tamb√©m lida com o preenchimento e truncamento da entrada\n * para que ela se ajuste perfeitamente √† m√°scara.\n *\n * @param {*} [text] - O valor a ser formatado. Ser√° convertido para string.\n * @param {string} [pattern=STRING_FORMAT_CNPJ] - A m√°scara de formata√ß√£o, onde `#` √© um placeholder.\n * @param {object} [options={}] - Op√ß√µes para customizar o comportamento.\n * @param {boolean} [options.digitsOnly=false] - Se `true`, a string de entrada ser√° primeiro limpa para conter apenas d√≠gitos.\n * @param {string} [options.paddingChar='0'] - O caractere a ser usado para preencher a entrada √† esquerda se ela for menor que o necess√°rio.\n *\n * @returns {string} A string formatada com a m√°scara.\n *\n * @example\n * // Formatar um CNPJ (com limpeza de d√≠gitos)\n * const cnpj = '12.345.678/0001-90';\n * stringToFormat(cnpj, '##.###.###/####-##', { digitsOnly: true });\n * // Retorna: \"12.345.678/0001-90\"\n *\n * // Formatar um valor com preenchimento √† esquerda\n * stringToFormat('123', 'ID-######', { paddingChar: '0' });\n * // Retorna: \"ID-000123\"\n */\nfunction stringToFormat(\n  text,\n  pattern = STRING_FORMAT_CNPJ,\n  options = {}\n) {\n  // 1. Define e mescla as op√ß√µes para um manuseio robusto de par√¢metros.\n  const finalOptions = {\n    digitsOnly: false,\n    paddingChar: \"0\",\n    ...options\n  };\n\n  let processedText = toString(text);\n\n  // 2. Aplica a limpeza de d√≠gitos opcionalmente.\n  if (finalOptions.digitsOnly) {\n    processedText = regexDigitsOnly(processedText);\n  }\n\n  // 3. Calcula o tamanho necess√°rio com base nos placeholders '#' no padr√£o.\n  const requiredSize = (pattern.match(/#/g) || []).length;\n  if (requiredSize === 0) {\n      return pattern; // Se n√£o houver placeholders, retorna o padr√£o literal.\n  }\n\n  // 4. Garante que o texto tenha o tamanho exato: trunca se for longo, preenche se for curto.\n  processedText = processedText.slice(0, requiredSize).padStart(requiredSize, finalOptions.paddingChar);\n\n  // 5. Aplica a m√°scara de forma funcional.\n  // A cada ocorr√™ncia de '#', a fun√ß√£o de callback fornece o pr√≥ximo\n  // caractere do texto processado para a substitui√ß√£o.\n  let charIndex = 0;\n  return pattern.replace(/#/g, () => processedText[charIndex++]);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default stringToFormat;","import { zlibSync, strToU8 } from \"fflate\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio cross-platform para compress√£o de strings com Zlib.\n */\n\n/**\n * @typedef {object} ZlibOptions - Op√ß√µes para a fun√ß√£o de compress√£o Zlib.\n * @property {'base64' | 'buffer'} [outputType='base64'] - O formato da sa√≠da. 'base64' para uma string ou 'buffer' para um Uint8Array.\n * @property {number} [level=6] - O n√≠vel de compress√£o (0-9). N√≠veis mais altos s√£o mais lentos mas podem gerar sa√≠das menores.\n * @property {number} [mem=8] - O n√≠vel de uso de mem√≥ria (1-12). N√≠veis mais altos s√£o mais r√°pidos e podem comprimir melhor, mas usam mais mem√≥ria.\n */\n\n/**\n * @summary Comprime uma string usando o algoritmo Zlib.\n *\n * @description\n * Esta fun√ß√£o s√≠ncrona recebe uma string, a converte para bytes em UTF-8 e a comprime\n * de forma eficiente usando o formato Zlib da biblioteca `fflate`. O resultado √© retornado no formato\n * especificado pelo `outputType`: uma string Base64 ou um `Uint8Array`.\n *\n * @param {string} text - A string a ser comprimida.\n * @param {ZlibOptions} [options={}] - Op√ß√µes para customizar a compress√£o e o formato de sa√≠da.\n *\n * @returns {string | Uint8Array} A string comprimida em Base64 ou o `Uint8Array` dos dados comprimidos.\n * Retorna um valor vazio apropriado (string ou Uint8Array) para entradas inv√°lidas.\n *\n * @example\n * const textoOriginal = 'Este texto ser√° comprimido com o algoritmo Zlib.';\n *\n * // Comprimir para Base64 (padr√£o)\n * const comprimidoB64 = stringZLibCompress(textoOriginal);\n *\n * // Comprimir para um buffer bin√°rio com n√≠vel de compress√£o m√°ximo\n * const comprimidoBuffer = stringZLibCompress(textoOriginal, { outputType: 'buffer', level: 9 });\n */\nfunction stringZLibCompress(text, options = {}) {\n  // 1. Define as op√ß√µes padr√£o e as mescla com as fornecidas pelo usu√°rio.\n  const finalOptions = {\n    outputType: 'base64',\n    level: 6,\n    mem: 8,\n    ...options\n  };\n\n  // 2. Valida a entrada.\n  if (typeof text !== 'string' || text.length === 0) {\n    // Retorna um valor vazio do tipo de sa√≠da esperado para manter a consist√™ncia.\n    return finalOptions.outputType === 'buffer' ? new Uint8Array() : \"\";\n  }\n\n  // 3. Converte a string de entrada para um buffer de bytes UTF-8.\n  const inputBuffer = strToU8(text);\n\n  // 4. Comprime o buffer usando as op√ß√µes especificadas.\n  const compressedBuffer = zlibSync(inputBuffer, {\n    level: finalOptions.level,\n    mem: finalOptions.mem,\n  });\n\n  // 5. Retorna o resultado no formato solicitado.\n  if (finalOptions.outputType === 'buffer') {\n    return compressedBuffer;\n  }\n\n  // Por padr√£o, retorna em Base64, com a convers√£o otimizada para cada ambiente.\n  if (typeof Buffer !== 'undefined' && typeof Buffer.from === 'function') {\n    // **Ambiente Node.js:**\n    // Converte o Uint8Array para um Buffer e ent√£o para Base64. √â o m√©todo mais r√°pido.\n    return Buffer.from(compressedBuffer).toString('base64');\n  } else {\n    // **Ambiente do Navegador:**\n    // Converte o Uint8Array para uma \"binary string\" e usa a fun√ß√£o nativa `btoa`.\n    let binary = '';\n    const len = compressedBuffer.byteLength;\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(compressedBuffer[i]);\n    }\n    return btoa(binary);\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default stringZLibCompress;","import { unzlibSync, strFromU8 } from \"fflate\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * @file Utilit√°rio cross-platform para descompress√£o de strings com Zlib.\n */\n\n/**\n * @typedef {object} ZlibDecompressionOptions - Op√ß√µes para a fun√ß√£o de descompress√£o Zlib.\n * @property {'base64' | 'buffer'} [inputType='base64'] - O formato da entrada de dados comprimidos.\n */\n\n/**\n * @summary Descomprime dados (Base64 ou buffer) usando Zlib de volta para a string original.\n *\n * @description\n * Esta fun√ß√£o s√≠ncrona √© a contraparte da `stringZLibCompress`. Ela recebe dados comprimidos\n * no formato Zlib, seja como uma string Base64 ou um `Uint8Array`, e os descomprime\n * para a string de texto original em formato UTF-8.\n *\n * @param {string | Uint8Array} compressedData - Os dados comprimidos a serem descomprimidos.\n * @param {ZlibDecompressionOptions} [options={}] - Op√ß√µes para customizar o tipo de entrada.\n *\n * @returns {string} A string original descomprimida. Retorna uma string vazia se a\n * entrada for inv√°lida ou se a descompress√£o falhar (ex: dados corrompidos).\n *\n * @example\n * const textoOriginal = 'Este texto ser√° comprimido e depois descomprimido com Zlib.';\n *\n * // 1. Comprime para Base64\n * const comprimidoB64 = stringZLibCompress(textoOriginal);\n *\n * // 2. Descomprime de volta para o original\n * const descomprimido = stringZLibDecompress(comprimidoB64);\n *\n * console.log(descomprimido === textoOriginal); // true\n */\nfunction stringZLibDecompress(compressedData, options = {}) {\n  // 1. Define as op√ß√µes padr√£o e as mescla com as fornecidas pelo usu√°rio.\n  const finalOptions = {\n    inputType: 'base64',\n    ...options\n  };\n\n  // 2. Valida a entrada principal.\n  if (!compressedData) {\n    return \"\";\n  }\n\n  try {\n    let inputBuffer;\n\n    // 3. Normaliza a entrada para um formato de buffer bin√°rio (`Uint8Array`).\n    if (finalOptions.inputType === 'base64') {\n      if (typeof compressedData !== 'string') {\n        return \"\";\n      }\n      \n      // A decodifica√ß√£o de Base64 para bin√°rio √© otimizada para cada ambiente.\n      if (typeof Buffer !== 'undefined' && typeof Buffer.from === 'function') {\n        // **Ambiente Node.js:**\n        inputBuffer = Buffer.from(compressedData, 'base64');\n      } else {\n        // **Ambiente do Navegador:**\n        const binaryString = atob(compressedData);\n        const len = binaryString.length;\n        const bytes = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n          bytes[i] = binaryString.charCodeAt(i);\n        }\n        inputBuffer = bytes;\n      }\n    } else {\n      // Se o tipo for 'buffer', assume que a entrada j√° est√° em um formato bin√°rio.\n      inputBuffer = compressedData;\n    }\n\n    if (!inputBuffer || inputBuffer.byteLength === 0) {\n      return \"\";\n    }\n\n    // 4. Descomprime o buffer. Pode falhar se os dados estiverem corrompidos.\n    const decompressedBuffer = unzlibSync(inputBuffer);\n\n    // 5. Converte o buffer descomprimido de volta para uma string UTF-8.\n    return strFromU8(decompressedBuffer);\n  } catch (error) {\n    // Retorna uma string vazia se a descompress√£o falhar.\n    return \"\";\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default stringZLibDecompress;","/**\n * @file Utilit√°rio para criar uma fun√ß√£o \"throttled\" (limitada por frequ√™ncia).\n */\n\n/**\n * @summary Cria uma vers√£o \"throttled\" de uma fun√ß√£o, que limita sua frequ√™ncia de execu√ß√£o.\n *\n * @description\n * Throttle √© uma t√©cnica que garante que uma fun√ß√£o seja executada no m√°ximo uma vez\n * a cada `wait` milissegundos. Ao contr√°rio do `debounce` que espera um per√≠odo de inatividade,\n * o `throttle` permite execu√ß√µes cont√≠nuas, mas espa√ßadas no tempo.\n *\n * √â ideal para controlar eventos que disparam com muita frequ√™ncia e onde uma resposta peri√≥dica\n * √© desejada, como em eventos de scroll, redimensionamento de janela ou movimento do mouse.\n * Esta implementa√ß√£o executa a fun√ß√£o na primeira chamada (\"leading edge\") e ignora as\n * chamadas subsequentes durante o per√≠odo de espera (cooldown).\n *\n * @param {Function} callback - A fun√ß√£o que ter√° sua execu√ß√£o limitada.\n * @param {number} wait - O intervalo m√≠nimo em milissegundos entre as execu√ß√µes.\n *\n * @returns {(...args: any[]) => void} Uma nova fun√ß√£o \"throttled\" que pode ser chamada no lugar da original.\n *\n * @throws {TypeError} Lan√ßa um erro se o `callback` n√£o for uma fun√ß√£o ou se `wait` n√£o for um n√∫mero.\n *\n * @example\n * // Exemplo: um evento de scroll que atualiza a UI, mas no m√°ximo a cada 250ms.\n * let scrollCount = 0;\n * const onScroll = () => {\n * scrollCount++;\n * console.log(`Atualizando UI... Chamada n¬∫ ${scrollCount}`);\n * };\n *\n * const throttledScroll = throttle(onScroll, 250);\n *\n * // No navegador, voc√™ adicionaria o listener:\n * // window.addEventListener('scroll', throttledScroll);\n *\n * // Simulando chamadas r√°pidas:\n * throttledScroll(); // Executa: \"Atualizando UI... Chamada n¬∫ 1\"\n * throttledScroll(); // Ignorada (dentro do cooldown)\n * throttledScroll(); // Ignorada (dentro do cooldown)\n *\n * setTimeout(() => {\n * throttledScroll(); // Executa: \"Atualizando UI... Chamada n¬∫ 2\"\n * }, 300); // 300ms > 250ms, ent√£o o cooldown j√° acabou.\n */\nfunction throttle(callback, wait) {\n  // 1. Valida√ß√£o dos par√¢metros na cria√ß√£o da fun√ß√£o.\n  if (typeof callback !== 'function') {\n    throw new TypeError('O callback fornecido para o throttle deve ser uma fun√ß√£o.');\n  }\n  if (typeof wait !== 'number' || wait < 0) {\n    throw new TypeError('O tempo de espera (wait) do throttle deve ser um n√∫mero n√£o negativo.');\n  }\n\n  // 2. Closure para manter o estado de \"cooldown\" entre as chamadas.\n  let inCooldown = false;\n\n  // Usa uma fun√ß√£o regular para preservar o contexto `this` de quem a chama.\n  return function(...args) {\n    // Se a fun√ß√£o j√° foi chamada dentro do per√≠odo de `wait`, ignora esta nova chamada.\n    if (inCooldown) {\n      return;\n    }\n\n    // 3. Executa o callback imediatamente na primeira chamada v√°lida.\n    // O `this` e os `args` s√£o da chamada atual que est√° sendo executada.\n    callback.apply(this, args);\n\n    // 4. Inicia o per√≠odo de \"cooldown\".\n    inCooldown = true;\n\n    // 5. Define um temporizador para terminar o \"cooldown\" ap√≥s o tempo de espera,\n    // permitindo que a fun√ß√£o seja executada novamente.\n    setTimeout(() => {\n      inCooldown = false;\n    }, wait);\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default throttle","/**\n * @description Gera uma string de timestamp altamente customiz√°vel e formatada com base em um padr√£o fornecido.\n * A fun√ß√£o √© otimizada para calcular apenas os componentes de data/hora necess√°rios para o formato solicitado.\n *\n * @param {string} [format='D-MT-Y_H:MN:S:MS'] A string de formato que define a estrutura da sa√≠da.\n * Os seguintes tokens ser√£o substitu√≠dos pelos seus respectivos valores:\n * - `Y`: Ano com 4 d√≠gitos (ex: 2025)\n * - `MT`: M√™s com 2 d√≠gitos (01-12)\n * - `D`: Dia com 2 d√≠gitos (01-31)\n * - `H`: Hora com 2 d√≠gitos, formato 24h (00-23)\n * - `MN`: Minuto com 2 d√≠gitos (00-59)\n * - `S`: Segundo com 2 d√≠gitos (00-59)\n * - `MS`: Milissegundo com 3 d√≠gitos (000-999)\n *\n * Qualquer outro caractere na string de formato (ex: '-', ':', '_', '/') ser√° mantido como um separador literal.\n *\n * @returns {string} Uma string representando o timestamp formatado de acordo com o padr√£o.\n *\n * @example\n * // Chamada sem par√¢metros, usa o formato padr√£o.\n * // Retorna algo como: \"22-08-2025_19:37:33:456\"\n * getFormattedTimestamp();\n *\n * @example\n * // Formato de hora customizado com underscores, como solicitado.\n * // Retorna algo como: \"19_37_33_456\"\n * getFormattedTimestamp('H_MN_S_MS');\n *\n * @example\n * // Formato de hora simples, como solicitado.\n * // Retorna algo como: \"19:37:33\"\n * getFormattedTimestamp('H:MN:S');\n *\n * @example\n * // Formato de data para logs (padr√£o ISO 8601).\n * // Retorna algo como: \"2025-08-22\"\n * getFormattedTimestamp('Y-MT-D');\n */\nfunction timestamp(format = 'D-MT-Y_H:MN:S:MS') {\n  const now = new Date();\n\n  // Mapeamento dos tokens para suas fun√ß√µes de obten√ß√£o e formata√ß√£o.\n  // A avalia√ß√£o √© \"lazy\" (pregui√ßosa): a fun√ß√£o s√≥ √© executada quando o token correspondente\n  // √© encontrado na string de formato, melhorando a performance.\n  const tokens = {\n    // Ano com 4 d√≠gitos\n    Y: () => now.getFullYear(),\n    // M√™s com 2 d√≠gitos (getMonth() √© 0-indexado)\n    MT: () => String(now.getMonth() + 1).padStart(2, '0'),\n    // Dia com 2 d√≠gitos\n    D: () => String(now.getDate()).padStart(2, '0'),\n    // Hora com 2 d√≠gitos (formato 24h)\n    H: () => String(now.getHours()).padStart(2, '0'),\n    // Minuto com 2 d√≠gitos\n    MN: () => String(now.getMinutes()).padStart(2, '0'),\n    // Segundo com 2 d√≠gitos\n    S: () => String(now.getSeconds()).padStart(2, '0'),\n    // Milissegundo com 3 d√≠gitos\n    MS: () => String(now.getMilliseconds()).padStart(3, '0'),\n  };\n\n  // Usa uma express√£o regular para encontrar e substituir todos os tokens de uma s√≥ vez.\n  // A flag 'g' (global) garante que todas as ocorr√™ncias de tokens sejam substitu√≠das,\n  // n√£o apenas a primeira.\n  // Para cada token encontrado, a fun√ß√£o correspondente no objeto 'tokens' √© chamada.\n  return format.replace(/Y|MT|D|H|MN|S|MS/g, (token) => tokens[token]());\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default timestamp;\n","/**\n * @file Utilit√°rio cross-platform para converter strings UTF-8 para Uint8Array.\n */\n\n/**\n * @summary Converte uma string (UTF-8) para um `Uint8Array` ou uma string de bytes.\n *\n * @description\n * Esta fun√ß√£o converte uma string para sua representa√ß√£o bin√°ria como um `Uint8Array` em\n * formato UTF-8. Opcionalmente, se um caractere de jun√ß√£o (`joinChar`) for fornecido,\n * a fun√ß√£o retornar√° uma string com os valores dos bytes unidos por esse caractere.\n * A convers√£o para bytes √© cross-platform e lida corretamente com caracteres multi-byte.\n *\n * @param {string} [text=\"\"] - A string a ser convertida.\n * @param {string} [joinChar] - Opcional. Se fornecido, a fun√ß√£o retorna uma string dos valores\n * dos bytes em vez de um `Uint8Array`.\n *\n * @returns {Uint8Array | string} Um `Uint8Array` com os bytes da string, ou uma `string`\n * formatada se `joinChar` for especificado.\n *\n * @example\n * // Retornando um Uint8Array\n * const bytes = uint8ArrayFromString('Hi');\n * console.log(bytes); // Uint8Array(2) [ 72, 105 ]\n *\n * // Retornando uma string formatada\n * const byteString = uint8ArrayFromString('Hi', '-');\n * console.log(byteString); // \"72-105\"\n */\nfunction uint8ArrayFromString(text = \"\", joinChar) {\n  // 1. Valida√ß√£o de tipo.\n  if (typeof text !== 'string') {\n    // Retorna um tipo consistente com o caminho de sucesso (string vazia ou array vazio).\n    return joinChar !== undefined ? '' : new Uint8Array();\n  }\n\n  let uint8Array;\n\n  // **Ambiente Node.js:**\n  if (typeof window === 'undefined') {\n    // `Buffer.from` cria um Buffer (que √© um Uint8Array) a partir da string UTF-8.\n    uint8Array = Buffer.from(text, 'utf-8');\n  } else {\n    // **Ambiente do Navegador:**\n    // `TextEncoder` √© a API padr√£o para converter strings em bytes UTF-8.\n    uint8Array = new TextEncoder().encode(text);\n  }\n\n  // 3. Decide o formato de sa√≠da com base na presen√ßa de `joinChar`.\n  if (joinChar !== undefined) {\n    // `Uint8Array` n√£o possui o m√©todo `.join`, ent√£o √© necess√°rio converter\n    // para um array padr√£o antes de fazer a jun√ß√£o.\n    return Array.from(uint8Array).join(joinChar);\n  }\n\n  // Retorna o Uint8Array se nenhum `joinChar` for especificado.\n  return uint8Array;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default uint8ArrayFromString;","/**\n * @file Utilit√°rio para converter um buffer (ou sua representa√ß√£o em string) para uma string de texto.\n */\n\n/**\n * @summary Converte um `Uint8Array` ou uma string de bytes para uma string de texto (UTF-8).\n *\n * @description\n * Esta fun√ß√£o tem um comportamento duplo:\n * 1. **Modo Padr√£o (sem `splitChar`):** Recebe um objeto buffer-like (`Uint8Array`, `Buffer`, `ArrayBuffer`)\n * e o decodifica para uma string UTF-8.\n * 2. **Modo de An√°lise (com `splitChar`):** Recebe uma **string** de n√∫meros (representando bytes),\n * separados pelo `splitChar`. Ela ir√° analisar essa string, montar um `Uint8Array` e ent√£o decodific√°-lo.\n *\n * @param {Uint8Array | ArrayBuffer | Buffer | string} uint8Array - O buffer a ser convertido,\n * ou a string de bytes a ser analisada.\n * @param {string} [splitChar] - Opcional. Ativa o modo de an√°lise, usando este caractere como separador.\n *\n * @returns {string} A string decodificada.\n *\n * @example\n * // Modo Padr√£o (com um buffer real)\n * const bytes = new Uint8Array([72, 101, 108, 108, 111]); // Bytes para \"Hello\"\n * uint8ArrayToString(bytes); // Retorna \"Hello\"\n *\n * // Modo de An√°lise (com uma string de bytes)\n * const byteString = \"72,101,108,108,111\";\n * uint8ArrayToString(byteString, ','); // Retorna \"Hello\"\n */\nfunction uint8ArrayToString(uint8Array, splitChar) {\n  // 1. Valida√ß√£o de entrada b√°sica.\n  if (uint8Array == null) {\n    return \"\";\n  }\n\n  let bufferSource = uint8Array;\n\n  // 2. Verifica se est√° no \"Modo de An√°lise\".\n  if (splitChar !== undefined && typeof uint8Array === 'string') {\n    // Converte a string de n√∫meros (ex: \"72, 101, 108\") em um array de n√∫meros.\n    const bytes = uint8Array.split(splitChar).map(s => parseInt(s.trim(), 10));\n    // Cria o buffer a partir dos n√∫meros analisados.\n    bufferSource = new Uint8Array(bytes);\n  }\n\n  // 3. Decodifica o buffer para uma string UTF-8 (l√≥gica cross-platform).\n  // `bufferSource` agora √© garantidamente um objeto buffer-like.\n  try {\n    // Ambiente Node.js:\n    if (typeof window === 'undefined') {\n      const nodeBuffer = Buffer.isBuffer(bufferSource) ? bufferSource : Buffer.from(bufferSource);\n      return nodeBuffer.toString('utf-8');\n    }\n\n    // Ambiente do Navegador:\n    return new TextDecoder().decode(bufferSource);\n  } catch (error) {\n    // Retorna uma string vazia se o buffer de entrada for inv√°lido para as APIs.\n    return \"\";\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default uint8ArrayToString;","import validateCADICMSPR from \"./validateCADICMSPR.js\";\nimport validateCEP from \"./validateCEP.js\";\nimport validateChavePix from \"./validateChavePix.js\";\nimport validateCNH from \"./validateCNH.js\";\nimport validateCNPJ from \"./validateCNPJ.js\";\nimport validateCPF from \"./validateCPF.js\";\nimport validateEmail from \"./validateEmail.js\";\nimport validatePISPASEPNIT from \"./validatePISPASEPNIT.js\";\nimport validateRenavam from \"./validateRenavam.js\";\nimport validateTituloEleitor from \"./validateTituloEleitor.js\";\nimport validateRG from \"./validateRG.js\";\n\n// Named exports para importa√ß√£o individual\nexport {\n  validateCADICMSPR,\n  validateCEP,\n  validateChavePix,\n  validateCNH,\n  validateCNPJ,\n  validateCPF,\n  validateEmail,\n  validatePISPASEPNIT,\n  validateRenavam,\n  validateTituloEleitor,\n  validateRG\n};\n\n// Default export para compatibilidade\nexport default {\n  validateCADICMSPR,\n  validateCEP,\n  validateChavePix,\n  validateCNH,\n  validateCNPJ,\n  validateCPF,\n  validateEmail,\n  validatePISPASEPNIT,\n  validateRenavam,\n  validateTituloEleitor,\n  validateRG,\n};","/**\n * @fileoverview Fun√ß√µes para valida√ß√£o de inscri√ß√£o estadual (CAD/ICMS) do estado do Paran√° (PR).\n * C√≥digo compat√≠vel com Node.js e navegadores.\n */\n\n/**\n * Calcula um d√≠gito verificador com base em uma sequ√™ncia de d√≠gitos e um array de pesos.\n * Esta √© uma fun√ß√£o auxiliar interna para evitar a repeti√ß√£o da l√≥gica de c√°lculo.\n *\n * @param {string} digits - A sequ√™ncia de d√≠gitos a ser usada no c√°lculo.\n * @param {number[]} weights - O array de pesos para multiplicar cada d√≠gito.\n * @returns {number} O d√≠gito verificador calculado.\n * @private\n */\nfunction _calculateVerifierDigit(digits, weights) {\n  // Multiplica cada d√≠gito pelo seu peso correspondente e soma os resultados.\n  // O uso de 'reduce' √© uma forma funcional e concisa de realizar a soma ponderada.\n  const sum = digits\n    .split('')\n    .reduce((acc, digit, index) => acc + (Number(digit) * weights[index]), 0);\n\n  const remainder = sum % 11;\n\n  // Conforme a regra de c√°lculo, se o resto for 0 ou 1, o d√≠gito √© 0.\n  // Caso contr√°rio, √© 11 menos o resto.\n  return (remainder <= 1) ? 0 : 11 - remainder;\n}\n\n/**\n * Valida uma inscri√ß√£o estadual (CAD/ICMS) do estado do Paran√° (PR).\n * A fun√ß√£o lida com entradas formatadas (com pontos, tra√ßos) e n√£o formatadas,\n * desde que contenham a quantidade correta de d√≠gitos.\n *\n * @summary Valida o CAD/ICMS do estado do Paran√°.\n * @param {string | number} cadicms O valor do CAD/ICMS a ser validado.\n * @returns {boolean} Retorna `true` se o CAD/ICMS for v√°lido, e `false` caso contr√°rio.\n * @example\n * // Exemplo com n√∫meros e strings formatadas/n√£o formatadas\n * validateCADICMSPR(\"90312851-11\"); // true\n * validateCADICMSPR(\"9031285111\");  // true\n * validateCADICMSPR(9031285111);   // true\n * validateCADICMSPR(\"1234567890\");  // false\n */\nfunction validateCADICMSPR(cadicms) {\n  // Garante que a entrada seja uma string e remove todos os caracteres n√£o num√©ricos.\n  // O construtor String() lida de forma segura com null, undefined e outros tipos.\n  const digitsOnly = String(cadicms).replace(/[^\\d]/g, '');\n\n  // Define o tamanho esperado para a inscri√ß√£o estadual.\n  const CADICMS_LENGTH = 10;\n\n  // A inscri√ß√£o estadual deve ter no m√°ximo 10 d√≠gitos e n√£o pode estar vazia.\n  // A valida√ß√£o original permite n√∫meros menores que 10 e os preenche com zeros,\n  // essa l√≥gica √© mantida.\n  if (digitsOnly === '' || digitsOnly.length > CADICMS_LENGTH) {\n    return false;\n  }\n\n  // Se a string for menor que 10, preenche com zeros √† esquerda at√© atingir o tamanho correto.\n  const paddedCadicms = digitsOnly.padStart(CADICMS_LENGTH, '0');\n\n  // --- C√°lculo do Primeiro D√≠gito Verificador ---\n\n  // Pesos para o c√°lculo do primeiro d√≠gito (baseado nos 8 primeiros d√≠gitos da inscri√ß√£o).\n  const WEIGHTS_DV1 = [3, 2, 7, 6, 5, 4, 3, 2];\n  const firstEightDigits = paddedCadicms.substring(0, 8);\n  const expectedFirstVerifier = _calculateVerifierDigit(firstEightDigits, WEIGHTS_DV1);\n\n  // Compara o d√≠gito calculado com o nono d√≠gito da inscri√ß√£o.\n  // A convers√£o para Number() garante uma compara√ß√£o estrita de tipos.\n  const firstVerifier = Number(paddedCadicms[8]);\n  if (expectedFirstVerifier !== firstVerifier) {\n    return false;\n  }\n\n  // --- C√°lculo do Segundo D√≠gito Verificador ---\n\n  // Pesos para o c√°lculo do segundo d√≠gito (baseado nos 9 primeiros d√≠gitos da inscri√ß√£o).\n  const WEIGHTS_DV2 = [4, 3, 2, 7, 6, 5, 4, 3, 2];\n  const firstNineDigits = paddedCadicms.substring(0, 9);\n  const expectedSecondVerifier = _calculateVerifierDigit(firstNineDigits, WEIGHTS_DV2);\n\n  // Compara o d√≠gito calculado com o d√©cimo (√∫ltimo) d√≠gito da inscri√ß√£o.\n  const secondVerifier = Number(paddedCadicms[9]);\n  \n  // O retorno final √© o resultado da compara√ß√£o do segundo d√≠gito.\n  return expectedSecondVerifier === secondVerifier;\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Mant√©m a exporta√ß√£o no padr√£o CommonJS para compatibilidade com Node.js.\n// Em um ambiente de navegador, esta linha ser√° ignorada.\nexport default validateCADICMSPR;\n\n// ------------------------------------------------------------------------------------------------","/**\n * @fileoverview Fornece uma fun√ß√£o para validar CEP (C√≥digo de Endere√ßamento Postal).\n */\n\n/**\n * Valida um CEP (C√≥digo de Endere√ßamento Postal).\n *\n * @summary Valida um CEP.\n * @description A fun√ß√£o verifica se a entrada consiste em exatamente 8 d√≠gitos num√©ricos,\n * ignorando caracteres de m√°scara.\n *\n * @param {string | number} cep O CEP a ser validado.\n * @returns {boolean} Retorna `true` se o CEP for v√°lido, e `false` caso contr√°rio.\n * @example\n * validateCEP(\"80000-123\"); // true\n * validateCEP(\"1234567\");   // false\n */\nfunction validateCEP(cep = \"\") {\n  const digitsOnly = String(cep).replace(/[^\\d]/g, \"\");\n  return digitsOnly.length === 8;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default validateCEP;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para validar n√∫meros de CNPJ (Cadastro Nacional da Pessoa Jur√≠dica).\n * O c√≥digo √© compat√≠vel com ambientes Node.js e navegadores.\n */\n\n/**\n * Array de pesos utilizado no algoritmo de c√°lculo dos d√≠gitos verificadores do CNPJ.\n * @private\n * @type {number[]}\n */\nconst DEFAULT_WEIGHTS = [6, 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2];\n\n/**\n * Calcula o valor num√©rico de um caractere para o algoritmo de soma ponderada.\n * A convers√£o √© baseada no valor ASCII do caractere, o que resulta em um\n * mapeamento espec√≠fico para letras (ex: 'A' => 17, 'B' => 18).\n *\n * @private\n * @param {string} char - O caractere a ser convertido.\n * @returns {number} O valor num√©rico correspondente para o c√°lculo.\n */\nfunction _getCharValue(char) {\n  // A subtra√ß√£o do charCode de '0' √© o m√©todo que define a convers√£o.\n  return char.charCodeAt(0) - '0'.charCodeAt(0);\n}\n\n/**\n * Calcula os dois d√≠gitos verificadores para uma base de 12 caracteres de um CNPJ.\n *\n * @private\n * @param {string} baseCnpj - Os 12 primeiros caracteres do CNPJ.\n * @param {number[]} weights - O array de pesos a ser usado no c√°lculo.\n * @returns {string} Uma string contendo os dois d√≠gitos verificadores calculados.\n */\nfunction _calculateVerifierDigits(baseCnpj, weights) {\n  /**\n   * Calcula um √∫nico d√≠gito verificador a partir do resultado de uma soma ponderada.\n   * @param {number} sum - A soma ponderada.\n   * @returns {number} O d√≠gito verificador (0 a 9).\n   */\n  const getDigit = (sum) => {\n    const remainder = sum % 11;\n    return remainder < 2 ? 0 : 11 - remainder;\n  };\n\n  let sum1 = 0;\n  let sum2 = 0;\n\n  for (let i = 0; i < baseCnpj.length; i++) {\n    // Converte o caractere para seu valor num√©rico espec√≠fico do algoritmo.\n    const value = _getCharValue(baseCnpj[i]);\n    sum1 += value * weights[i + 1];\n    sum2 += value * weights[i];\n  }\n\n  const dv1 = getDigit(sum1);\n  sum2 += dv1 * weights[baseCnpj.length]; // Adiciona o primeiro d√≠gito ao c√°lculo do segundo.\n  const dv2 = getDigit(sum2);\n\n  return `${dv1}${dv2}`;\n}\n\n/**\n * Valida um n√∫mero de CNPJ (Cadastro Nacional da Pessoa Jur√≠dica).\n *\n * @summary Valida um CNPJ, com suporte a formatos alfanum√©ricos.\n * @description A fun√ß√£o suporta o formato num√©rico padr√£o e o futuro formato alfanum√©rico.\n * A entrada pode conter ou n√£o os caracteres de m√°scara comuns ('.', '/', '-').\n *\n * @param {string | number} cnpj O CNPJ a ser validado.\n * @param {object} [options={}] Op√ß√µes de configura√ß√£o para a valida√ß√£o.\n * @param {string} [options.addPaddingChar=\"0\"] Caractere a ser usado para preencher a entrada at√© 14 caracteres.\n * @param {number[]} [options.weights=DEFAULT_WEIGHTS] Array de pesos para o c√°lculo dos d√≠gitos verificadores.\n * @param {boolean} [options.ignoreToUpperCase=true] Se `false`, a entrada √© convertida para mai√∫sculas. Se `true`, a valida√ß√£o diferencia mai√∫sculas de min√∫sculas.\n * @param {boolean} [options.ignorePadding=false] Se `true`, a fun√ß√£o n√£o adiciona preenchimento, validando a entrada como est√°.\n * @returns {boolean} Retorna `true` se o CNPJ for v√°lido, e `false` caso contr√°rio.\n */\nfunction validateCNPJ(cnpj = \"\", options = {}) {\n  // 1. Normaliza√ß√£o e Configura√ß√£o\n  let processedCnpj = String(cnpj).replace(/[./-]/g, \"\");\n\n  const finalOptions = {\n    addPaddingChar: \"0\",\n    weights: DEFAULT_WEIGHTS,\n    ignorePadding: false,\n    ignoreToUpperCase: true,\n    ...options,\n  };\n\n  // A convers√£o para mai√∫sculas √© um comportamento opcional controlado via `options`.\n  if (finalOptions.ignoreToUpperCase === false) {\n    processedCnpj = processedCnpj.toUpperCase();\n  }\n\n  if (!finalOptions.ignorePadding) {\n    processedCnpj = processedCnpj.padStart(14, finalOptions.addPaddingChar);\n  }\n\n  // 2. Regras de Valida√ß√£o de Formato e Casos Inv√°lidos\n\n  // O CNPJ deve consistir em 12 caracteres alfanum√©ricos (base) e 2 d√≠gitos (verificadores).\n  const regexCNPJ = /^([A-Z\\d]){12}(\\d){2}$/;\n  if (!regexCNPJ.test(processedCnpj)) {\n    return false;\n  }\n  \n  // Para CNPJs puramente num√©ricos, sequ√™ncias de d√≠gitos repetidos s√£o inv√°lidas (ex: '111...').\n  if (/^\\d+$/.test(processedCnpj) && /^(\\d)\\1{13}$/.test(processedCnpj)) {\n    return false;\n  }\n\n  // 3. C√°lculo e Verifica√ß√£o Final\n  const baseDigits = processedCnpj.substring(0, 12);\n  const verifierDigits = processedCnpj.substring(12);\n\n  const calculatedVerifierDigits = _calculateVerifierDigits(baseDigits, finalOptions.weights);\n\n  return verifierDigits === calculatedVerifierDigits;\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Exporta a fun√ß√£o para uso em ambientes Node.js (CommonJS).\nexport default validateCNPJ;\n\n// ------------------------------------------------------------------------------------------------","/**\n * @fileoverview Fornece uma fun√ß√£o para validar n√∫meros de CPF (Cadastro de Pessoas F√≠sicas).\n * O c√≥digo √© compat√≠vel com ambientes Node.js e navegadores.\n */\n\n/**\n * Calcula um d√≠gito verificador de CPF a partir de uma base de d√≠gitos.\n * O algoritmo √© o mesmo para o primeiro e o segundo d√≠gito, variando apenas o tamanho da base.\n *\n * @private\n * @param {string} baseDigits - A sequ√™ncia de d√≠gitos para o c√°lculo (9 para o 1¬∫ d√≠gito, 10 para o 2¬∫).\n * @returns {number} O d√≠gito verificador calculado.\n */\nfunction _calculateVerifierDigit(baseDigits) {\n  // O peso inicial √© o tamanho da base + 1 (10 para o 1¬∫ d√≠gito, 11 para o 2¬∫).\n  const initialWeight = baseDigits.length + 1;\n\n  // Calcula a soma ponderada dos d√≠gitos.\n  const sum = baseDigits\n    .split('')\n    .reduce((acc, digit, index) => acc + (Number(digit) * (initialWeight - index)), 0);\n\n  const remainder = sum % 11;\n\n  // Se o resto da divis√£o for menor que 2, o d√≠gito √© 0; caso contr√°rio, √© 11 menos o resto.\n  return remainder < 2 ? 0 : 11 - remainder;\n}\n\n/**\n * Valida um n√∫mero de CPF (Cadastro de Pessoas F√≠sicas).\n *\n * @summary Valida um CPF, num√©rico ou com m√°scara.\n * @description A fun√ß√£o remove caracteres de m√°scara, verifica casos inv√°lidos conhecidos\n * e calcula os dois d√≠gitos verificadores para confirmar a validade do CPF.\n *\n * @param {string | number} cpf O n√∫mero de CPF a ser validado.\n * @returns {boolean} Retorna `true` se o CPF for v√°lido, e `false` caso contr√°rio.\n * @example\n * validateCPF(\"123.456.789-00\"); // Exemplo v√°lido\n * validateCPF(\"111.111.111-11\"); // Retorna false\n */\nfunction validateCPF(cpf = \"\") {\n  // 1. Normaliza√ß√£o da Entrada\n  const digitsOnly = String(cpf).replace(/[^\\d]/g, '');\n\n  const CPF_LENGTH = 11;\n\n  // Rejeita a entrada se, ap√≥s a limpeza, estiver vazia ou com mais de 11 d√≠gitos.\n  if (digitsOnly === '' || digitsOnly.length > CPF_LENGTH) {\n    return false;\n  }\n\n  // Garante que a string tenha 11 d√≠gitos, preenchendo com zeros √† esquerda se necess√°rio.\n  const paddedCpf = digitsOnly.padStart(CPF_LENGTH, '0');\n\n  // 2. Verifica√ß√£o de Casos Inv√°lidos\n  // CPFs com todos os d√≠gitos iguais s√£o inv√°lidos. A regex /^(\\d)\\1{10}$/ checa essa condi√ß√£o.\n  if (/^(\\d)\\1{10}$/.test(paddedCpf)) {\n    return false;\n  }\n\n  // 3. C√°lculo e Valida√ß√£o dos D√≠gitos\n  const baseDv1 = paddedCpf.substring(0, 9);\n  const expectedDv1 = _calculateVerifierDigit(baseDv1);\n\n  // Compara o primeiro d√≠gito verificador calculado com o fornecido.\n  if (expectedDv1 !== Number(paddedCpf[9])) {\n    return false;\n  }\n\n  const baseDv2 = paddedCpf.substring(0, 10);\n  const expectedDv2 = _calculateVerifierDigit(baseDv2);\n\n  // Compara o segundo d√≠gito e retorna o resultado final da valida√ß√£o.\n  return expectedDv2 === Number(paddedCpf[10]);\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Exporta a fun√ß√£o para uso em ambientes Node.js (CommonJS).\nexport default validateCPF;\n\n// ------------------------------------------------------------------------------------------------","/**\n * @fileoverview Fornece uma fun√ß√£o para validar endere√ßos de e-mail.\n * O c√≥digo √© compat√≠vel com ambientes Node.js e navegadores.\n */\n\n/**\n * Express√£o regular para validar a maioria dos formatos de e-mail padr√£o.\n * Definida como uma constante fora da fun√ß√£o para evitar a recompila√ß√£o a cada\n * chamada, o que melhora a performance.\n * @private\n * @type {RegExp}\n */\nconst EMAIL_REGEX =\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n/**\n * Valida um endere√ßo de e-mail com base em um formato padr√£o.\n *\n * @summary Valida um endere√ßo de e-mail.\n * @description A fun√ß√£o verifica se a string fornecida corresponde a um formato de e-mail\n * comum, cobrindo a maioria dos casos de uso padr√£o (ex: `usuario@dominio.com`).\n *\n * @param {string | any} email O valor a ser verificado. A fun√ß√£o o converter√° para string.\n * @returns {boolean} Retorna `true` se o e-mail tiver um formato v√°lido, e `false` caso contr√°rio.\n * @example\n * validateEmail(\"contato@exemplo.com\"); // true\n * validateEmail(\"email-invalido\");       // false\n */\nfunction validateEmail(email = \"\") {\n  // Converte a entrada para string para garantir que o m√©todo .test() funcione.\n  const emailAsString = String(email);\n\n  // Testa a string contra a express√£o regular pr√©-compilada.\n  return EMAIL_REGEX.test(emailAsString);\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Exporta a fun√ß√£o para uso em ambientes Node.js (CommonJS).\nexport default validateEmail;\n\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para validar Chaves PIX.\n */\n\nimport validateCNPJ from \"./validateCNPJ\";\nimport validateCPF from \"./validateCPF\";\nimport validateEmail from \"./validateEmail\";\n\n/**\n * Regex para validar um UUID v4 (formato da Chave Aleat√≥ria PIX).\n * @private\n */\nconst UUID_V4_REGEX =\n  /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\n/**\n * Regex para validar um n√∫mero de telefone brasileiro no formato PIX (+55DDXXXXXXXXX).\n * @private\n */\n// Vers√£o Oficial: Aceita 10 (fixo) ou 11 (celular) d√≠gitos ap√≥s o +55.\nconst PIX_PHONE_REGEX = /^\\+55\\d{10,11}$/;\n\n/**\n * @summary Valida uma Chave PIX de qualquer tipo, incluindo CNPJ alfanum√©rico.\n * @description\n * A fun√ß√£o verifica se a chave fornecida corresponde a um dos cinco formatos\n * v√°lidos de Chave PIX, delegando a valida√ß√£o de CPF, CNPJ e E-mail para as\n * fun√ß√µes correspondentes.\n *\n * @param {string} [chave=\"\"] - A Chave PIX a ser validada.\n * @returns {boolean} Retorna `true` se a chave for v√°lida, e `false` caso contr√°rio.\n *\n * @example\n * validateChavePix(\"meu.email@valido.com\"); // true\n * validateChavePix(\"11122233344\");         // true (se for um CPF v√°lido)\n * validateChavePix(\"+5511987654321\");      // true (celular)\n * validateChavePix(\"+554133334444\");       // true (fixo)\n */\nfunction validateChavePix(chave = \"\") {\n  // Converte a entrada para string e remove espa√ßos das pontas.\n  const keyAsString = String(chave || \"\").trim();\n\n  // Uma chave PIX n√£o pode ser vazia.\n  if (keyAsString === \"\") {\n    return false;\n  }\n\n  // A ordem de verifica√ß√£o √© importante para performance e para evitar ambiguidades.\n  if (UUID_V4_REGEX.test(keyAsString)) return true;\n  if (PIX_PHONE_REGEX.test(keyAsString)) return true;\n  if (keyAsString.includes(\"@\")) return validateEmail(keyAsString);\n  \n  // Para os formatos restantes (CPF/CNPJ), delega a valida√ß√£o.\n  if (validateCPF(keyAsString)) {\n    return true;\n  }\n  \n  if (validateCNPJ(keyAsString)) {\n    return true;\n  }\n\n  // Se n√£o se encaixou em nenhum formato, √© inv√°lida.\n  return false;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default validateChavePix;","/**\n * @fileoverview Fornece uma fun√ß√£o para validar n√∫meros de CNH.\n */\n\n/**\n * Pesos para o c√°lculo do primeiro e segundo d√≠gito verificador da CNH.\n * @private\n */\nconst CNH_WEIGHTS_DV1 = [9, 8, 7, 6, 5, 4, 3, 2, 1];\nconst CNH_WEIGHTS_DV2 = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n\n/**\n * Valida um n√∫mero de CNH (Carteira Nacional de Habilita√ß√£o).\n *\n * @summary Valida um n√∫mero de CNH.\n * @description A fun√ß√£o verifica o formato, a regra de d√≠gitos repetidos e calcula os\n * dois d√≠gitos verificadores para confirmar a validade do n√∫mero.\n *\n * @param {string | number} cnh O n√∫mero da CNH a ser validado.\n * @returns {boolean} Retorna `true` se a CNH for v√°lida, e `false` caso contr√°rio.\n */\nfunction validateCNH(cnh = \"\") {\n  const digitsOnly = String(cnh).replace(/[^\\d]/g, \"\");\n\n  if (digitsOnly.length !== 11 || /^(\\d)\\1{10}$/.test(digitsOnly)) {\n    return false;\n  }\n\n  const base = digitsOnly.substring(0, 9);\n  const verifierDigits = digitsOnly.substring(9);\n\n  // --- C√°lculo do primeiro d√≠gito ---\n  const sum1 = base\n    .split(\"\")\n    .reduce(\n      (acc, digit, index) => acc + Number(digit) * CNH_WEIGHTS_DV1[index],\n      0\n    );\n\n  const remainder1 = sum1 % 11;\n  const calculatedDv1 = remainder1 >= 10 ? 0 : remainder1;\n\n  if (calculatedDv1 !== Number(verifierDigits[0])) {\n    return false;\n  }\n\n  // --- C√°lculo do segundo d√≠gito ---\n  const sum2 = base\n    .split(\"\")\n    .reduce(\n      (acc, digit, index) => acc + Number(digit) * CNH_WEIGHTS_DV2[index],\n      0\n    );\n\n  const remainder2 = sum2 % 11;\n  const calculatedDv2 = remainder2 >= 10 ? 0 : remainder2;\n\n  return calculatedDv2 === Number(verifierDigits[1]);\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default validateCNH;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para validar n√∫meros de PIS/PASEP/NIT.\n */\n\n/**\n * Array de pesos utilizado no algoritmo de c√°lculo do d√≠gito verificador.\n * @private\n * @type {number[]}\n */\nconst PIS_WEIGHTS = [3, 2, 9, 8, 7, 6, 5, 4, 3, 2];\n\n/**\n * Valida um n√∫mero de PIS/PASEP/NIT.\n *\n * @summary Valida um n√∫mero de PIS/PASEP/NIT.\n * @description A fun√ß√£o verifica o formato, a regra de d√≠gitos repetidos e o d√≠gito\n * verificador para confirmar a validade do n√∫mero.\n *\n * @param {string | number} pis O n√∫mero a ser validado.\n * @returns {boolean} Retorna `true` se o n√∫mero for v√°lido, e `false` caso contr√°rio.\n * @example\n * validatePISPASEPNIT(\"120.12345.67-8\"); // true\n * validatePISPASEPNIT(\"11111111111\");    // false\n */\nfunction validatePISPASEPNIT(pis = \"\") {\n  const digitsOnly = String(pis).replace(/[^\\d]/g, \"\");\n\n  if (digitsOnly.length !== 11 || /^(\\d)\\1{10}$/.test(digitsOnly)) {\n    return false;\n  }\n\n  const base = digitsOnly.substring(0, 10);\n  const verifierDigit = Number(digitsOnly[10]);\n\n  const sum = base\n    .split(\"\")\n    .reduce((acc, digit, index) => acc + Number(digit) * PIS_WEIGHTS[index], 0);\n\n  const remainder = sum % 11;\n  const calculatedDigit = remainder < 2 ? 0 : 11 - remainder;\n\n  return verifierDigit === calculatedDigit;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default validatePISPASEPNIT;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para validar c√≥digos de RENAVAM.\n */\n\n/**\n * Array de pesos utilizado no c√°lculo do d√≠gito verificador do RENAVAM.\n * @private\n * @type {number[]}\n */\nconst RENAVAM_WEIGHTS = [2, 3, 4, 5, 6, 7, 8, 9, 2, 3];\n\n/**\n * Valida um c√≥digo de RENAVAM (Registro Nacional de Ve√≠culos Automotores).\n *\n * @summary Valida um c√≥digo de RENAVAM.\n * @description A fun√ß√£o valida o formato de 11 d√≠gitos (preenchendo com zeros se\n * necess√°rio) e calcula o d√≠gito verificador para confirmar sua validade.\n *\n * @param {string | number} renavam O c√≥digo a ser validado.\n * @returns {boolean} Retorna `true` se o RENAVAM for v√°lido, e `false` caso contr√°rio.\n */\nfunction validateRENAVAM(renavam = \"\") {\n  const digitsOnly = String(renavam).replace(/[^\\d]/g, \"\").padStart(11, \"0\");\n\n  if (digitsOnly.length !== 11 || /^(\\d)\\1{10}$/.test(digitsOnly)) {\n    return false;\n  }\n\n  const base = digitsOnly.substring(0, 10);\n  const verifierDigit = Number(digitsOnly[10]);\n\n  const reversedBase = base.split(\"\").reverse();\n\n  const sum = reversedBase.reduce(\n    (acc, digit, index) => acc + Number(digit) * RENAVAM_WEIGHTS[index],\n    0\n  );\n\n  const remainder = sum % 11;\n  const calculatedDigit = remainder <= 1 ? 0 : 11 - remainder;\n\n  return verifierDigit === calculatedDigit;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default validateRENAVAM;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o para validar n√∫meros de T√≠tulo de Eleitor.\n */\n\n/**\n * Pesos para o c√°lculo do primeiro d√≠gito verificador.\n * @private\n */\nconst TITULO_WEIGHTS_DV1 = [2, 3, 4, 5, 6, 7, 8, 9];\n\n/**\n * Valida um n√∫mero de T√≠tulo de Eleitor.\n *\n * @summary Valida um n√∫mero de T√≠tulo de Eleitor.\n * @description A fun√ß√£o valida o formato de 12 d√≠gitos e calcula ambos os d√≠gitos\n * verificadores, considerando as regras especiais baseadas no estado de emiss√£o.\n *\n * @param {string | number} titulo O n√∫mero do t√≠tulo a ser validado.\n * @returns {boolean} Retorna `true` se o t√≠tulo for v√°lido, e `false` caso contr√°rio.\n */\nfunction validateTituloEleitor(titulo = \"\") {\n  // Verifica se o par√¢metro √© nulo ou indefinido\n  if (titulo == null) {\n    return false;\n  }\n\n  const digitsOnly = String(titulo).replace(/[^\\d]/g, \"\").padStart(12, \"0\");\n\n  if (digitsOnly.length !== 12) {\n    return false;\n  }\n\n  const base = digitsOnly.substring(0, 8);\n  const stateCode = Number(digitsOnly.substring(8, 10));\n  const verifierDigits = digitsOnly.substring(10);\n\n  // O c√≥digo de estado deve ser v√°lido (entre 1 e 28)\n  if (stateCode < 1 || stateCode > 28) {\n    return false;\n  }\n\n  // --- C√°lculo do primeiro d√≠gito verificador ---\n  const sum1 = base\n    .split(\"\")\n    .reduce(\n      (acc, digit, index) => acc + Number(digit) * TITULO_WEIGHTS_DV1[index],\n      0\n    );\n\n  let remainder1 = sum1 % 11;\n  let calculatedDv1;\n\n  // Regras para o primeiro DV baseadas na documenta√ß√£o oficial:\n  // - Se resto for 0: para SP (01) e MG (02) √© 1, para outros estados √© 0\n  // - Se resto for maior que 9: √© 0\n  // - Nos outros casos: √© o pr√≥prio resto\n  if (remainder1 === 0) {\n    calculatedDv1 = (stateCode === 1 || stateCode === 2) ? 1 : 0;\n  } else if (remainder1 > 9) {\n    calculatedDv1 = 0;\n  } else {\n    calculatedDv1 = remainder1;\n  }\n\n  if (calculatedDv1 !== Number(verifierDigits[0])) {\n    return false;\n  }\n\n  // --- C√°lculo do segundo d√≠gito verificador ---\n  const digit1 = Number(digitsOnly.substring(8, 9)); // Primeiro d√≠gito do c√≥digo do estado\n  const digit2 = Number(digitsOnly.substring(9, 10)); // Segundo d√≠gito do c√≥digo do estado\n  \n  const sum2 = (digit1 * 7) + (digit2 * 8) + (calculatedDv1 * 9);\n\n  let remainder2 = sum2 % 11;\n  let calculatedDv2;\n  \n  // Mesma l√≥gica do primeiro d√≠gito verificador.\n  if (remainder2 === 0) {\n    calculatedDv2 = (stateCode === 1 || stateCode === 2) ? 1 : 0;\n  } else if (remainder2 > 9) {\n    calculatedDv2 = 0;\n  } else {\n    calculatedDv2 = remainder2;\n  }\n\n  return calculatedDv2 === Number(verifierDigits[1]);\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default validateTituloEleitor;\n// ------------------------------------------------------------------------------------------------","/**\n * @fileoverview Fornece uma fun√ß√£o para validar n√∫meros de RG (Registro Geral) brasileiro.\n */\n\n/**\n * Pesos para o c√°lculo do d√≠gito verificador do RG.\n * Os fatores multiplicadores crescem da esquerda para a direita, iniciando em 2.\n * @private\n */\nconst RG_WEIGHTS = [2, 3, 4, 5, 6, 7, 8, 9];\n\n/**\n * Valida um n√∫mero de RG (Registro Geral) brasileiro.\n *\n * @summary Valida um n√∫mero de RG brasileiro usando o algoritmo de m√≥dulo 11.\n * @description A fun√ß√£o valida o formato de 8 d√≠gitos seguido por um d√≠gito verificador,\n * que pode ser um n√∫mero (0-9) ou a letra 'X' quando o c√°lculo resulta em 10.\n * Remove automaticamente pontua√ß√£o e formata√ß√£o do input.\n *\n * @param {string | number} rg O n√∫mero do RG a ser validado (com ou sem formata√ß√£o).\n * @returns {boolean} Retorna `true` se o RG for v√°lido, e `false` caso contr√°rio.\n *\n * @example\n * validateRG('24.678.131-4'); // true\n * validateRG('37.606.335-X'); // true\n * validateRG('45.727.503-0'); // true\n * validateRG('123456789'); // false\n * validateRG('24678131X'); // false (d√≠gito verificador incorreto)\n */\nfunction validateRG(rg = \"\") {\n  // Verifica se o par√¢metro √© nulo ou indefinido\n  if (rg == null) {\n    return false;\n  }\n\n  // Remove toda formata√ß√£o, mantendo apenas n√∫meros e a letra X\n  const cleanRG = String(rg)\n    .toUpperCase()\n    .replace(/[^\\dX]/g, \"\");\n\n  // RG deve ter exatamente 9 caracteres (8 d√≠gitos + 1 verificador)\n  if (cleanRG.length !== 9) {\n    return false;\n  }\n\n  // Extrai os 8 primeiros d√≠gitos (base) e o d√≠gito verificador\n  const base = cleanRG.substring(0, 8);\n  const verifierDigit = cleanRG.substring(8);\n\n  // Verifica se a base cont√©m apenas d√≠gitos\n  if (!/^\\d{8}$/.test(base)) {\n    return false;\n  }\n\n  // Verifica se o d√≠gito verificador √© v√°lido (0-9 ou X)\n  if (!/^[\\dX]$/.test(verifierDigit)) {\n    return false;\n  }\n\n  // Verifica se todos os d√≠gitos da base s√£o iguais (RG inv√°lido por conven√ß√£o)\n  if (/^(\\d)\\1{7}$/.test(base)) {\n    return false;\n  }\n\n  // --- C√°lculo do d√≠gito verificador usando m√≥dulo 11 ---\n  \n  // Multiplica cada d√≠gito pelo seu peso correspondente\n  const sum = base\n    .split(\"\")\n    .reduce((acc, digit, index) => {\n      return acc + (Number(digit) * RG_WEIGHTS[index]);\n    }, 0);\n\n  // Calcula o resto da divis√£o por 11\n  const remainder = sum % 11;\n  \n  // Calcula o complemento (11 - resto)\n  const complement = 11 - remainder;\n  \n  // Determina o d√≠gito verificador calculado\n  let calculatedDigit;\n  \n  if (complement === 10) {\n    // Quando o complemento √© 10, o d√≠gito verificador √© 'X'\n    calculatedDigit = 'X';\n  } else if (complement === 11) {\n    // Quando o complemento √© 11, o d√≠gito verificador √© '0'\n    calculatedDigit = '0';\n  } else {\n    // Para outros casos, o d√≠gito verificador √© o pr√≥prio complemento\n    calculatedDigit = String(complement);\n  }\n\n  // Compara o d√≠gito calculado com o fornecido\n  return calculatedDigit === verifierDigit;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default validateRG;\n// ------------------------------------------------------------------------------------------------","import getCrypto from \"./getCrypto.js\";\nimport decrypt from \"./decrypt.js\";\nimport encrypt from \"./encrypt.js\";\nimport decryptBuffer from \"./decryptBuffer.js\";\nimport encryptBuffer from \"./encryptBuffer.js\";\nimport digest from \"./digest.js\";\nimport importCryptoKey from \"./importCryptoKey.js\";\nimport verifySignature from \"./verifySignature.js\";\n\n// Named exports para importa√ß√£o individual\nexport {\n  getCrypto,\n  decrypt,\n  encrypt,\n  decryptBuffer,\n  encryptBuffer,\n  digest,\n  importCryptoKey,\n  verifySignature,\n};\n\n// Default export para compatibilidade\nexport default {\n  getCrypto,\n  decrypt,\n  encrypt,\n  decryptBuffer,\n  encryptBuffer,\n  digest,\n  importCryptoKey,\n  verifySignature,\n};\n","import getCrypto from \"./getCrypto\";\nimport bufferToString from \"../utils/bufferToString\";\nimport base64ToBuffer from \"../utils/base64ToBuffer\";\nimport importCryptoKey from \"./importCryptoKey.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Asynchronously decrypts an encrypted message using a provided private key.\n * \n * This function performs RSA-OAEP decryption using the Web Crypto API, supporting both\n * Node.js and browser environments. It handles PEM-formatted private keys and base64-encoded\n * encrypted messages, providing a secure and efficient decryption process.\n *\n * @async\n * @function decrypt\n * @param {string} privateKey - The PEM-encoded private key used for decryption\n * @param {string} encryptedMessage - The base64-encoded encrypted message to decrypt\n * @param {Object} [props={}] - Configuration options for the decryption process\n * @param {string} [props.format=\"pkcs8\"] - Private key format specification\n * @param {Object} [props.algorithm] - Cryptographic algorithm configuration\n * @param {string} [props.algorithm.name=\"RSA-OAEP\"] - Algorithm name\n * @param {Object} [props.algorithm.hash] - Hash algorithm configuration\n * @param {string} [props.algorithm.hash.name=\"SHA-256\"] - Hash algorithm name\n * @param {boolean} [props.extractable=true] - Whether the imported key can be extracted\n * @param {string[]} [props.keyUsages=[\"decrypt\"]] - Permitted key usage operations\n * @param {string} [props.padding=\"RSA-OAEP\"] - Padding scheme for decryption operation\n * @returns {Promise<string>} The decrypted message as a UTF-8 string\n * @throws {Error} When decryption fails due to invalid key, corrupted data, or crypto errors\n * \n * @example\n * const decryptedText = await decrypt(pemPrivateKey, base64EncryptedMessage);\n * \n * @example\n * const decryptedText = await decrypt(pemPrivateKey, base64EncryptedMessage, {\n *   algorithm: { name: \"RSA-OAEP\", hash: { name: \"SHA-1\" } },\n *   extractable: false\n * });\n */\nasync function decrypt(privateKey, encryptedMessage, props = {}) {\n  // Early return for empty encrypted messages to avoid unnecessary processing\n  if (!encryptedMessage) {\n    return \"\";\n  }\n\n  // Destructure configuration with optimized defaults\n  const {\n    format = \"pkcs8\",\n    algorithm = { name: \"RSA-OAEP\", hash: { name: \"SHA-256\" } },\n    extractable = true,\n    keyUsages = [\"decrypt\"],\n    padding = \"RSA-OAEP\"\n  } = props || {};\n\n  // Get crypto implementation (Node.js or browser)\n  const crypto = getCrypto();\n\n  // Clean and convert PEM private key to binary format\n  // Removes PEM headers, footers, and whitespace in a single operation\n  const cleanedPrivateKey = privateKey.replace(\n    /-----(BEGIN|END) (?:RSA )?(?:PRIVATE|PUBLIC) KEY-----|\\s/g,\n    \"\"\n  );\n  const binaryPrivateKey = base64ToBuffer(cleanedPrivateKey);\n\n  // Import the private key for cryptographic operations\n  const importedKey = await importCryptoKey(\n    format,\n    binaryPrivateKey,\n    algorithm,\n    extractable,\n    keyUsages\n  );\n\n  // Convert base64 encrypted message to binary data\n  const encryptedData = base64ToBuffer(encryptedMessage);\n\n  // Perform decryption using the Web Crypto API\n  const decryptedBuffer = await crypto.subtle.decrypt(\n    { name: padding },\n    importedKey,\n    encryptedData\n  );\n\n  // Convert decrypted binary data back to string\n  return bufferToString(decryptedBuffer);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default decrypt;\n\n// ------------------------------------------------------------------------------------------------","import getCrypto from \"./getCrypto.js\";\nimport bufferFromString from \"../utils/bufferFromString\";\nimport base64FromBuffer from \"../utils/base64FromBuffer.js\";\nimport importCryptoKey from \"./importCryptoKey.js\";\nimport base64ToBuffer from \"../utils/base64ToBuffer.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Encrypts a message using asymmetric cryptography with public key encryption.\n *\n * This function provides a complete encryption workflow that handles PEM-formatted\n * public keys, performs key importation, and encrypts plaintext messages using\n * industry-standard cryptographic algorithms. It supports various RSA encryption\n * schemes and is designed for secure data transmission scenarios where the sender\n * has access to the recipient's public key.\n *\n * The function automatically handles key format conversion from PEM to binary,\n * imports the key into the Web Crypto API, performs the encryption operation,\n * and returns the result as a base64-encoded string for easy transmission.\n *\n * @async\n * @param {string} publicKey - The public key in PEM format for encryption:\n *                            - Must be a valid PEM-encoded public key string\n *                            - Supports standard PEM headers (BEGIN/END PUBLIC KEY)\n *                            - Can include RSA-specific headers (BEGIN/END RSA PUBLIC KEY)\n *                            - Whitespace and line breaks are automatically handled\n *                            - Key should be compatible with the specified algorithm\n *\n * @param {string} message - The plaintext message to encrypt:\n *                          - UTF-8 encoded string that will be converted to binary\n *                          - Empty strings are handled gracefully (returns empty result)\n *                          - Message length is limited by the key size and padding:\n *                            - RSA-OAEP with 2048-bit key: ~190 bytes max\n *                            - RSA-OAEP with 4096-bit key: ~446 bytes max\n *                          - For larger messages, consider hybrid encryption approaches\n *\n * @param {Object} [props={}] - Configuration options for encryption parameters:\n * @param {string} [props.format='spki'] - Public key import format:\n *                            - 'spki': SubjectPublicKeyInfo format (most common for public keys)\n *                            - 'raw': Raw key data (not typical for RSA keys)\n *                            - 'jwk': JSON Web Key format\n *\n * @param {Object} [props.algorithm] - Cryptographic algorithm specification:\n *                            Default: { name: 'RSA-OAEP', hash: { name: 'SHA-256' } }\n *                            Supported algorithms:\n *                            - RSA-OAEP: Optimal Asymmetric Encryption Padding\n *                            - RSA-PKCS1-v1_5: PKCS#1 v1.5 padding (legacy, less secure)\n *                            Hash options: SHA-1, SHA-256, SHA-384, SHA-512\n *\n * @param {boolean} [props.extractable=true] - Key extractability setting:\n *                            - true: Key can be exported after import (default)\n *                            - false: Key cannot be extracted (more secure)\n *                            - Generally safe to leave as true for public keys\n *\n * @param {string[]} [props.keyUsages=['encrypt']] - Permitted key operations:\n *                            - ['encrypt']: Only encryption operations (default)\n *                            - ['encrypt', 'wrapKey']: Encryption and key wrapping\n *                            - Must include 'encrypt' for this function to work\n *\n * @param {string} [props.padding='RSA-OAEP'] - Encryption padding scheme:\n *                            - 'RSA-OAEP': Optimal Asymmetric Encryption Padding (recommended)\n *                            - 'RSA-PKCS1-v1_5': PKCS#1 v1.5 padding (legacy)\n *                            - Should match the algorithm.name parameter\n *\n * @returns {Promise<string>} Promise resolving to encrypted data:\n *                           - Base64-encoded string representation of encrypted bytes\n *                           - Ready for transmission over text-based protocols\n *                           - Can be stored safely in JSON, XML, or database text fields\n *                           - Returns empty string if input message is empty\n *\n * @throws {Error} Throws an error when:\n *                 - Public key is malformed or invalid PEM format\n *                 - Key is incompatible with the specified algorithm\n *                 - Message exceeds maximum size for the key/padding combination\n *                 - Cryptographic operation fails due to invalid parameters\n *                 - Required crypto modules are unavailable in the environment\n *\n * @example\n * // Basic RSA-OAEP encryption with default parameters\n * const publicKeyPem = `-----BEGIN PUBLIC KEY-----\n * MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA...\n * -----END PUBLIC KEY-----`;\n *\n * const encrypted = await encrypt(publicKeyPem, 'Hello, World!');\n * console.log('Encrypted message:', encrypted);\n *\n * @example\n * // Advanced encryption with custom algorithm parameters\n * const customEncrypted = await encrypt(\n *   publicKeyPem,\n *   'Sensitive data',\n *   {\n *     algorithm: {\n *       name: 'RSA-OAEP',\n *       hash: { name: 'SHA-512' }\n *     },\n *     extractable: false,\n *     keyUsages: ['encrypt'],\n *     padding: 'RSA-OAEP'\n *   }\n * );\n *\n * @example\n * // Handle encryption errors gracefully\n * try {\n *   const result = await encrypt(publicKey, message);\n *   // Transmit or store the encrypted result\n *   await sendSecureMessage(result);\n * } catch (error) {\n *   console.error('Encryption failed:', error.message);\n *   // Implement fallback or error reporting\n * }\n *\n * @example\n * // Empty message handling\n * const emptyResult = await encrypt(publicKey, '');\n * console.log(emptyResult === ''); // true\n */\nasync function encrypt(publicKey, message, props = {}) {\n  // Handle empty message case early for performance\n  if (!message) return \"\";\n\n  // Extract crypto module for the current environment\n  const crypto = getCrypto();\n\n  // Clean and convert PEM-formatted public key to binary format\n  // Remove PEM headers, footers, and whitespace to get pure base64 content\n  const cleanedPublicKey = publicKey.replace(\n    /(-----(BEGIN|END) (RSA )?(PRIVATE|PUBLIC) KEY-----|\\s)/g,\n    \"\"\n  );\n  const binaryPublicKey = base64ToBuffer(cleanedPublicKey);\n\n  const {\n    format = \"spki\",\n    algorithm = { name: \"RSA-OAEP\", hash: { name: \"SHA-256\" } },\n    extractable = true,\n    keyUsages = [\"encrypt\"],\n    padding = \"RSA-OAEP\",\n  } = props || {};\n\n  // Import the public key into Web Crypto API format\n  // Use provided parameters or sensible defaults for RSA-OAEP encryption\n  const importedKey = await importCryptoKey(\n    format || \"spki\",\n    binaryPublicKey,\n    algorithm || {\n      name: \"RSA-OAEP\",\n      hash: { name: \"SHA-256\" },\n    },\n    extractable !== undefined ? extractable : true,\n    keyUsages || [\"encrypt\"]\n  );\n\n  // Convert message string to binary format for encryption\n  const messageBuffer = bufferFromString(message);\n\n  // Perform the actual encryption operation using the imported key\n  // The padding parameter determines the encryption scheme used\n  const encryptedBuffer = await crypto.subtle.encrypt(\n    { name: padding || \"RSA-OAEP\" },\n    importedKey,\n    messageBuffer\n  );\n\n  // Convert encrypted binary data to base64 for safe text transmission\n  return base64FromBuffer(encryptedBuffer);\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Export for CommonJS compatibility (Node.js)\nexport default encrypt;\n","import getCrypto from \"./getCrypto\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Computes a cryptographic hash (digest) of the given data using the specified algorithm.\n * \n * This function provides a unified interface for cryptographic hashing that works seamlessly\n * across both Node.js and browser environments. It automatically handles string-to-binary\n * conversion and selects the appropriate hashing implementation based on the runtime environment.\n *\n * @async\n * @function digest\n * @param {string} algorithm - The hash algorithm identifier (e.g., 'SHA-256', 'SHA-1', 'SHA-512')\n * @param {string|Uint8Array} data - The input data to hash - string or binary array\n * @returns {Promise<Uint8Array>} The computed cryptographic hash as a Uint8Array\n * @throws {Error} When the algorithm is unsupported or hashing operation fails\n *\n * @example\n * // Hash a string using SHA-256\n * const hash = await digest('SHA-256', 'hello world');\n * console.log(Array.from(hash).map(b => b.toString(16).padStart(2, '0')).join(''));\n *\n * @example\n * // Hash binary data using SHA-1\n * const binaryData = new Uint8Array([72, 101, 108, 108, 111]);\n * const hash = await digest('SHA-1', binaryData);\n * console.log(hash);\n *\n * @example\n * // Hash large text content\n * const content = 'Lorem ipsum dolor sit amet...';\n * const hash = await digest('SHA-512', content);\n * console.log(hash.length); // 64 bytes for SHA-512\n */\nasync function digest(algorithm, data) {\n  // Convert string data to Uint8Array using optimized approach\n  const binaryData = typeof data === \"string\" \n    ? new TextEncoder().encode(data)\n    : data;\n\n  // Get the appropriate crypto implementation for current environment\n  const crypto = getCrypto();\n\n  // Use Web Crypto API in browser environment for better performance and security\n  if (typeof window !== \"undefined\") {\n    const hashBuffer = await crypto.subtle.digest(algorithm, binaryData);\n    return new Uint8Array(hashBuffer);\n  }\n\n  // Use Node.js crypto module in server environment\n  // Convert Web Crypto API algorithm names to Node.js format if needed\n  const nodeAlgorithm = algorithm.toLowerCase().replace('-', '');\n  const hash = crypto.createHash(nodeAlgorithm).update(binaryData).digest();\n  \n  // Ensure consistent Uint8Array return type across environments\n  return new Uint8Array(hash);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default digest;\n\n// ------------------------------------------------------------------------------------------------","import getCrypto from './getCrypto';\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Verifies digital signatures using the Web Crypto API in a cross-platform manner.\n *\n * This function provides a unified interface for cryptographic signature verification\n * across different environments (browser and Node.js). It leverages the Web Crypto API's\n * subtle.verify method to perform secure signature validation using various cryptographic\n * algorithms including RSA-PSS, RSA-PKCS1-v1_5, ECDSA, and HMAC.\n *\n * The verification process involves comparing a provided signature against the expected\n * signature for given data using the specified public key and algorithm. This is essential\n * for ensuring data integrity and authenticity in cryptographic workflows.\n *\n * @param {Object|string} algorithm - Algorithm specification for signature verification:\n *                          - Object: Detailed parameters (e.g., { name: 'RSA-PSS', saltLength: 32 })\n *                          - String: Simple algorithm name (e.g., 'RSA-PSS', 'ECDSA')\n *                          Common algorithms:\n *                          - RSA-PSS: RSA with PSS padding\n *                          - RSA-PKCS1-v1_5: RSA with PKCS#1 v1.5 padding\n *                          - ECDSA: Elliptic Curve Digital Signature Algorithm\n *                          - HMAC: Hash-based Message Authentication Code\n *\n * @param {CryptoKey} key - The cryptographic key used for signature verification:\n *                          - For asymmetric algorithms: Must be a public key with 'verify' usage\n *                          - For symmetric algorithms (HMAC): Can be the same key used for signing\n *                          - Must be compatible with the specified algorithm\n *                          - Key must have been imported with 'verify' in keyUsages array\n *\n * @param {BufferSource|ArrayBuffer|Uint8Array} signature - The digital signature to verify:\n *                          - Binary signature data as BufferSource (ArrayBuffer, Uint8Array, etc.)\n *                          - Must be in the format produced by the corresponding sign operation\n *                          - Length and format depend on the algorithm used:\n *                            - RSA signatures: typically 256 bytes (2048-bit) or 512 bytes (4096-bit)\n *                            - ECDSA signatures: varies by curve (64 bytes for P-256, 96 bytes for P-384)\n *                            - HMAC signatures: depends on hash function (32 bytes for SHA-256)\n *\n * @param {BufferSource|ArrayBuffer|Uint8Array} data - The original data that was signed:\n *                          - Binary data as BufferSource that needs to be verified against signature\n *                          - Must be exactly the same data used during the signing process\n *                          - Any modification to this data will cause verification to fail\n *                          - For text data, ensure consistent encoding (typically UTF-8)\n *\n * @returns {Promise<boolean>} Promise resolving to verification result:\n *                          - true: Signature is valid and data integrity is confirmed\n *                          - false: Signature is invalid, data may have been tampered with\n *                          Note: This method never rejects for invalid signatures, only for\n *                          operational errors (invalid keys, unsupported algorithms, etc.)\n *\n * @throws {Error} Throws an error when:\n *                 - Crypto module is unavailable in the current environment\n *                 - Invalid algorithm specification or unsupported algorithm\n *                 - Key is inappropriate for the algorithm or missing 'verify' usage\n *                 - Signature or data parameters are malformed or incompatible\n *                 - Environment doesn't support the specified cryptographic operations\n *\n * @example\n * // Verify RSA-PSS signature\n * const publicKey = await importCryptoKey(/* RSA public key parameters *);\n * const signatureBytes = new Uint8Array([...]); // RSA signature\n * const originalData = new TextEncoder().encode('Hello, World!');\n * \n * const isValid = await verifySignature(\n *   {\n *     name: 'RSA-PSS',\n *     saltLength: 32\n *   },\n *   publicKey,\n *   signatureBytes,\n *   originalData\n * );\n * console.log('Signature valid:', isValid);\n *\n * @example\n * // Verify ECDSA signature with P-256 curve\n * const ecdsaKey = await importCryptoKey(/* ECDSA public key parameters *);\n * const ecdsaSignature = new Uint8Array([...]); // ECDSA signature (64 bytes for P-256)\n * const messageData = new Uint8Array([...]); // Original message\n * \n * const result = await verifySignature(\n *   { name: 'ECDSA', hash: 'SHA-256' },\n *   ecdsaKey,\n *   ecdsaSignature,\n *   messageData\n * );\n *\n * @example\n * // Verify HMAC signature (symmetric)\n * const hmacKey = await importCryptoKey(/* HMAC key parameters *);\n * const hmacSignature = new Uint8Array(32); // HMAC-SHA256 signature\n * const payload = new TextEncoder().encode('{\"user\": \"john\", \"action\": \"login\"}');\n * \n * try {\n *   const verified = await verifySignature(\n *     { name: 'HMAC', hash: 'SHA-256' },\n *     hmacKey,\n *     hmacSignature,\n *     payload\n *   );\n *   if (verified) {\n *     console.log('Message authenticated successfully');\n *   } else {\n *     console.warn('Message authentication failed - possible tampering');\n *   }\n * } catch (error) {\n *   console.error('Verification error:', error.message);\n * }\n */\nasync function verifySignature(algorithm, key, signature, data) {\n  // Retrieve the appropriate crypto module for the current environment\n  const crypto = getCrypto();\n  \n  // Perform signature verification using the Web Crypto API\n  // The subtle.verify method handles the cryptographic verification process\n  // and returns a boolean indicating signature validity\n  return await crypto.subtle.verify(algorithm, key, signature, data);\n}\n\n// ------------------------------------------------------------------------------------------------\n\n// Export for CommonJS compatibility (Node.js)\nexport default verifySignature;","import convertECDSAASN1Signature from \"./convertECDSAASN1Signature.js\";\nimport getAuthenticationAuthData from \"./getAuthenticationAuthData.js\";\nimport getRegistrationAuthData from \"./getRegistrationAuthData.js\";\nimport getWebAuthnAuthenticationAssertion from \"./getWebAuthnAuthenticationAssertion.js\";\nimport getWebAuthnRegistrationCredential from \"./getWebAuthnRegistrationCredential.js\";\nimport validateRPID from \"./validateRPID.js\";\nimport validateAuthentication from \"./validateAuthentication.js\";\nimport validateRegistration from \"./validateRegistration.js\";\n\n// Named exports para importa√ß√£o individual\nexport { \n  convertECDSAASN1Signature,\n  getAuthenticationAuthData,\n  getRegistrationAuthData,\n  getWebAuthnAuthenticationAssertion,\n  getWebAuthnRegistrationCredential,\n  validateRPID,\n  validateAuthentication,\n  validateRegistration\n};\n\n// Default export para compatibilidade\nexport default {\n  convertECDSAASN1Signature,\n  getAuthenticationAuthData,\n  getRegistrationAuthData,\n  getWebAuthnAuthenticationAssertion,\n  getWebAuthnRegistrationCredential,\n  validateRPID,\n  validateAuthentication,\n  validateRegistration,\n};","import bufferConcatenate from \"../../utils/bufferConcatenate\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Converts an ECDSA signature from ASN.1/DER format to concatenated r|s format.\n * \n * The function expects an ASN.1 SEQUENCE containing exactly two INTEGER elements (r and s).\n * Both r and s components are normalized to be multiples of 128 bits (16 bytes) by:\n * - Removing leading zero bytes used for two's complement padding\n * - Adding zero padding when components are 15 bytes (one byte short of 16-byte boundary)\n *\n * @param {Uint8Array} asn1Signature - The input signature in ASN.1/DER format\n * @returns {Uint8Array} The signature in concatenated r|s format where both r and s are 128-bit aligned\n * @throws {Error} If the input doesn't contain exactly 2 ASN.1 sequence elements\n * @throws {Error} If r or s components have unexpected lengths after normalization\n */\nfunction convertECDSAASN1Signature(asn1Signature) {\n  const elements = readASN1IntegerSequence(asn1Signature);\n  \n  if (elements.length !== 2) {\n    throw new Error(\"Expected 2 ASN.1 sequence elements\");\n  }\n  \n  let [r, s] = elements;\n\n  // Normalize r component to 128-bit boundary\n  r = normalizeECDSAComponent(r);\n  \n  // Normalize s component to 128-bit boundary  \n  s = normalizeECDSAComponent(s);\n\n  // Concatenate normalized r and s components\n  return bufferConcatenate(r, s);\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Normalizes an ECDSA signature component (r or s) to be a multiple of 128 bits (16 bytes).\n * \n * This function handles two cases:\n * 1. Removes leading zero byte if present for two's complement and length is 16n+1\n * 2. Adds leading zero byte padding if length is 16n-1 (15 bytes)\n *\n * @param {Uint8Array} component - The signature component to normalize\n * @returns {Uint8Array} The normalized component aligned to 128-bit boundary\n * @throws {Error} If the component length is not a multiple of 16 bytes after normalization\n */\nfunction normalizeECDSAComponent(component) {\n  const length = component.byteLength;\n  let normalized = component;\n  \n  // Remove leading zero byte used for two's complement if length is 16n+1\n  if (component[0] === 0 && length % 16 === 1) {\n    normalized = component.slice(1);\n  }\n  // Add leading zero byte padding if length is 16n-1 (15 bytes)\n  else if (length % 16 === 15) {\n    const padding = new Uint8Array([0]);\n    normalized = new Uint8Array(bufferConcatenate(padding, component));\n  }\n\n  // Validate that the component is now properly aligned to 128-bit boundary\n  if (normalized.byteLength % 16 !== 0) {\n    throw new Error(\"unknown ECDSA sig r length error\");\n  }\n\n  return normalized;\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Parses an ASN.1/DER encoded sequence and extracts all INTEGER elements.\n * \n * This function performs basic ASN.1 parsing by:\n * 1. Validating the input starts with SEQUENCE tag (0x30)\n * 2. Reading the sequence length from the second byte\n * 3. Iterating through elements, ensuring each is an INTEGER (0x02)\n * 4. Extracting the value portion of each INTEGER element\n *\n * @param {Uint8Array} input - The ASN.1/DER encoded sequence\n * @returns {Array<Uint8Array>} Array of INTEGER values as Uint8Array buffers\n * @throws {Error} If input is not a valid ASN.1 SEQUENCE\n * @throws {Error} If any sequence element is not an ASN.1 INTEGER\n */\nfunction readASN1IntegerSequence(input) {\n  // Validate ASN.1 SEQUENCE tag\n  if (input[0] !== 0x30) {\n    throw new Error(\"Input is not an ASN.1 sequence\");\n  }\n\n  // Extract sequence length from second byte\n  const sequenceLength = input[1];\n  const elements = [];\n  \n  // Get sequence content, skipping tag and length bytes\n  let position = 2;\n  const sequenceEnd = position + sequenceLength;\n\n  // Parse all elements within the sequence\n  while (position < sequenceEnd) {\n    const tag = input[position];\n    \n    // Validate INTEGER tag\n    if (tag !== 0x02) {\n      throw new Error(\"Expected ASN.1 sequence element to be an INTEGER\");\n    }\n\n    // Read element length\n    const elementLength = input[position + 1];\n    \n    // Extract element value, skipping tag and length bytes\n    const elementValue = input.slice(position + 2, position + 2 + elementLength);\n    elements.push(elementValue);\n    \n    // Advance position to next element\n    position += 2 + elementLength;\n  }\n\n  return elements;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default convertECDSAASN1Signature;\n\n// ------------------------------------------------------------------------------------------------","import base64FromBuffer from \"../../utils/base64FromBuffer\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Extracts and processes data from a WebAuthn authentication assertion object.\n * \n * This function parses the WebAuthn assertion response and extracts all relevant\n * authentication data including client data, authenticator data, signature, and\n * optional user handle information.\n *\n * @param {Object} assertion - The WebAuthn authentication assertion object\n * @param {string} assertion.id - The credential ID as a string\n * @param {ArrayBuffer} assertion.rawId - The credential ID as raw bytes\n * @param {string} assertion.type - The credential type (typically \"public-key\")\n * @param {Object} assertion.response - The authenticator assertion response\n * @param {ArrayBuffer} assertion.response.clientDataJSON - Client data in JSON format\n * @param {ArrayBuffer} assertion.response.authenticatorData - Authenticator data bytes\n * @param {ArrayBuffer} assertion.response.signature - The assertion signature\n * @param {ArrayBuffer} [assertion.response.userHandle] - Optional user handle\n * @returns {Object} Extracted authentication data with parsed components\n * @throws {Error} If extraction fails due to missing or invalid data\n */\nfunction getAuthenticationAuthData(assertion) {\n  const id = assertion.id;\n  const rawId = base64FromBuffer(assertion.rawId);\n  const type = assertion.type;\n\n  // Build response object with all authentication data\n  const response = {\n    clientDataJSONDecoded: new TextDecoder().decode(assertion.response.clientDataJSON),\n    clientDataJSON: base64FromBuffer(assertion.response.clientDataJSON),\n    authenticatorData: base64FromBuffer(assertion.response.authenticatorData),\n    signature: base64FromBuffer(assertion.response.signature),\n    userHandle: assertion.response.userHandle\n      ? base64FromBuffer(assertion.response.userHandle)\n      : false\n  };\n\n  // Parse authenticator data structure\n  const authData = getAuthDataFromAuthentication(assertion.response.authenticatorData);\n\n  return {\n    id,\n    rawId,\n    type,\n    authData,\n    response\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Parses WebAuthn authenticator data according to the FIDO2 specification.\n * \n * The authenticator data structure contains:\n * - RP ID Hash (32 bytes): SHA-256 hash of the relying party identifier\n * - Flags (1 byte): Bit flags indicating various states\n * - Counter (4 bytes): Signature counter value (big-endian)\n * - Optional attested credential data (variable length)\n * - Optional extensions data (variable length)\n *\n * @param {ArrayBuffer} authData - Raw authenticator data from WebAuthn response\n * @returns {Object} Parsed authenticator data components\n * @throws {Error} If authenticator data is too short or contains invalid data\n */\nfunction getAuthDataFromAuthentication(authData) {\n  // Validate minimum length for RP ID hash, flags, and counter\n  if (!authData || authData.byteLength < 37) {\n    throw new Error(\n      `Authenticator data was ${authData?.byteLength || \"invalid\"} bytes, expected at least 37 bytes`\n    );\n  }\n\n  const dataView = new DataView(authData, authData.byteOffset, authData.length);\n  let pointer = 0;\n\n  // Extract RP ID hash (32 bytes)\n  const rpIdHash = authData.slice(pointer, pointer + 32);\n  pointer += 32;\n\n  // Extract and parse flags byte\n  const flagsBuf = authData.slice(pointer, pointer + 1);\n  const flagsInt = new Uint8Array(flagsBuf)[0];\n  pointer += 1;\n\n  const flags = {\n    up: !!(flagsInt & 0x01), // User Present (bit 0)\n    uv: !!(flagsInt & 0x04), // User Verified (bit 2)\n    be: !!(flagsInt & 0x08), // Backup Eligible (bit 3)\n    bs: !!(flagsInt & 0x10), // Backup State (bit 4)\n    at: !!(flagsInt & 0x40), // Attested Credential Data Present (bit 6)\n    ed: !!(flagsInt & 0x80), // Extension Data Present (bit 7)\n    flagsInt\n  };\n\n  // Extract signature counter (4 bytes, big-endian)\n  const counterBuf = authData.slice(pointer, pointer + 4);\n  const counter = dataView.getUint32(pointer, false); // false = big-endian\n  pointer += 4;\n\n  // Parse optional attested credential data\n  const attestationResult = parseAttestedCredentialData(flags, authData, pointer);\n  pointer = attestationResult.newPointer;\n\n  // Parse optional extension data\n  const extensionsData = parseExtensionData(flags, authData, pointer);\n\n  return {\n    rpIdHash: base64FromBuffer(rpIdHash),\n    flagsBuf: base64FromBuffer(flagsBuf),\n    flags,\n    counter,\n    counterBuf: base64FromBuffer(counterBuf),\n    aaguid: attestationResult.aaguid,\n    credentialId: base64FromBuffer(attestationResult.credentialId),\n    credentialPublicKey: base64FromBuffer(attestationResult.credentialPublicKey),\n    extensionsData\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Parses attested credential data from authenticator data when the AT flag is set.\n * \n * Attested credential data structure:\n * - AAGUID (16 bytes): Authenticator attestation GUID\n * - Credential ID Length (2 bytes): Length of credential ID (big-endian)\n * - Credential ID (variable): The credential identifier\n * - Credential Public Key (variable): COSE-encoded public key\n *\n * @param {Object} flags - Parsed flags from authenticator data\n * @param {ArrayBuffer} authData - Complete authenticator data buffer\n * @param {number} pointer - Current parsing position in the buffer\n * @returns {Object} Parsed credential data and updated pointer position\n */\nfunction parseAttestedCredentialData(flags, authData, pointer) {\n  // Return undefined values if attested credential data is not present\n  if (!flags.at) {\n    return {\n      aaguid: undefined,\n      credentialId: undefined,\n      credentialPublicKey: undefined,\n      newPointer: pointer\n    };\n  }\n\n  const dataView = new DataView(authData, authData.byteOffset, authData.length);\n\n  // Extract AAGUID (16 bytes)\n  const aaguid = authData.slice(pointer, pointer + 16);\n  pointer += 16;\n\n  // Extract credential ID length (2 bytes, big-endian)\n  const credentialIdLength = dataView.getUint16(pointer, false);\n  pointer += 2;\n\n  // Extract credential ID\n  const credentialId = authData.slice(pointer, pointer + credentialIdLength);\n  pointer += credentialIdLength;\n\n  // Extract credential public key (remaining data up to extensions)\n  // Note: In practice, public key length varies, but for this implementation\n  // we assume a fixed 77 bytes as per original code\n  const credentialPublicKey = authData.slice(pointer, pointer + 77);\n  pointer += 77;\n\n  return {\n    aaguid,\n    credentialId,\n    credentialPublicKey,\n    newPointer: pointer\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Parses extension data from authenticator data when the ED flag is set.\n * \n * Extension data is CBOR-encoded and contains additional authenticator\n * information. The data extends from the current pointer to the end of\n * the authenticator data buffer.\n *\n * @param {Object} flags - Parsed flags from authenticator data\n * @param {ArrayBuffer} authData - Complete authenticator data buffer\n * @param {number} pointer - Current parsing position in the buffer\n * @returns {ArrayBuffer|undefined} Extension data buffer or undefined if not present\n */\nfunction parseExtensionData(flags, authData, pointer) {\n  // Return undefined if extension data is not present\n  if (!flags.ed) {\n    return undefined;\n  }\n\n  // Extension data spans from current pointer to end of authenticator data\n  return authData.slice(pointer);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default getAuthenticationAuthData;\n\n// ------------------------------------------------------------------------------------------------","/**\n * @file M√≥dulo para processar e extrair dados de uma credencial de registro WebAuthn.\n */\n\nimport { decode } from \"cbor-x\";\nimport base64FromBuffer from \"../../utils/base64FromBuffer\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Analisa o buffer de dados do autenticador (authData) para extrair o ID da credencial e a chave p√∫blica.\n * A estrutura do buffer `authData` √© rigorosamente definida pela especifica√ß√£o WebAuthn.\n * Esta fun√ß√£o decodifica essa estrutura de bytes.\n * @see https://www.w3.org/TR/webauthn-2/#sctn-authenticator-data\n *\n * @private\n * @param {ArrayBuffer} attestationObjectBuffer - O buffer do objeto de atestado, que cont√©m os dados do autenticador.\n * @returns {{credentialId: string, publicKeyObject: string}} Um objeto contendo o ID da credencial e a chave p√∫blica, ambos codificados em Base64.\n */\nfunction parseAuthenticatorData(attestationObjectBuffer) {\n  // 1. Decodifica o objeto de atestado do formato CBOR para acessar seus campos internos.\n  const attestationObject = decode(new Uint8Array(attestationObjectBuffer));\n  const { authData } = attestationObject;\n\n  // 2. Define constantes para os offsets e comprimentos dos campos na estrutura `authData`,\n  // conforme a especifica√ß√£o. Isso substitui \"n√∫meros m√°gicos\" por valores claros e documentados.\n  const RP_ID_HASH_OFFSET = 0;\n  const RP_ID_HASH_LENGTH = 32;\n  const FLAGS_OFFSET = RP_ID_HASH_OFFSET + RP_ID_HASH_LENGTH; // 32\n  const FLAGS_LENGTH = 1;\n  const SIGN_COUNT_OFFSET = FLAGS_OFFSET + FLAGS_LENGTH; // 33\n  const SIGN_COUNT_LENGTH = 4;\n\n  // O `attestedCredentialData` √© opcional e sua presen√ßa √© indicada pelo bit 'AT' nas flags.\n  // Seu in√≠cio √© ap√≥s os campos de cabe√ßalho.\n  const ATTESTED_CREDENTIAL_DATA_OFFSET = SIGN_COUNT_OFFSET + SIGN_COUNT_LENGTH; // 37\n  const AAGUID_LENGTH = 16;\n  const CREDENTIAL_ID_LENGTH_BYTES = 2;\n\n  const CREDENTIAL_ID_LENGTH_OFFSET =\n    ATTESTED_CREDENTIAL_DATA_OFFSET + AAGUID_LENGTH; // 53\n  const CREDENTIAL_ID_OFFSET =\n    CREDENTIAL_ID_LENGTH_OFFSET + CREDENTIAL_ID_LENGTH_BYTES; // 55\n\n  // 3. Extrai o comprimento do ID da credencial. Este √© um inteiro de 2 bytes (Big Endian).\n  // Usamos um DataView para garantir a interpreta√ß√£o correta dos bytes.\n  const idLenBytes = authData.slice(\n    CREDENTIAL_ID_LENGTH_OFFSET,\n    CREDENTIAL_ID_OFFSET\n  );\n  const dataView = new DataView(idLenBytes.buffer);\n  const credentialIdLength = dataView.getUint16(0);\n\n  // 4. Extrai o ID da credencial e a chave p√∫blica usando os comprimentos e offsets calculados.\n  const credentialId = authData.slice(\n    CREDENTIAL_ID_OFFSET,\n    CREDENTIAL_ID_OFFSET + credentialIdLength\n  );\n  const publicKeyBytes = authData.slice(\n    CREDENTIAL_ID_OFFSET + credentialIdLength\n  );\n\n  // 5. Retorna os dados extra√≠dos, codificados em Base64 para facilitar o transporte e armazenamento.\n  return {\n    credentialId: base64FromBuffer(credentialId.buffer),\n    publicKeyObject: base64FromBuffer(publicKeyBytes.buffer),\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Extrai e formata os dados de autentica√ß√£o de registro de uma credencial WebAuthn (`PublicKeyCredential`).\n * A fun√ß√£o processa os v√°rios `ArrayBuffer`s da credencial, convertendo-os para formatos √∫teis (como Base64)\n * e decodificando a estrutura de dados interna do autenticador.\n *\n * @param {PublicKeyCredential} credential - O objeto de credencial WebAuthn retornado pelo navegador ap√≥s um registro bem-sucedido.\n * @returns {object} Um objeto estruturado contendo os dados de registro prontos para serem enviados a um servidor.\n * @throws {Error} Lan√ßa um erro se ocorrer um problema durante o processamento da credencial (ex: formato inv√°lido).\n */\nfunction getRegistrationAuthData(credential) {\n  const response = credential.response;\n\n  // Analisa a estrutura de bytes do `attestationObject` para extrair dados internos.\n  const parsedAuthData = parseAuthenticatorData(response.attestationObject);\n\n  // Decodifica o `clientDataJSON` de ArrayBuffer para uma string UTF-8 leg√≠vel.\n  const clientDataJSONDecoded = new TextDecoder().decode(\n    response.clientDataJSON\n  );\n\n  // Constr√≥i o objeto de retorno final com todos os dados relevantes convertidos para Base64.\n  // Isso prepara os dados para serem serializados (ex: como JSON) e enviados para o servidor.\n  return {\n    // Dados de n√≠vel superior da credencial\n    rawId: base64FromBuffer(credential.rawId),\n    id: credential.id,\n    type: credential.type,\n    authenticatorAttachment: credential.authenticatorAttachment,\n    clientExtensionResults: credential.getClientExtensionResults(),\n\n    // Dados extra√≠dos e analisados do `authData`\n    authData: parsedAuthData,\n\n    // Dados da resposta do autenticador, convertidos para formatos apropriados\n    response: {\n      attestationObject: base64FromBuffer(response.attestationObject),\n      authenticatorData: base64FromBuffer(response.getAuthenticatorData()),\n      clientDataJSON: base64FromBuffer(response.clientDataJSON),\n      clientDataJSONDecoded,\n      transports: response.getTransports() || [],\n      publicKey: base64FromBuffer(response.getPublicKey()),\n      publicKeyAlgorithm: response.getPublicKeyAlgorithm(),\n    },\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default getRegistrationAuthData;\n\n// ------------------------------------------------------------------------------------------------\n","/**\n * @file M√≥dulo para iniciar o processo de autentica√ß√£o WebAuthn no navegador.\n */\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Valida se o objeto de propriedades fornecido cont√©m todos os campos necess√°rios\n * para uma chamada `navigator.credentials.get()`. Lan√ßa um erro se a valida√ß√£o falhar.\n *\n * @private\n * @param {PublicKeyCredentialRequestOptions} props - O objeto de op√ß√µes a ser validado.\n * @throws {Error} Lan√ßa um erro descritivo se um campo obrigat√≥rio estiver ausente ou for inv√°lido.\n */\nfunction validateAuthenticationOptions(props) {\n  // Valida a presen√ßa do 'challenge', que √© essencial para prevenir ataques de repeti√ß√£o.\n  if (!props.challenge) {\n    throw new Error(\"No challenge provided\");\n  }\n\n  // Valida a lista de credenciais permitidas. O autenticador usar√° esta lista\n  // para encontrar uma credencial correspondente que o usu√°rio possa usar para assinar.\n  if (\n    !props.allowCredentials ||\n    !Array.isArray(props.allowCredentials) ||\n    props.allowCredentials.length === 0\n  ) {\n    throw new Error(\"No allowCredentials provided\");\n  }\n\n  // Itera sobre cada credencial permitida para garantir que sua estrutura est√° correta.\n  for (const cred of props.allowCredentials) {\n    if (!cred.id) {\n      throw new Error(\n        \"No allowCredentials (id) provided - The credential ID registered on the registration phase\"\n      );\n    }\n    if (!cred.type) {\n      throw new Error(\"No allowCredentials (type) provided\");\n    }\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Inicia o processo de autentica√ß√£o WebAuthn no navegador e retorna uma asser√ß√£o de autentica√ß√£o.\n * Esta fun√ß√£o √© um wrapper para `navigator.credentials.get()`, adicionando valida√ß√µes\n * e suporte a um callback opcional para retrocompatibilidade.\n *\n * @param {PublicKeyCredentialRequestOptions} props - O objeto contendo as op√ß√µes para solicitar uma asser√ß√£o de autentica√ß√£o.\n * @param {Function} [callback] - Fun√ß√£o de callback opcional que ser√° chamada com a asser√ß√£o obtida como argumento.\n * @returns {Promise<PublicKeyCredential|string>} Uma promessa que resolve para o objeto `PublicKeyCredential` (a asser√ß√£o),\n * ou para a string \"WebAuthn not supported\" se a API n√£o estiver dispon√≠vel.\n * @throws {Error} Lan√ßa um erro se ocorrer um problema durante o processo de autentica√ß√£o (ex: valida√ß√£o falha, usu√°rio cancela).\n */\nasync function getWebAuthnAuthenticationAssertion(props, callback) {\n  // 1. Verifica√ß√£o de Suporte da API\n  // Garante que a API WebAuthn para obter credenciais est√° dispon√≠vel no navegador.\n  if (typeof navigator?.credentials?.get !== \"function\") {\n    return \"WebAuthn not supported\";\n  }\n\n  // 2. Valida√ß√£o dos Par√¢metros\n  // Executa uma verifica√ß√£o rigorosa das op√ß√µes para garantir que a chamada √† API ser√° bem-sucedida.\n  validateAuthenticationOptions(props);\n\n  // 3. Obten√ß√£o da Asser√ß√£o\n  // Invoca a API nativa do navegador para solicitar uma asser√ß√£o de autentica√ß√£o.\n  // O `await` pausa a execu√ß√£o at√© que o usu√°rio prove sua identidade ao autenticador.\n  const assertion = await navigator.credentials.get({\n    publicKey: props,\n  });\n\n  // 4. Execu√ß√£o do Callback (Opcional)\n  // Se um callback v√°lido for fornecido, ele √© invocado com a asser√ß√£o.\n  if (typeof callback === \"function\") {\n    return callback(assertion);\n  }\n\n  // 5. Retorno da Promessa\n  // Se nenhum callback for usado, a fun√ß√£o retorna a asser√ß√£o, resolvendo a promessa.\n  return assertion;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default getWebAuthnAuthenticationAssertion;\n\n// ------------------------------------------------------------------------------------------------\n","/**\n * @file M√≥dulo para iniciar o processo de registro WebAuthn no navegador.\n */\n\n// ------------------------------------------------------------------------------------------------\n/**\n * Valida se o objeto de propriedades fornecido cont√©m todos os campos necess√°rios\n * para uma chamada `navigator.credentials.create()`. Lan√ßa um erro se a valida√ß√£o falhar.\n *\n * @private\n * @param {PublicKeyCredentialCreationOptions} props - O objeto de op√ß√µes a ser validado.\n * @throws {Error} Lan√ßa um erro descritivo se um campo obrigat√≥rio estiver ausente ou for inv√°lido.\n */\nfunction validateCreationOptions(props) {\n  // Valida a presen√ßa do 'challenge', que √© essencial para a seguran√ßa do protocolo.\n  if (!props.challenge) {\n    throw new Error(\"No challenge provided\");\n  }\n\n  // Valida as informa√ß√µes da Relying Party (RP).\n  if (!props.rp) {\n    throw new Error(\"No RP (Relying Party) provided\");\n  }\n  if (!props.rp.name) {\n    throw new Error(\"No RP (Relying Party) name provided\");\n  }\n\n  // Valida as informa√ß√µes do usu√°rio.\n  if (!props.user) {\n    throw new Error(\"No user provided\");\n  }\n  if (!props.user.id) {\n    throw new Error(\"No user id provided\");\n  }\n  if (!props.user.displayName) {\n    throw new Error(\"No user display name provided\");\n  }\n  if (!props.user.name) {\n    throw new Error(\"No user name provided\");\n  }\n\n  // Valida os par√¢metros dos tipos de credenciais de chave p√∫blica aceitos.\n  // Deve ser um array n√£o vazio.\n  if (\n    !props.pubKeyCredParams ||\n    !Array.isArray(props.pubKeyCredParams) ||\n    props.pubKeyCredParams.length === 0\n  ) {\n    throw new Error(\"No pubKeyCredParams provided\");\n  }\n\n  // Itera sobre cada par√¢metro para garantir que a estrutura est√° correta.\n  for (const param of props.pubKeyCredParams) {\n    if (!param.hasOwnProperty(\"alg\")) {\n      throw new Error(\"No pubKeyCredParams.alg provided\");\n    }\n    if (!param.hasOwnProperty(\"type\")) {\n      throw new Error(\"No pubKeyCredParams.type provided\");\n    }\n  }\n}\n\n// ------------------------------------------------------------------------------------------------\n/**\n * Inicia o processo de registro WebAuthn no navegador e retorna uma nova credencial.\n * Esta fun√ß√£o √© um wrapper para `navigator.credentials.create()`, adicionando valida√ß√µes\n * e suporte a um callback opcional.\n *\n * @param {PublicKeyCredentialCreationOptions} [props={}] - O objeto contendo as op√ß√µes para a cria√ß√£o de uma nova credencial de chave p√∫blica.\n * @param {Function} [callback] - Fun√ß√£o de callback opcional que ser√° chamada com a credencial criada como argumento.\n * @returns {Promise<PublicKeyCredential|string>} Uma promessa que resolve para o objeto `PublicKeyCredential` criado,\n * ou para a string \"WebAuthn not supported\" se a API n√£o estiver dispon√≠vel no navegador.\n * @throws {Error} Lan√ßa um erro se ocorrer um problema durante o processo de cria√ß√£o da credencial (ex: valida√ß√£o falha, cancelamento do usu√°rio).\n */\nasync function getWebAuthnRegistrationCredential(props = {}, callback) {\n  // 1. Verifica√ß√£o de Suporte da API\n  // Garante que a API WebAuthn est√° dispon√≠vel no objeto `navigator` antes de prosseguir.\n  // Esta fun√ß√£o destina-se apenas a ambientes de navegador.\n  if (typeof navigator?.credentials?.create !== \"function\") {\n    return \"WebAuthn not supported\";\n  }\n\n  // 2. Valida√ß√£o dos Par√¢metros\n  // Executa uma verifica√ß√£o rigorosa das op√ß√µes fornecidas para garantir que a chamada √† API\n  // seja bem-sucedida e evitar erros inesperados.\n  validateCreationOptions(props);\n\n  // 3. Cria√ß√£o da Credencial\n  // Invoca a API nativa do navegador para solicitar a cria√ß√£o de uma nova credencial.\n  // O `await` pausa a execu√ß√£o at√© que o usu√°rio interaja com o prompt (ex: usando biometria)\n  // e a promessa seja resolvida ou rejeitada.\n  const credential = await navigator.credentials.create({\n    publicKey: props,\n  });\n\n  // 4. Execu√ß√£o do Callback (Opcional)\n  // Se um callback foi fornecido e √© uma fun√ß√£o v√°lida, ele √© invocado com a credencial.\n  // Este padr√£o √© mantido para garantir a retrocompatibilidade com a assinatura original.\n  if (typeof callback === \"function\") {\n    return callback(credential);\n  }\n\n  // 5. Retorno da Promessa\n  // Se nenhum callback for usado, a fun√ß√£o retorna a credencial, resolvendo a promessa.\n  return credential;\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Exporta a fun√ß√£o para uso em m√≥dulos CommonJS.\n */\nexport default getWebAuthnRegistrationCredential;\n\n// ------------------------------------------------------------------------------------------------\n","/**\n * @file M√≥dulo para valida√ß√£o de RPID (Relying Party ID) usando depend√™ncias espec√≠ficas.\n */\n\n// Importa as utilidades necess√°rias de outros m√≥dulos.\n// A responsabilidade pela implementa√ß√£o de baixo n√≠vel √© delegada a essas fun√ß√µes.\nimport base64ToBuffer from \"../../utils/base64ToBuffer\";\nimport bufferCompare from \"../../utils/bufferCompare\";\nimport bufferFromString from \"../../utils/bufferFromString\";\nimport getCrypto from \"../../crypto/getCrypto.js\";\n\n// ------------------------------------------------------------------------------------------------\n/**\n * Valida de forma ass√≠ncrona que o RPID original corresponde ao RPID de verifica√ß√£o ap√≥s a aplica√ß√£o de um hash.\n * Esta fun√ß√£o orquestra chamadas a utilit√°rios criptogr√°ficos e de buffer para realizar a valida√ß√£o.\n *\n * @param {string} originalRPID - O identificador RPID original (string UTF-8) a ser validado.\n * @param {string} verifyRPID - A representa√ß√£o em Base64 do RPID a ser verificado. Espera-se que contenha o hash do RPID original.\n * @param {string} [algorithm=\"SHA-256\"] - O algoritmo de hash a ser usado. Deve ser compat√≠vel com a implementa√ß√£o de `getCrypto`.\n * @returns {Promise<boolean>} Retorna uma promessa que resolve para `true` se os RPIDs corresponderem.\n * @throws {Error} Lan√ßa um erro se `originalRPID` ou `verifyRPID` n√£o forem fornecidos, ou se os RPIDs n√£o corresponderem.\n */\nasync function validateRPID(originalRPID, verifyRPID, algorithm = \"SHA-256\") {\n  // 1. Valida√ß√£o dos Par√¢metros de Entrada\n  // Garante que os argumentos essenciais foram fornecidos antes de qualquer processamento.\n  if (!originalRPID || typeof originalRPID !== \"string\") {\n    throw new Error(\"originalRPID is required\");\n  }\n  originalRPID = originalRPID.trim();\n  if (!originalRPID) {\n    throw new Error(\"originalRPID is required\");\n  }\n\n  if (!verifyRPID || typeof verifyRPID !== \"string\") {\n    throw new Error(\"verifyRPID is required\");\n  }\n\n  verifyRPID = verifyRPID.trim();\n  if (!verifyRPID) {\n    throw new Error(\"verifyRPID is required\");\n  }\n\n  // 2. Prepara√ß√£o para o Hashing\n  // Obt√©m a interface de criptografia do ambiente (Node.js ou navegador) atrav√©s do utilit√°rio.\n  const crypto = getCrypto();\n  // Converte a string do RPID original em um formato de buffer, que √© o tipo de entrada\n  // esperado pela API de criptografia para a opera√ß√£o de digest.\n  const originalRPIDBuffer = bufferFromString(originalRPID);\n\n  // 3. Gera√ß√£o do Hash\n  // Calcula o hash do buffer do RPID original usando o algoritmo especificado.\n  // A opera√ß√£o `digest` √© ass√≠ncrona e retorna o hash resultante (geralmente como um ArrayBuffer).\n  const digestOfOriginalRPID = await crypto.subtle.digest(\n    algorithm,\n    originalRPIDBuffer\n  );\n\n  // 4. Decodifica√ß√£o e Extra√ß√£o do Hash de Verifica√ß√£o\n  // Decodifica a string base64 `verifyRPID` para seu formato de buffer correspondente.\n  const verifyRPIDBuffer = base64ToBuffer(verifyRPID);\n  // Extrai os primeiros 32 bytes do buffer decodificado. Este segmento √© assumido\n  // como sendo o hash a ser comparado (consistente com o tamanho de um hash SHA-256).\n  const digestToVerify = verifyRPIDBuffer.slice(0, 32);\n\n  // 5. Compara√ß√£o Segura\n  // Compara o hash rec√©m-gerado com o hash extra√≠do do par√¢metro de verifica√ß√£o.\n  // √â crucial que `bufferCompare` implemente uma compara√ß√£o segura contra ataques de temporiza√ß√£o.\n  const areDigestsEqual = bufferCompare(digestOfOriginalRPID, digestToVerify);\n\n  if (!areDigestsEqual) {\n    // Se a compara√ß√£o falhar, lan√ßa um erro espec√≠fico para indicar a incompatibilidade.\n    throw new Error(\n      `Registration RPID does not match the authentication RPID.`\n    );\n  }\n\n  // Se a compara√ß√£o for bem-sucedida, a valida√ß√£o est√° completa.\n  return true;\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Exporta a fun√ß√£o `validateRPID` para uso em m√≥dulos CommonJS (padr√£o do Node.js).\n */\nexport default validateRPID;\n\n// ------------------------------------------------------------------------------------------------\n","/**\n * @file M√≥dulo otimizado para valida√ß√£o de asser√ß√£o de autentica√ß√£o WebAuthn.\n */\n\nimport verifySignature from \"../../crypto/verifySignature\";\nimport importCryptoKey from \"../../crypto/importCryptoKey\";\nimport validateRPID from \"./validateRPID\";\nimport isNumber from \"../../helpers/isNumber\";\nimport base64ToBuffer from \"../../utils/base64ToBuffer\";\nimport base64From from \"../../utils/base64From\";\nimport bufferConcatenate from \"../../utils/bufferConcatenate\";\nimport convertECDSAASN1Signature from \"./convertECDSAASN1Signature\";\n\n// ------------------------------------------------------------------------------------------------\n/**\n * Recupera os par√¢metros do algoritmo para importar uma chave p√∫blica com base no identificador do algoritmo.\n * @private\n */\nfunction getImportPublicKeyAlgorithm(publicKeyAlgorithm) {\n  switch (publicKeyAlgorithm) {\n    case -7: // ES256\n      return { name: \"ECDSA\", namedCurve: \"P-256\" };\n    case -257: // RS256\n      return { name: \"RSASSA-PKCS1-v1_5\", hash: { name: \"SHA-256\" } };\n    case -8: // Ed25519\n      throw new Error(\"Ed25519 is not supported by crypto.subtle directly\");\n    default:\n      throw new Error(`Unsupported algorithm: ${publicKeyAlgorithm}`);\n  }\n}\n\n/**\n * Recupera os par√¢metros do algoritmo para verificar uma assinatura com base no identificador do algoritmo.\n * @private\n */\nfunction getAlgorithmVerifySignatureParam(publicKeyAlgorithm) {\n  switch (publicKeyAlgorithm) {\n    case -7: // ES256\n      return { name: \"ECDSA\", hash: { name: \"SHA-256\" } };\n    case -257: // RS256\n      return { name: \"RSASSA-PKCS1-v1_5\", hash: { name: \"SHA-256\" } };\n    case -8: // Ed25519\n      throw new Error(\n        \"Ed25519 is not supported by crypto.subtle. Use an external library.\"\n      );\n    default:\n      throw new Error(`Unsupported algorithm: ${publicKeyAlgorithm}`);\n  }\n}\n\n/**\n * Gera um hash combinado a partir dos dados do autenticador e do clientDataJSON da asser√ß√£o.\n * Este √© o payload que foi originalmente assinado pelo autenticador.\n * @private\n */\nasync function generateDataToVerify(assertion) {\n  const authenticatorDataBuffer = base64ToBuffer(\n    assertion.response.authenticatorData\n  );\n  const clientDataJSONBuffer = base64ToBuffer(assertion.response.clientDataJSON);\n  const clientDataJSONHash = await crypto.subtle.digest(\n    \"SHA-256\",\n    clientDataJSONBuffer\n  );\n\n  return bufferConcatenate(authenticatorDataBuffer, clientDataJSONHash);\n}\n\n// ------------------------------------------------------------------------------------------------\n/**\n * Valida de forma ass√≠ncrona uma asser√ß√£o de autentica√ß√£o WebAuthn em um fluxo otimizado.\n *\n * @param {object} credential - O objeto da credencial armazenado, contendo a chave p√∫blica.\n * @param {object} assertion - A asser√ß√£o de autentica√ß√£o recebida do cliente.\n * @param {object} [expectedProps={}] - Propriedades esperadas para valida√ß√£o (challenge, origin, etc.).\n * @param {object} [incomingProps={}] - Propriedades recebidas na requisi√ß√£o (contador da asser√ß√£o).\n * @param {object} [publicKeyProps={}] - Op√ß√µes para a importa√ß√£o da chave p√∫blica.\n * @param {boolean} [convertECDSignature=true] - Se deve converter a assinatura ECDSA do formato bruto para ASN.1.\n * @returns {Promise<boolean>} Retorna `true` se a valida√ß√£o for bem-sucedida.\n * @throws {Error} Lan√ßa um erro detalhado na primeira falha de valida√ß√£o.\n */\nasync function validateAuthentication(\n  credential,\n  assertion,\n  expectedProps = {},\n  incomingProps = {},\n  publicKeyProps = {},\n  convertECDSignature = true\n) {\n  // ## 1. Valida√ß√£o Estrutural dos Objetos\n  if (!credential) {\n    throw new Error(\"Missing credential\");\n  }\n  if (!credential.id) {\n    throw new Error(\"Missing credential ID\");\n  }\n  if (!credential.rawId) {\n    throw new Error(\"Missing credential rawId\");\n  }\n  if (credential.type !== \"public-key\") {\n    throw new Error(\"Credential type must be 'public-key'\");\n  }\n\n  if (!assertion) {\n    throw new Error(\"Missing assertion\");\n  }\n  if (!assertion.id) {\n    throw new Error(\"Missing assertion ID\");\n  }\n  if (!assertion.rawId) {\n    throw new Error(\"Missing assertion rawId\");\n  }\n  if (assertion.type !== \"public-key\") {\n    throw new Error(\"Assertion type must be 'public-key'\");\n  }\n\n  // ## 2. Valida√ß√£o de Consist√™ncia entre Credencial e Asser√ß√£o\n  if (credential.id !== assertion.id) {\n    throw new Error(\"Credential ID does not match assertion ID\");\n  }\n  if (credential.rawId !== assertion.rawId) {\n    throw new Error(\"Credential rawId does not match assertion rawId\");\n  }\n\n  // ## 3. Valida√ß√£o do Contador de Assinatura (Preven√ß√£o de Replay/Clonagem)\n  const { counterCredential } = expectedProps;\n  const { counterAssertion } = incomingProps;\n  if (!isNumber(counterCredential) || counterCredential < 0) {\n    throw new Error(\"counterCredential must be a number >= 0\");\n  }\n  if (!isNumber(counterAssertion) || counterAssertion < 0) {\n    throw new Error(\"counterAssertion must be a number >= 0\");\n  }\n  // A especifica√ß√£o WebAuthn exige que o contador da nova asser√ß√£o seja maior que o contador armazenado.\n  // Isso previne ataques de repeti√ß√£o e detecta clonagem de autenticadores.\n  // Uma exce√ß√£o √© quando um autenticador n√£o suporta contadores e sempre retorna 0.\n  // A l√≥gica abaixo acomoda este cen√°rio: a verifica√ß√£o s√≥ √© imposta se o novo contador for diferente de zero.\n  if (counterAssertion !== 0) {\n    if (counterAssertion <= counterCredential) {\n      throw new Error(\n        `Invalid signature counter. The assertion counter (${counterAssertion}) must be strictly greater than the stored credential counter (${counterCredential}).`\n      );\n    }\n  }\n\n  // ## 4. Valida√ß√£o dos Par√¢metros da Requisi√ß√£o (Client Data)\n  const clientDataJSON = JSON.parse(assertion.response.clientDataJSONDecoded);\n  const assertionChallenge = base64From(clientDataJSON?.challenge || \"\");\n  if (expectedProps.challenge !== assertionChallenge) {\n    throw new Error(\"Challenge provided does not match assertion challenge.\");\n  }\n  if (expectedProps.origin !== clientDataJSON?.origin) {\n    throw new Error(\n      `Origin does not match. Expected: ${expectedProps.origin} Actual: ${\n        clientDataJSON?.origin ?? \"none\"\n      }`\n    );\n  }\n  if (expectedProps.type !== clientDataJSON?.type) {\n    throw new Error(\n      `Type does not match. Expected: ${expectedProps.type} Actual: ${\n        clientDataJSON?.type ?? \"none\"\n      }`\n    );\n  }\n\n  // ## 5. Valida√ß√£o das Flags do Autenticador\n  if (!assertion.authData.flags.up) {\n    throw new Error(\"User Present flag (up) is required for authentication.\");\n  }\n  if (!assertion.authData.flags.uv) {\n    throw new Error(\"User Verified flag (uv) is required for authentication.\");\n  }\n\n  // ## 6. Valida√ß√£o do RP ID\n  await validateRPID(expectedProps.rpID, assertion.authData.rpIdHash);\n\n  // ## 7. Verifica√ß√£o da Assinatura Criptogr√°fica\n  const importAlgo = getImportPublicKeyAlgorithm(\n    credential.response.publicKeyAlgorithm\n  );\n  const verifyAlgo = getAlgorithmVerifySignatureParam(\n    credential.response.publicKeyAlgorithm\n  );\n\n  const publicKey = await importCryptoKey(\n    publicKeyProps?.importKey?.format || \"spki\",\n    base64ToBuffer(credential.response.publicKey),\n    importAlgo,\n    publicKeyProps?.importKey?.extractable || false,\n    [\"verify\"]\n  );\n\n  let signature = new Uint8Array(base64ToBuffer(assertion.response.signature));\n  // Assinaturas ECDSA de autenticadores v√™m em formato bruto (r||s), mas a Web Crypto API espera ASN.1.\n  if (convertECDSignature && credential.response.publicKeyAlgorithm === -7) {\n    signature = convertECDSAASN1Signature(signature);\n  }\n\n  const dataToVerify = await generateDataToVerify(assertion);\n\n  return verifySignature(verifyAlgo, publicKey, signature, dataToVerify);\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default validateAuthentication;\n\n// ------------------------------------------------------------------------------------------------\n","/**\n * @file M√≥dulo otimizado para valida√ß√£o de credencial de registro WebAuthn.\n */\n\nimport base64ToBuffer from \"../../utils/base64ToBuffer\";\nimport { decode } from \"cbor-x\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Valida uma credencial de registro WebAuthn de forma eficiente.\n *\n * Esta fun√ß√£o executa uma s√©rie de valida√ß√µes em um fluxo √∫nico e otimizado:\n * 1. Valida a estrutura e as propriedades essenciais da credencial.\n * 2. Valida os par√¢metros da requisi√ß√£o (challenge, origin, type) contra os valores esperados.\n * 3. Decodifica e valida o formato e a declara√ß√£o do objeto de atestado.\n *\n * @param {object} credential - A credencial WebAuthn a ser validada.\n * @param {object} [expectedProps={}] - Um objeto contendo as propriedades esperadas para a valida√ß√£o.\n * @param {string} [expectedProps.challenge] - O challenge esperado, conforme enviado ao cliente.\n * @param {string} [expectedProps.origin] - A origem (dom√≠nio) esperada da requisi√ß√£o.\n * @param {string} [expectedProps.type] - O tipo de opera√ß√£o esperado (ex: 'webauthn.create').\n * @returns {true} Retorna `true` se a credencial for v√°lida em todos os aspectos.\n * @throws {Error} Lan√ßa um erro descritivo no primeiro ponto em que a valida√ß√£o falhar.\n */\nfunction validateRegistration(credential, expectedProps = {}) {\n  // ## 1. Valida√ß√£o Estrutural da Credencial\n  // Garante que o objeto da credencial e suas propriedades fundamentais existem e s√£o do tipo correto.\n  if (!credential) {\n    throw new Error(\"Missing credential\");\n  }\n  if (!credential.id) {\n    throw new Error(\"Missing credential ID\");\n  }\n  if (!credential.rawId) {\n    throw new Error(\"Missing credential rawId\");\n  }\n  if (!credential.type || credential.type !== \"public-key\") {\n    throw new Error(\n      \"Missing credential type or credential type is not public-key\"\n    );\n  }\n\n  // ## 2. Valida√ß√£o dos Par√¢metros da Requisi√ß√£o (Client Data)\n  // Compara os dados da requisi√ß√£o (challenge, origin, type) com os valores esperados.\n  const clientDataJSON = JSON.parse(credential.response.clientDataJSONDecoded);\n\n  if (expectedProps.challenge !== clientDataJSON?.challenge) {\n    throw new Error(\n      `Challenge does not match. Provided challenge: ${\n        clientDataJSON?.challenge ?? \"none\"\n      }.`\n    );\n  }\n\n  if (expectedProps.origin !== clientDataJSON?.origin) {\n    throw new Error(\n      `Origin does not match. Expected: ${expectedProps.origin} Actual: ${\n        clientDataJSON?.origin ?? \"none\"\n      }`\n    );\n  }\n\n  if (expectedProps.type !== clientDataJSON?.type) {\n    throw new Error(\n      `Type does not match. Expected: ${expectedProps.type} Actual: ${\n        clientDataJSON?.type ?? \"none\"\n      }`\n    );\n  }\n\n  // ## 3. Valida√ß√£o do Objeto de Atestado (Attestation Object)\n  // Decodifica e valida o formato e a declara√ß√£o de atestado.\n  const attestationObjectBuffer = base64ToBuffer(\n    credential.response.attestationObject\n  );\n  // A biblioteca `cbor.decode` √© altamente otimizada para essa opera√ß√£o.\n  const attestationObject = decode(new Uint8Array(attestationObjectBuffer));\n\n  if (!attestationObject.fmt) {\n    throw new Error(\"Missing attestation object format\");\n  }\n\n  // Para o formato 'none', a declara√ß√£o de atestado (attStmt) deve estar vazia.\n  // A biblioteca cbor-x decodifica mapas CBOR em objetos Map do JS, que possuem a propriedade `.size`.\n  if (attestationObject.fmt === \"none\") {\n    if (attestationObject.attStmt && attestationObject.attStmt.size > 0) {\n      throw new Error(\"None attestation had unexpected attestation statement\");\n    }\n  } else {\n    // Atualmente, apenas o formato 'none' √© suportado por esta valida√ß√£o.\n    throw new Error(`Unsupported Attestation Format: ${attestationObject.fmt}`);\n  }\n\n  // Se todas as valida√ß√µes passarem, a fun√ß√£o retorna `true`.\n  return true;\n}\n\n// ------------------------------------------------------------------------------------------------\n\nexport default validateRegistration;\n\n// ------------------------------------------------------------------------------------------------\n","import setConditionBetweenDates from \"./setConditionsBetweenDates.js\";\nimport setConditionBetweenValues from \"./setConditionsBetweenValues.js\";\nimport setConditionStringLike from \"./setConditionStringLike.js\";\n\n// Named exports para importa√ß√£o individual\nexport {\n  setConditionBetweenDates,\n  setConditionBetweenValues,\n  setConditionStringLike\n};\n\n// Default export para compatibilidade\nexport default {\n  setConditionBetweenDates,\n  setConditionBetweenValues,\n  setConditionStringLike,\n};","/**\n * @fileoverview Utilit√°rio para formatar condi√ß√µes de busca por intervalo de datas\n * em objetos de consulta, com depend√™ncias de convers√£o e ajuste de data/hora.\n */\n\n// --- Depend√™ncias do M√≥dulo ---\nimport { DATE_BR_FORMAT_D } from \"../../../constants.js\";\nimport stringToDate from \"../../../utils/stringToDate.js\";\nimport dateFirstHourOfDay from \"../../../utils/dateFirstHourOfDay.js\";\nimport dateLastHourOfDay from \"../../../utils/dateLastHourOfDay.js\";\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Cria uma condi√ß√£o de busca por intervalo de datas (BETWEEN) em um objeto.\n *\n * @summary Formata um intervalo de datas para uma condi√ß√£o de ORM.\n * @description Esta fun√ß√£o modifica um objeto de consulta, convertendo strings de data em\n * objetos `Date` e criando uma cl√°usula `$and` com condi√ß√µes `$gte` (maior ou igual a)\n * e/ou `$lte` (menor ou igual a).\n *\n * **Efeitos Colaterais:**\n * 1.  Adiciona uma nova chave (`key`) ao objeto com a condi√ß√£o de intervalo.\n * 2.  **Remove** as chaves originais de data (`afterKey`, `beforeKey`) do objeto.\n *\n * @param {object} object - O objeto de consulta que ser√° **modificado**.\n * @param {string} [fromFormat=DATE_BR_FORMAT_D] - O formato em que as strings de data de entrada est√£o.\n * @param {string} [key=\"created_at\"] - A chave principal no objeto onde a condi√ß√£o `$and` ser√° criada.\n * @param {string} [beforeKey=\"created_at_until\"] - A chave que cont√©m a data final do intervalo (`<=`).\n * @param {string} [afterKey=\"created_at_from\"] - A chave que cont√©m a data inicial do intervalo (`>=`).\n * @param {boolean} [resetHMS=true] - Se `true`, ajusta a data inicial para o primeiro momento do dia (00:00:00) e a data final para o √∫ltimo (23:59:59).\n * @returns {object|null} Retorna o objeto modificado se alguma condi√ß√£o for aplicada, ou `null` se nenhuma for.\n *\n * @example\n * // Filtro de entrada\n * const filter = { created_at_from: '01-08-2025', created_at_until: '18-08-2025' };\n *\n * setConditionBetweenDates(filter);\n *\n * // O objeto 'filter' √© modificado para:\n * // {\n * //   created_at: {\n * //     $and: [\n * //       { $gte: new Date('2025-08-01T00:00:00.000') },\n * //       { $lte: new Date('2025-08-18T23:59:59.999') }\n * //     ]\n * //   }\n * // }\n * // Note que 'created_at_from' e 'created_at_until' foram removidos.\n */\nfunction setConditionBetweenDates(\n  object,\n  fromFormat = DATE_BR_FORMAT_D,\n  key = \"created_at\",\n  beforeKey = \"created_at_until\",\n  afterKey = \"created_at_from\",\n  resetHMS = true\n) {\n  // Guarda de valida√ß√£o: retorna null se o objeto n√£o existir ou se nenhuma das chaves de\n  // intervalo de data estiver presente, mantendo o comportamento original.\n  if (!object || (!object[afterKey] && !object[beforeKey])) {\n    return null;\n  }\n\n  const conditions = [];\n\n  // Processa a data inicial do intervalo ('de')\n  if (object[afterKey]) {\n    // Converte a string de data para um objeto Date.\n    const fromDate = stringToDate(object[afterKey], fromFormat);\n\n    // Ajusta a data para o in√≠cio do dia, se solicitado.\n    const finalDate = resetHMS ? dateFirstHourOfDay(fromDate) : fromDate;\n\n    conditions.push({ $gte: finalDate });\n\n    // Remove a chave original do objeto, conforme a l√≥gica original.\n    delete object[afterKey];\n  }\n\n  // Processa a data final do intervalo ('at√©')\n  if (object[beforeKey]) {\n    const untilDate = stringToDate(object[beforeKey], fromFormat);\n\n    // Ajusta a data para o final do dia, se solicitado.\n    const finalDate = resetHMS ? dateLastHourOfDay(untilDate) : untilDate;\n\n    conditions.push({ $lte: finalDate });\n\n    // Remove a chave original do objeto.\n    delete object[beforeKey];\n  }\n\n  // Adiciona a nova chave de condi√ß√£o ao objeto.\n  object[key] = {\n    $and: conditions,\n  };\n\n  // Retorna o objeto modificado, mantendo o comportamento original.\n  return object;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default setConditionBetweenDates;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o utilit√°ria para formatar condi√ß√µes de busca\n * por intervalo (BETWEEN) em objetos de consulta de banco de dados.\n */\n\n/**\n * Cria uma condi√ß√£o de busca por intervalo (BETWEEN) em um objeto de consulta.\n *\n * @summary Formata um valor de objeto para uma condi√ß√£o de intervalo (BETWEEN) de ORM.\n * @description Modifica um objeto de consulta para adicionar uma cl√°usula `$and` com condi√ß√µes\n * `$gte` (maior ou igual a) e/ou `$lte` (menor ou igual a). Esta fun√ß√£o √© √∫til para filtrar\n * por um intervalo de valores (ex: datas, pre√ßos). **A fun√ß√£o modifica o objeto de entrada diretamente**.\n *\n * @param {object} object - O objeto de consulta que ser√° **modificado**.\n * @param {string} [key=\"value\"] - A chave principal no objeto onde a condi√ß√£o `$and` ser√° criada.\n * @param {string} [beforeKey=\"value_until\"] - A chave no objeto que cont√©m o valor final do intervalo (`<=`).\n * @param {string} [afterKey=\"value_from\"] - A chave no objeto que cont√©m o valor inicial do intervalo (`>=`).\n * @returns {object|void} Retorna o objeto modificado se ao menos uma condi√ß√£o (`beforeKey` ou `afterKey`)\n * for aplicada. Retorna `undefined` (implicitamente) se nenhuma condi√ß√£o for encontrada no objeto.\n * @example\n * // Caso com ambas as chaves\n * const query = { value_from: '2025-01-01', value_until: '2025-01-31' };\n * setConditionBetweenValues(query);\n * // query √© modificado para:\n * // {\n * //   value_from: '2025-01-01',\n * //   value_until: '2025-01-31',\n * //   value: { $and: [ { $gte: '2025-01-01' }, { $lte: '2025-01-31' } ] }\n * // }\n *\n * // Caso com apenas a chave inicial\n * const query2 = { value_from: 100 };\n * setConditionBetweenValues(query2);\n * // query2 √© modificado para: { value_from: 100, value: { $and: [ { $gte: 100 } ] } }\n */\nfunction setConditionBetweenValues(\n  object,\n  key = \"value\",\n  beforeKey = \"value_until\",\n  afterKey = \"value_from\"\n) {\n  // Guarda de valida√ß√£o: se o objeto n√£o existe, ou se nenhuma das chaves de\n  // intervalo (`afterKey` ou `beforeKey`) est√° presente, a fun√ß√£o n√£o faz nada.\n  // Preserva o retorno impl√≠cito de `undefined` do c√≥digo original.\n  if (!object || (!object[afterKey] && !object[beforeKey])) {\n    return;\n  }\n\n  const conditions = [];\n\n  // Adiciona a condi√ß√£o de limite inferior se a chave correspondente existir.\n  if (object[afterKey]) {\n    conditions.push({ $gte: object[afterKey] });\n  }\n\n  // Adiciona a condi√ß√£o de limite superior se a chave correspondente existir.\n  if (object[beforeKey]) {\n    conditions.push({ $lte: object[beforeKey] });\n  }\n\n  // Atribui a nova estrutura de condi√ß√£o ao objeto na chave especificada.\n  object[key] = {\n    $and: conditions,\n  };\n\n  // Preserva o retorno do objeto modificado do c√≥digo original.\n  return object;\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default setConditionBetweenValues;\n// ------------------------------------------------------------------------------------------------\n","/**\n * @fileoverview Fornece uma fun√ß√£o utilit√°ria para formatar condi√ß√µes de busca\n * textual (LIKE) em objetos de consulta de banco de dados.\n */\n\n/**\n * Modifica um objeto para criar uma condi√ß√£o de busca textual (LIKE/ILIKE).\n *\n * @summary Formata um valor de objeto para uma condi√ß√£o LIKE de ORM.\n * @description Esta fun√ß√£o √© um utilit√°rio para construir cl√°usulas de consulta para ORMs (como Sequelize).\n * Ela pega o valor de uma chave no objeto, o envolve com wildcards (`%`) e o reatribui\n * √† mesma chave no formato `{ $iLike: '%valor%' }` ou `{ $like: '%valor%' }`.\n * A fun√ß√£o modifica o objeto de entrada diretamente (muta√ß√£o).\n *\n * @param {object} object - O objeto de consulta que ser√° **modificado**.\n * @param {string} key - A chave no objeto cujo valor ser√° formatado.\n * @param {boolean} [insensitive=true] - Se `true`, usa `$iLike` (case-insensitive). Se `false`, usa `$like` (case-sensitive).\n * @returns {void} Esta fun√ß√£o n√£o retorna um valor; ela modifica o objeto passado como refer√™ncia.\n * @example\n * const query = { name: 'Maria' };\n * setConditionStringLike(query, 'name');\n * // O objeto 'query' agora √©: { name: { $iLike: '%Maria%' } }\n *\n * const filter = { email: 'TESTE@' };\n * setConditionStringLike(filter, 'email', false);\n * // O objeto 'filter' agora √©: { email: { $like: '%TESTE@%' } }\n *\n * const emptyQuery = { name: '' };\n * setConditionStringLike(emptyQuery, 'name');\n * // O objeto 'emptyQuery' n√£o √© modificado, pois o valor inicial √© \"falsy\".\n */\nfunction setConditionStringLike(object, key, insensitive = true) {\n  // Guarda de valida√ß√£o: se o objeto, a chave ou o valor na chave n√£o existirem\n  // ou forem \"falsy\" (como uma string vazia), a fun√ß√£o n√£o faz nada.\n  if (!object || !key || !object[key]) {\n    return;\n  }\n\n  // Determina o operador a ser usado com base na op√ß√£o 'insensitive'.\n  const operator = insensitive ? '$iLike' : '$like';\n  \n  // Armazena o valor original para evitar problemas na reatribui√ß√£o.\n  const value = object[key];\n\n  // Modifica o objeto, reatribuindo a chave com a nova estrutura de condi√ß√£o.\n  // Usa a sintaxe de nome de propriedade computada ([operator]) para definir a chave dinamicamente.\n  object[key] = {\n    [operator]: `%${value}%`,\n  };\n}\n\n// ------------------------------------------------------------------------------------------------\nexport default setConditionStringLike;\n// ------------------------------------------------------------------------------------------------","// =================================================================================================\n// ARQUIVO:      BulkProcessor.js\n// OBJETIVO:     Fornecer uma classe gen√©rica e de alta performance para processamento de dados\n//               em lote (bulk). Abstrai a complexidade de acumular itens, envi√°-los em\n//               batches, e gerenciar concorr√™ncia e finaliza√ß√£o segura.\n// =================================================================================================\nimport defaultNumeric from \"../helpers/defaultNumeric.js\";\n\n/**\n * @typedef {object} Logger\n * @description Define a interface para um logger compat√≠vel.\n * @property {(message: string, context?: object) => void} info - Fun√ß√£o para logar mensagens informativas.\n * @property {(message: string, context?: object) => void} error - Fun√ß√£o para logar mensagens de erro.\n */\n\n/**\n * @typedef {object} BulkProcessorOptions\n * @property {number} [limit=1000] - O n√∫mero de itens a acumular antes de disparar o processamento do lote. Ser√° for√ßado para no m√≠nimo 1.\n * @property {Logger} [logger] - Uma inst√¢ncia de logger estruturado. Se n√£o for fornecido, um logger silencioso ser√° usado.\n * @property {any} [payload={}] - Um objeto de dados est√°tico que ser√° passado para todos os callbacks.\n * @property {any} [serviceContext=null] - Um contexto de servi√ßo ou de dados que ser√° passado para os callbacks.\n * @property {(params: { batch: any[], payload: any, serviceContext: any, logger: Logger }) => Promise<void>} [onFlush] - Callback ass√≠ncrono chamado para processar um lote.\n * @property {(params: { buffer: any[], payload: any, item: any, serviceContext: any, logger: Logger }) => Promise<void>} [onAdd] - Callback ass√≠ncrono chamado a cada item adicionado.\n * @property {(params: { payload: any, serviceContext: any, logger: Logger }) => Promise<void>} [onEnd] - Callback ass√≠ncrono chamado quando o m√©todo `end()` √© invocado, antes do flush final.\n */\n\n/**\n * @class BulkProcessor\n * @description Gerencia o processamento de itens em lote (bulk).\n * A classe acumula itens em um buffer interno e invoca um callback de processamento\n * ass√≠ncrono quando o tamanho do lote atinge um limite definido. √â ideal para otimizar\n * opera√ß√µes de I/O, como inser√ß√µes em banco de dados ou chamadas para APIs.\n *\n * @example\n * // Uso padr√£o com a nova API de op√ß√µes\n * const processor = new BulkProcessor({\n * limit: 100,\n * onFlush: async ({ batch }) => {\n * console.log(`Processing ${batch.length} items.`);\n * // ...l√≥gica de inser√ß√£o no banco de dados...\n * }\n * });\n *\n * for (let i = 0; i < 1000; i++) {\n * processor.add({ id: i, data: `item-${i}` });\n * }\n * await processor.end();\n */\nclass BulkProcessor {\n  /** @private @type {any[]} */\n  #buffer = [];\n  /** @private @type {number} */\n  #limit;\n  /** @private @type {number} */\n  #maxBufferSize;\n  /** @private @type {number} */\n  #maxConcurrentFlushes;\n  /** @private @type {number} */\n  #activeFlushes = 0;\n  /** @private @type {boolean} */\n  #isEnding = false;\n  /** @private @type {Logger} */\n  #logger;\n  /** @private @type {any} */\n  #payload;\n  /** @private @type {any} */\n  #serviceContext;\n  /** @private @type {number} */\n  #retries;\n  /** @private @type {number} */\n  #retryDelayMs;\n  /** @private @type {number} */\n  #flushTimeoutMs;\n  /** @private @type {{onAdd?: Function, onFlush?: Function, onEnd?: Function, onBackpressure?: Function, onFlushFailure?: Function}} */\n  #callbacks;\n\n  /**\n   * Constr√≥i e configura uma nova inst√¢ncia do BulkProcessor.\n   * Este m√©todo √© projetado para ser flex√≠vel, suportando tanto uma assinatura\n   * moderna baseada em um √∫nico objeto de op√ß√µes quanto uma assinatura legada\n   * para garantir a retrocompatibilidade.\n   *\n   * @param {BulkProcessorOptions | object} [arg1={}] - O objeto de op√ß√µes ou o `payload` (legado).\n   * @param {object} [arg2={}] - O objeto `callbackFunctions` (legado).\n   * @param {object} [arg3={}] - O objeto `options` (legado).\n   */\n  constructor(arg1 = {}, arg2 = {}, arg3 = {}) {\n    let options;\n\n    // Bloco de compatibilidade para a assinatura legada (payload, callbacks, options).\n    // Se os argumentos 2 ou 3 forem fornecidos, o construtor assume que a assinatura\n    // antiga est√° em uso e remapeia os par√¢metros para o novo formato de 'options'.\n    if (Object.keys(arg2).length > 0 || Object.keys(arg3).length > 0) {\n      const payload = arg1;\n      const callbackFunctions = arg2;\n      const otherOptions = arg3;\n      options = {\n        ...otherOptions,\n        payload: otherOptions.payload || payload,\n        onAdd: otherOptions.onAdd || callbackFunctions.onAddCallback,\n        onFlush: otherOptions.onFlush || callbackFunctions.onFlushCallback,\n        onEnd: otherOptions.onEnd || callbackFunctions.onEndCallback,\n      };\n    } else {\n      options = arg1;\n    }\n\n    // Define os padr√µes para todas as configura√ß√µes e extrai os valores fornecidos pelo usu√°rio.\n    const {\n      limit: userLimit = 1000,\n      maxBufferSize,\n      maxConcurrentFlushes = 3,\n      flushTimeoutMs = 30000,\n      retries = 0,\n      retryDelayMs = 1000,\n      logger = {\n        info: () => {},\n        error: () => {},\n        warn: () => {},\n        debug: () => {},\n      },\n      payload = {},\n      serviceContext = null,\n      onFlush,\n      onAdd,\n      onEnd,\n      onBackpressure,\n      onFlushFailure,\n    } = options;\n\n    // --- Sanitiza√ß√£o e Valida√ß√£o dos Par√¢metros ---\n    // Esta se√ß√£o \"blinda\" o processador contra configura√ß√µes inv√°lidas ou inseguras,\n    // garantindo que os valores num√©ricos sejam v√°lidos e estejam dentro de limites razo√°veis.\n    this.#limit = Math.max(defaultNumeric(userLimit, 1), 1);\n    // O buffer deve ter espa√ßo para pelo menos dois lotes completos para evitar backpressure prematuro.\n    this.#maxBufferSize = Math.max(\n      this.#limit * 2,\n      defaultNumeric(maxBufferSize, 0)\n    );\n    // Deve haver pelo menos 1 slot de processamento concorrente (comportamento sequencial).\n    this.#maxConcurrentFlushes = Math.max(\n      1,\n      defaultNumeric(maxConcurrentFlushes, 3)\n    );\n    // O n√∫mero de retries n√£o pode ser negativo.\n    this.#retries = Math.max(0, defaultNumeric(retries, 0));\n    // Garante um delay m√≠nimo para evitar loops de retry muito agressivos.\n    this.#retryDelayMs = Math.max(100, defaultNumeric(retryDelayMs, 1000));\n    // Garante um timeout m√≠nimo para o flush.\n    this.#flushTimeoutMs = Math.max(500, defaultNumeric(flushTimeoutMs, 30000));\n\n    // Atribui√ß√£o das propriedades da inst√¢ncia.\n    this.#logger = logger;\n    this.#payload = payload;\n    this.#serviceContext = serviceContext;\n    this.#callbacks = { onFlush, onAdd, onEnd, onBackpressure, onFlushFailure };\n\n    // Log de inicializa√ß√£o para observabilidade, registrando a configura√ß√£o final aplicada.\n    this.#logger.info(`BulkProcessor inicializado.`, {\n      limit: this.#limit,\n      maxBufferSize: this.#maxBufferSize,\n      maxConcurrentFlushes: this.#maxConcurrentFlushes,\n      retries: this.#retries,\n      retryDelayMs: this.#retryDelayMs,\n      flushTimeoutMs: this.#flushTimeoutMs,\n    });\n  }\n\n  /**\n   * Adiciona um item √† fila de processamento de forma ass√≠ncrona.\n   *\n   * Este √© o principal m√©todo para popular o processador. Ele gerencia a l√≥gica de backpressure:\n   * se o buffer interno atingir sua capacidade m√°xima (`maxBufferSize`), a execu√ß√£o\n   * deste m√©todo ser√° pausada at√© que haja espa√ßo dispon√≠vel. Isso previne o consumo\n   * excessivo de mem√≥ria sob alta carga.\n   *\n   * A chamada ao callback `onAdd` √© realizada de forma \"fire-and-forget\" e n√£o bloqueia a adi√ß√£o do item.\n   *\n   * @param {*} item - O item a ser adicionado ao lote.\n   * @returns {Promise<void>} Uma promessa que resolve quando o item foi adicionado com sucesso ao buffer.\n   */\n  async add(item) {\n    // Trava de seguran√ßa para impedir a adi√ß√£o de itens durante o processo de finaliza√ß√£o.\n    if (this.#isEnding) {\n      this.#logger.info(\n        \"Processador em estado de finaliza√ß√£o. Novos itens est√£o sendo ignorados.\",\n        { item }\n      );\n      return;\n    }\n\n    // --- L√≥gica de Backpressure ---\n    // Se o buffer atingiu a capacidade m√°xima, o processador entra em estado de espera.\n    if (this.#buffer.length >= this.#maxBufferSize) {\n      // Notifica o sistema de que o backpressure foi ativado. A chamada √© feita\n      // de forma n√£o-bloqueante para n√£o travar o processo principal.\n      if (this.#callbacks.onBackpressure) {\n        Promise.resolve(\n          this.#callbacks.onBackpressure({\n            bufferSize: this.#buffer.length,\n            maxBufferSize: this.#maxBufferSize,\n            item, // Informa qual item est√° aguardando para ser adicionado.\n          })\n        ).catch((error) => {\n          this.#logger.error(\"Erro no callback onBackpressure.\", {\n            errorMessage: error.message,\n          });\n        });\n      }\n\n      // Aguarda em um la√ßo at√© que o buffer tenha espa√ßo novamente.\n      while (this.#buffer.length >= this.#maxBufferSize) {\n        // Pausa a execu√ß√£o por um curto per√≠odo para evitar consumo de CPU (busy-waiting)\n        // e permite que a event loop processe os flushes em andamento.\n        await new Promise((resolve) => setTimeout(resolve, 50));\n      }\n    }\n\n    // O item √© adicionado ao buffer somente ap√≥s a libera√ß√£o do backpressure.\n    this.#buffer.push(item);\n\n    // O callback onAdd √© invocado de forma n√£o-bloqueante para n√£o impactar a performance de adi√ß√£o.\n    if (this.#callbacks.onAdd) {\n      try {\n        // `Promise.resolve()` garante que mesmo um onAdd s√≠ncrono seja tratado como uma promessa.\n        Promise.resolve(\n          this.#callbacks.onAdd({\n            buffer: this.#buffer,\n            payload: this.#payload,\n            item,\n            serviceContext: this.#serviceContext,\n            logger: this.#logger,\n          })\n        ).catch((error) => {\n          this.#logger.error(`Erro n√£o tratado no callback onAdd.`, {\n            errorMessage: error.message,\n          });\n        });\n      } catch (syncError) {\n        // Este catch √© uma seguran√ßa extra para callbacks s√≠ncronos que podem lan√ßar exce√ß√µes.\n        this.#logger.error(`Erro s√≠ncrono no callback onAdd.`, {\n          errorMessage: syncError.message,\n        });\n      }\n    }\n\n    // Verifica se o buffer atingiu o limite para um lote e dispara o processamento.\n    if (this.#buffer.length >= this.#limit) {\n      this.flush();\n    }\n  }\n\n  /**\n   * Dispara o processamento de lotes de forma s√≠ncrona e n√£o-bloqueante.\n   *\n   * Atua como um \"despachante\": ele verifica o estado atual do buffer e os slots\n   * de concorr√™ncia dispon√≠veis e inicia quantas opera√ß√µes de processamento (`#executeFlush`)\n   * forem poss√≠veis, at√© o limite de `maxConcurrentFlushes`.\n   *\n   * Este m√©todo √© chamado automaticamente pelo `add()` e `end()`, mas tamb√©m pode ser\n   * invocado manualmente para for√ßar o processamento de um lote parcial.\n   */\n  flush() {\n    // Este la√ßo √© o cora√ß√£o da concorr√™ncia. Enquanto houver itens e \"trabalhadores\" (slots)\n    // dispon√≠veis, ele continuar√° despachando novos trabalhos.\n    while (\n      this.#buffer.length > 0 &&\n      this.#activeFlushes < this.#maxConcurrentFlushes\n    ) {\n      const batch = this.#buffer.splice(0, this.#limit);\n      // Dispara a execu√ß√£o sem esperar (fire-and-forget) para permitir que m√∫ltiplos\n      // flushes ocorram em paralelo. O gerenciamento do estado ass√≠ncrono √© feito em #executeFlush.\n      this.#executeFlush(batch);\n    }\n  }\n\n  /**\n   * O motor de processamento ass√≠ncrono para um √∫nico lote.\n   *\n   * Este m√©todo privado encapsula toda a l√≥gica complexa de uma opera√ß√£o de flush,\n   * incluindo:\n   * 1. Gerenciamento do timeout da opera√ß√£o (`flushTimeoutMs`).\n   * 2. Implementa√ß√£o da pol√≠tica de retries (`retries` e `retryDelayMs`).\n   * 3. Invoca√ß√£o do callback `onFlushFailure` para lotes que falham permanentemente.\n   * 4. Gerenciamento do contador de flushes ativos.\n   * 5. Disparo reativo do pr√≥ximo ciclo de `flush` para manter o pipeline de processamento ativo.\n   *\n   * @private\n   * @param {any[]} batch - O lote de itens que esta execu√ß√£o ir√° processar.\n   * @returns {Promise<void>}\n   */\n  async #executeFlush(batch) {\n    // Incrementa o contador de opera√ß√µes ativas. Este √© o in√≠cio do ciclo de vida de um flush.\n    this.#activeFlushes++;\n    this.#logger.info(\n      `Iniciando processamento de lote com ${batch.length} itens. Ativos: ${\n        this.#activeFlushes\n      }`\n    );\n\n    let lastError = null;\n\n    // La√ßo de tentativas: executa a tentativa inicial (attempt 0) + o n√∫mero de retries configurado.\n    for (let attempt = 0; attempt <= this.#retries; attempt++) {\n      try {\n        // Caso de borda: se nenhum onFlush for fornecido, descarta o lote intencionalmente.\n        if (!this.#callbacks.onFlush) {\n          this.#logger.info(\n            `Nenhum callback onFlush definido. Lote de ${batch.length} itens descartado.`\n          );\n          lastError = null; // Garante que n√£o ser√° tratado como uma falha.\n          break;\n        }\n\n        if (attempt > 0) {\n          this.#logger.info(\n            `Tentativa ${attempt}/${this.#retries} para o lote.`\n          );\n        }\n\n        // Executa o onFlush em uma \"corrida\" contra um timer de timeout.\n        let timeoutId;\n        const timeoutPromise = new Promise((_, reject) => {\n          timeoutId = setTimeout(\n            () =>\n              reject(\n                new Error(`Flush timed out after ${this.#flushTimeoutMs}ms`)\n              ),\n            this.#flushTimeoutMs\n          );\n        });\n\n        try {\n          await Promise.race([\n            this.#callbacks.onFlush({\n              batch,\n              payload: this.#payload,\n              serviceContext: this.#serviceContext,\n              logger: this.#logger,\n            }),\n            timeoutPromise,\n          ]);\n        } finally {\n          // CR√çTICO: Limpa o timeout para evitar que ele dispare mais tarde\n          // e cause um unhandled rejection, caso o flush termine antes do tempo.\n          clearTimeout(timeoutId);\n        }\n\n        // Se a execu√ß√£o chegou aqui, o lote foi processado com sucesso.\n        this.#logger.info(\n          `Lote de ${batch.length} itens processado com sucesso.`\n        );\n        lastError = null;\n        break; // Sai do la√ßo de retries.\n      } catch (error) {\n        // Ocorreu uma falha (seja do onFlush ou do timeout).\n        lastError = error;\n\n        if (attempt >= this.#retries) {\n          // Se esta foi a √∫ltima tentativa, registra um erro definitivo.\n          this.#logger.error(\n            `Falha definitiva ao processar o lote ap√≥s ${attempt} tentativa(s).`,\n            {\n              errorMessage: error.message,\n              batchSize: batch.length,\n            }\n          );\n        } else {\n          // Se ainda h√° tentativas, avisa e aguarda o delay para tentar novamente.\n          this.#logger.warn(\n            `Falha na tentativa ${attempt} de processar o lote. Tentando novamente em ${\n              this.#retryDelayMs\n            }ms...`,\n            {\n              errorMessage: error.message,\n            }\n          );\n          await new Promise((resolve) =>\n            setTimeout(resolve, this.#retryDelayMs)\n          );\n        }\n      }\n    }\n\n    // --- P√≥s-processamento do Lote ---\n\n    // Se um erro persistiu ap√≥s todas as retries, aciona o callback de falha definitiva.\n    // Este √© o gancho para o usu√°rio implementar uma \"dead-letter queue\".\n    if (lastError && this.#callbacks.onFlushFailure) {\n      try {\n        await this.#callbacks.onFlushFailure({\n          batch,\n          error: lastError,\n          payload: this.#payload,\n          serviceContext: this.#serviceContext,\n          logger: this.#logger,\n        });\n        this.#logger.info(\n          `Callback onFlushFailure executado para o lote com falha.`\n        );\n      } catch (failureCallbackError) {\n        // Seguran√ßa: captura erros no pr√≥prio callback de falha para n√£o quebrar o processador.\n        this.#logger.error(`Erro CR√çTICO no pr√≥prio callback onFlushFailure.`, {\n          errorMessage: failureCallbackError.message,\n        });\n      }\n    }\n\n    // --- Finaliza√ß√£o e Reativa√ß√£o ---\n\n    // Decrementa o contador de opera√ß√µes ativas, liberando um slot de concorr√™ncia.\n    this.#activeFlushes--;\n    this.#logger.info(\n      `Processamento de lote finalizado. Ativos: ${this.#activeFlushes}`\n    );\n    // Dispara um novo ciclo de flush. Esta chamada reativa √© a chave para manter\n    // o processador funcionando em capacidade m√°xima, preenchendo o slot que acabou de ser liberado.\n    this.flush();\n  }\n\n  /**\n   * Finaliza o processador, garantindo que todos os itens pendentes sejam processados.\n   * Este m√©todo √© idempotente (seguro para ser chamado m√∫ltiplas vezes) e DEVE ser\n   * invocado ao final do ciclo de vida da aplica√ß√£o para evitar perda de dados.\n   *\n   * @param {number} [forceTimeoutMs=30000] - Tempo m√°ximo em milissegundos para aguardar a\n   * finaliza√ß√£o dos lotes em processamento. Se o tempo for excedido, o processo √©\n   * encerrado e um aviso √© logado com os itens restantes.\n   * @returns {Promise<void>} Uma promessa que resolve quando todos os itens forem\n   * processados ou quando o timeout for atingido.\n   */\n  async end(forceTimeoutMs = 30000) {\n    // Garante que a l√≥gica de finaliza√ß√£o execute apenas uma vez.\n    if (this.#isEnding) {\n      return;\n    }\n    // Sinaliza para outras partes do processador (como o m√©todo `add`) que o desligamento come√ßou.\n    this.#isEnding = true;\n    const endStartTime = Date.now();\n\n    this.#logger.info(\"Finalizando o processador...\", {\n      itemsNoBuffer: this.#buffer.length,\n      activeFlushes: this.#activeFlushes,\n    });\n\n    // Executa o callback de finaliza√ß√£o do usu√°rio, se fornecido.\n    if (this.#callbacks.onEnd) {\n      try {\n        await this.#callbacks.onEnd({\n          /* ... */\n        });\n      } catch (error) {\n        this.#logger.error(`Erro no callback onEnd.`, {\n          errorMessage: error.message,\n        });\n      }\n    }\n\n    // Dispara um √∫ltimo ciclo de flush para processar qualquer item restante no buffer.\n    this.flush();\n\n    // Aguarda o \"esvaziamento\" do processador, respeitando o timeout.\n    // O la√ßo continua enquanto houver itens no buffer ou opera√ß√µes de flush ativas.\n    while (\n      (this.#buffer.length > 0 || this.#activeFlushes > 0) &&\n      Date.now() - endStartTime < forceTimeoutMs\n    ) {\n      await new Promise((resolve) => setTimeout(resolve, 50));\n    }\n\n    // Se o la√ßo terminou mas ainda h√° trabalho pendente, significa que o timeout foi atingido.\n    if (this.#buffer.length > 0 || this.#activeFlushes > 0) {\n      this.#logger.warn(\n        \"Finaliza√ß√£o for√ßada por timeout. Itens n√£o processados foram descartados.\",\n        {\n          remainingItems: this.#buffer.length,\n          activeFlushes: this.#activeFlushes,\n        }\n      );\n    }\n\n    this.#logger.info(\"Processador finalizado.\");\n  }\n}\n\n// =================================================================================================\n// Exporta√ß√£o da classe para o sistema de m√≥dulos do Node.js (CommonJS).\n// Permite que a classe seja importada e instanciada em outros arquivos via `require` ou `import`.\n// =================================================================================================\nexport default BulkProcessor;","/**\n * @fileoverview Fornece uma classe para gerenciar estados de espera ass√≠ncronos (Promises).\n * @description Este m√≥dulo exporta uma inst√¢ncia √∫nica (singleton) da WaitPlugin.\n */\n\n/**\n * @class WaitPlugin\n * @summary Gerencia a cria√ß√£o e resolu√ß√£o de Promises \"on-demand\".\n * @description Utiliza um Map internamente para m√°xima performance em adi√ß√µes e remo√ß√µes,\n * enquanto exp√µe a lista de esperas como um Objeto para compatibilidade e depura√ß√£o.\n */\nclass WaitPlugin {\n  \n  /**\n   * Inicializa o plugin.\n   * @constructor\n   */\n  constructor() {\n    /**\n     * Armazena as esperas ativas. √â um Map privado para performance.\n     * @private\n     * @type {Map<string, {promise: Promise<any>, resolve: Function, reject: Function}>}\n     */\n    this._waitList = new Map();\n  }\n\n  /**\n   * Getter p√∫blico para a lista de esperas.\n   * @description Converte o Map interno em um Objeto simples para fins de compatibilidade\n   * com testes ou para facilitar a depura√ß√£o.\n   * @returns {Object<string, {promise: Promise<any>, resolve: Function, reject: Function}>}\n   */\n  get waitList() {\n    return Object.fromEntries(this._waitList);\n  }\n\n  // ----------------------------------------------------------------------------------------------\n\n  /**\n   * Finaliza uma espera, resolvendo ou rejeitando a Promise correspondente.\n   *\n   * @param {string} name - O nome √∫nico da espera a ser finalizada.\n   * @param {boolean} [isSuccessful=true] - Se `true`, a Promise ser√° resolvida. Se `false`, ser√° rejeitada.\n   * @param {*} [returnParam] - O valor a ser passado para o `resolve` ou `reject` da Promise.\n   * @returns {any} Retorna `false` se a espera n√£o existir. Em caso de erro interno, retorna o\n   * pr√≥prio objeto de erro. Em sucesso, o retorno √© indefinido.\n   */\n  finishWait(name, isSuccessful = true, returnParam) {\n    try {\n      const waitItem = this._waitList.get(name);\n      if (!waitItem) {\n        return false;\n      }\n\n      if (isSuccessful) {\n        waitItem.resolve(returnParam);\n      } else {\n        waitItem.reject(returnParam);\n      }\n    } catch (error) {\n      return error;\n    } finally {\n      // A opera√ß√£o delete do Map √© segura e perform√°tica.\n      this._waitList.delete(name);\n    }\n  }\n\n  // ----------------------------------------------------------------------------------------------\n\n  /**\n   * Inicia uma nova espera e retorna uma Promise associada a ela.\n   *\n   * @param {string} name - O nome √∫nico para a nova espera.\n   * @returns {Promise<any>|undefined} Retorna a Promise que aguardar√° a finaliza√ß√£o.\n   * Retorna `undefined` se uma espera com o mesmo nome j√° existir.\n   */\n  startWait(name) {\n    if (this._waitList.has(name)) {\n      return;\n    }\n    \n    let resolve, reject;\n    const promise = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    \n    this._waitList.set(name, { promise, resolve, reject });\n    \n    return promise;\n  }\n\n  // ----------------------------------------------------------------------------------------------\n\n  /**\n   * Finaliza todas as esperas ativas de uma s√≥ vez.\n   *\n   * @param {boolean} isSuccessful - Se `true`, todas as Promises ser√£o resolvidas. Se `false`, ser√£o rejeitadas.\n   * @param {*} [returnParam] - O valor a ser passado para cada `resolve` ou `reject`.\n   */\n  finishAll(isSuccessful, returnParam) {\n    // Cria uma c√≥pia das chaves antes de iterar. √â a forma mais segura de\n    // modificar uma cole√ß√£o (neste caso, o Map) enquanto ela est√° sendo percorrida.\n    const allWaitKeys = Array.from(this._waitList.keys());\n    \n    for (const key of allWaitKeys) {\n      this.finishWait(key, isSuccessful, returnParam);\n    }\n  }\n\n  // ----------------------------------------------------------------------------------------------\n}\n\n// ------------------------------------------------------------------------------------------------\n\n/**\n * Inst√¢ncia √∫nica (singleton) do WaitPlugin.\n * @type {WaitPlugin}\n */\nconst WP = new WaitPlugin();\n\n// ------------------------------------------------------------------------------------------------\n\nexport default WP;","// 1. Importa tudo que ser√° exportado.\n//    Usamos 'import * as' para agrupar as fun√ß√µes do sequelize em um √∫nico objeto 'db'.\nimport * as db from \"./db/sequelize/index.js\";\nimport waitPlugin from \"./waitPlugin.js\";\nimport bulkProcessor from \"./bulkProcessor.js\";\n\n// 2. Exporta cada item como uma exporta√ß√£o nomeada.\n//    Isso permite o uso de: import { db, waitPlugin } from '...'\nexport {\n  db,\n  waitPlugin,\n  bulkProcessor\n};\n\n// 3. Agrupa tudo em um objeto e exporta como `default`.\n//    Isso permite o uso de: import custom from '...'; custom.waitPlugin\nexport default {\n  db,\n  waitPlugin,\n  bulkProcessor,\n};","// src/index.js\n\n// --- PASSO 1: Exporta√ß√µes Nomeadas para Fun√ß√µes Individuais ---\n// Re-exporta todas as fun√ß√µes de cada sub-m√≥dulo.\n// Isso garante que `import { assign, validateCPF } from 'misc-helpers'` funcione.\nexport * from \"./helpers/index.js\";\nexport * from \"./utils/index.js\";\nexport * from \"./validators/index.js\";\nexport * from \"./crypto/index.js\";\nexport * from \"./auth/webauthn/index.js\";\nexport * from \"./custom/db/sequelize/index.js\";\nexport { default as bulkProcessor } from \"./custom/bulkProcessor.js\";\nexport { default as waitPlugin } from \"./custom/waitPlugin.js\";\n\n// --- PASSO 2: Exporta√ß√µes Nomeadas para Categorias ---\n// Importa cada categoria e a exporta como um objeto nomeado.\n// Isso garante que `import { custom, helpers } from 'misc-helpers'` funcione.\nimport * as authNamespace from \"./auth/webauthn/index.js\";\nimport * as constantsNamespace from \"./constants.js\";\nimport * as cryptoNamespace from \"./crypto/index.js\";\nimport * as customNamespace from \"./custom/index.js\";\nimport * as helpersNamespace from \"./helpers/index.js\";\nimport * as utilsNamespace from \"./utils/index.js\";\nimport * as validatorsNamespace from \"./validators/index.js\";\n\nexport const auth = { webAuthn: authNamespace };\nexport const constants = constantsNamespace;\nexport const crypto = cryptoNamespace;\nexport const custom = {\n  db: {\n    sequelize: {\n      ...customNamespace.db,\n    },\n  },\n  waitPlugin: customNamespace.waitPlugin,\n  bulkProcessor: customNamespace.bulkProcessor,\n};\nexport const helpers = helpersNamespace;\nexport const utils = utilsNamespace;\nexport const validators = validatorsNamespace;\n\n// --- PASSO 3: Exporta√ß√£o Padr√£o (Default) ---\n// Agrupa tudo em um √∫nico objeto para a exporta√ß√£o padr√£o.\n// Isso garante que `import miscHelpers from 'misc-helpers'` funcione.\nconst miscHelpers = {\n  auth: authNamespace,\n  constants: constantsNamespace,\n  crypto: cryptoNamespace,\n  custom: customNamespace,\n  helpers: helpersNamespace,\n  utils: utilsNamespace,\n  validators: validatorsNamespace,\n};\n\nexport default miscHelpers;"],"mappings":"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","names":["defaultValue","defaultValue","clone","require","format","crypto","crypto","format","format","crypto","strToU8","strFromU8","format","_calculateVerifierDigit","format","crypto","crypto","format","crypto","crypto","crypto","decode","payload","crypto"]}