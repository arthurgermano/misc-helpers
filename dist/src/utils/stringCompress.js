const{compressSync:compressSync,strToU8:strToU8,strFromU8:strFromU8}=require("fflate"),base64To=require("./base64To");function stringCompress(e,r=!1,o={}){return new Promise(((s,t)=>{try{if(!e)return s("");const t=strToU8(e),n=compressSync(t,{level:o.level,mem:o.men});if(!r){const e=n.join(",");return"undefined"==typeof window?s(Buffer.from(e).toString("base64")):s(btoa(e))}s(n)}catch(e){t(e)}}))}module.exports=stringCompress;