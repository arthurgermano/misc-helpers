const{zlibSync:zlibSync,strToU8:strToU8,strFromU8:strFromU8}=require("fflate"),base64To=require("./base64To");function stringZLibCompress(r,e=!1,t=9,o=4){return new Promise(((s,n)=>{try{if(!r)return s("");const n=strToU8(r),i=zlibSync(n,{level:t,mem:o});if(!e){if("undefined"==typeof window)return s(Buffer.from(i).toString("base64"));const r=strFromU8(i,!0);return s(btoa(r))}s(i)}catch(r){n(r)}}))}module.exports=stringZLibCompress;