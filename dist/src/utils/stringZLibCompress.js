const{zlibSync:zlibSync,strToU8:strToU8,strFromU8:strFromU8}=require("fflate"),base64To=require("./base64To");function stringZLibCompress(e,r=!1,o={}){return new Promise(((t,n)=>{try{if(!e)return t("");const n=strToU8(e),s=zlibSync(n,{level:o.level,mem:o.mem});if(!r){const e=s.join(",");return"undefined"==typeof window?t(Buffer.from(e).toString("base64")):t(btoa(e))}t(s)}catch(e){n(e)}}))}module.exports=stringZLibCompress;